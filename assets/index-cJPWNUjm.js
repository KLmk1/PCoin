(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function $v(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vd={exports:{}},co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function tS(){if(f_)return co;f_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return co.Fragment=e,co.jsx=n,co.jsxs=n,co}var d_;function nS(){return d_||(d_=1,vd.exports=tS()),vd.exports}var _e=nS(),Ed={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function iS(){if(m_)return Re;m_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,K={};function j(O,Z,ce){this.props=O,this.context=Z,this.refs=K,this.updater=ce||P}j.prototype.isReactComponent={},j.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=j.prototype;function te(O,Z,ce){this.props=O,this.context=Z,this.refs=K,this.updater=ce||P}var ee=te.prototype=new $;ee.constructor=te,B(ee,j.prototype),ee.isPureReactComponent=!0;var pe=Array.isArray,oe={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function V(O,Z,ce,re,se,Ce){return ce=Ce.ref,{$$typeof:r,type:O,key:Z,ref:ce!==void 0?ce:null,props:Ce}}function w(O,Z){return V(O.type,Z,void 0,void 0,void 0,O.props)}function S(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function I(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return Z[ce]})}var M=/\/+/g;function L(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):Z.toString(36)}function D(){}function _t(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ft(O,Z,ce,re,se){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case r:case e:we=!0;break;case T:return we=O._init,ft(we(O._payload),Z,ce,re,se)}}if(we)return se=se(O),we=re===""?"."+L(O,0):re,pe(se)?(ce="",we!=null&&(ce=we.replace(M,"$&/")+"/"),ft(se,Z,ce,"",function(it){return it})):se!=null&&(S(se)&&(se=w(se,ce+(se.key==null||O&&O.key===se.key?"":(""+se.key).replace(M,"$&/")+"/")+we)),Z.push(se)),1;we=0;var dt=re===""?".":re+":";if(pe(O))for(var ze=0;ze<O.length;ze++)re=O[ze],Ce=dt+L(re,ze),we+=ft(re,Z,ce,Ce,se);else if(ze=C(O),typeof ze=="function")for(O=ze.call(O),ze=0;!(re=O.next()).done;)re=re.value,Ce=dt+L(re,ze++),we+=ft(re,Z,ce,Ce,se);else if(Ce==="object"){if(typeof O.then=="function")return ft(_t(O),Z,ce,re,se);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return we}function ie(O,Z,ce){if(O==null)return O;var re=[],se=0;return ft(O,re,"","",function(Ce){return Z.call(ce,Ce,se++)}),re}function ye(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var fe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qe(){}return Re.Children={map:ie,forEach:function(O,Z,ce){ie(O,function(){Z.apply(this,arguments)},ce)},count:function(O){var Z=0;return ie(O,function(){Z++}),Z},toArray:function(O){return ie(O,function(Z){return Z})||[]},only:function(O){if(!S(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=j,Re.Fragment=n,Re.Profiler=l,Re.PureComponent=te,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,Z,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=B({},O.props),se=O.key,Ce=void 0;if(Z!=null)for(we in Z.ref!==void 0&&(Ce=void 0),Z.key!==void 0&&(se=""+Z.key),Z)!be.call(Z,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Z.ref===void 0||(re[we]=Z[we]);var we=arguments.length-2;if(we===1)re.children=ce;else if(1<we){for(var dt=Array(we),ze=0;ze<we;ze++)dt[ze]=arguments[ze+2];re.children=dt}return V(O.type,se,void 0,void 0,Ce,re)},Re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,Z,ce){var re,se={},Ce=null;if(Z!=null)for(re in Z.key!==void 0&&(Ce=""+Z.key),Z)be.call(Z,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(se[re]=Z[re]);var we=arguments.length-2;if(we===1)se.children=ce;else if(1<we){for(var dt=Array(we),ze=0;ze<we;ze++)dt[ze]=arguments[ze+2];se.children=dt}if(O&&O.defaultProps)for(re in we=O.defaultProps,we)se[re]===void 0&&(se[re]=we[re]);return V(O,Ce,void 0,void 0,null,se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=S,Re.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ye}},Re.memo=function(O,Z){return{$$typeof:y,type:O,compare:Z===void 0?null:Z}},Re.startTransition=function(O){var Z=oe.T,ce={};oe.T=ce;try{var re=O(),se=oe.S;se!==null&&se(ce,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(qe,fe)}catch(Ce){fe(Ce)}finally{oe.T=Z}},Re.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Re.use=function(O){return oe.H.use(O)},Re.useActionState=function(O,Z,ce){return oe.H.useActionState(O,Z,ce)},Re.useCallback=function(O,Z){return oe.H.useCallback(O,Z)},Re.useContext=function(O){return oe.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,Z){return oe.H.useDeferredValue(O,Z)},Re.useEffect=function(O,Z){return oe.H.useEffect(O,Z)},Re.useId=function(){return oe.H.useId()},Re.useImperativeHandle=function(O,Z,ce){return oe.H.useImperativeHandle(O,Z,ce)},Re.useInsertionEffect=function(O,Z){return oe.H.useInsertionEffect(O,Z)},Re.useLayoutEffect=function(O,Z){return oe.H.useLayoutEffect(O,Z)},Re.useMemo=function(O,Z){return oe.H.useMemo(O,Z)},Re.useOptimistic=function(O,Z){return oe.H.useOptimistic(O,Z)},Re.useReducer=function(O,Z,ce){return oe.H.useReducer(O,Z,ce)},Re.useRef=function(O){return oe.H.useRef(O)},Re.useState=function(O){return oe.H.useState(O)},Re.useSyncExternalStore=function(O,Z,ce){return oe.H.useSyncExternalStore(O,Z,ce)},Re.useTransition=function(){return oe.H.useTransition()},Re.version="19.0.0",Re}var p_;function fm(){return p_||(p_=1,Ed.exports=iS()),Ed.exports}var Q=fm();const rS=$v(Q);var Td={exports:{}},ho={},Ad={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function sS(){return g_||(g_=1,function(r){function e(ie,ye){var fe=ie.length;ie.push(ye);e:for(;0<fe;){var qe=fe-1>>>1,O=ie[qe];if(0<l(O,ye))ie[qe]=ye,ie[fe]=O,fe=qe;else break e}}function n(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ye=ie[0],fe=ie.pop();if(fe!==ye){ie[0]=fe;e:for(var qe=0,O=ie.length,Z=O>>>1;qe<Z;){var ce=2*(qe+1)-1,re=ie[ce],se=ce+1,Ce=ie[se];if(0>l(re,fe))se<O&&0>l(Ce,re)?(ie[qe]=Ce,ie[se]=fe,qe=se):(ie[qe]=re,ie[ce]=fe,qe=ce);else if(se<O&&0>l(Ce,fe))ie[qe]=Ce,ie[se]=fe,qe=se;else break e}}return ye}function l(ie,ye){var fe=ie.sortIndex-ye.sortIndex;return fe!==0?fe:ie.id-ye.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],T=1,b=null,C=3,P=!1,B=!1,K=!1,j=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ee(ie){for(var ye=n(y);ye!==null;){if(ye.callback===null)s(y);else if(ye.startTime<=ie)s(y),ye.sortIndex=ye.expirationTime,e(g,ye);else break;ye=n(y)}}function pe(ie){if(K=!1,ee(ie),!B)if(n(g)!==null)B=!0,_t();else{var ye=n(y);ye!==null&&ft(pe,ye.startTime-ie)}}var oe=!1,be=-1,V=5,w=-1;function S(){return!(r.unstable_now()-w<V)}function I(){if(oe){var ie=r.unstable_now();w=ie;var ye=!0;try{e:{B=!1,K&&(K=!1,$(be),be=-1),P=!0;var fe=C;try{t:{for(ee(ie),b=n(g);b!==null&&!(b.expirationTime>ie&&S());){var qe=b.callback;if(typeof qe=="function"){b.callback=null,C=b.priorityLevel;var O=qe(b.expirationTime<=ie);if(ie=r.unstable_now(),typeof O=="function"){b.callback=O,ee(ie),ye=!0;break t}b===n(g)&&s(g),ee(ie)}else s(g);b=n(g)}if(b!==null)ye=!0;else{var Z=n(y);Z!==null&&ft(pe,Z.startTime-ie),ye=!1}}break e}finally{b=null,C=fe,P=!1}ye=void 0}}finally{ye?M():oe=!1}}}var M;if(typeof te=="function")M=function(){te(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,D=L.port2;L.port1.onmessage=I,M=function(){D.postMessage(null)}}else M=function(){j(I,0)};function _t(){oe||(oe=!0,M())}function ft(ie,ye){be=j(function(){ie(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){B||P||(B=!0,_t())},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(ie){switch(C){case 1:case 2:case 3:var ye=3;break;default:ye=C}var fe=C;C=ye;try{return ie()}finally{C=fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var fe=C;C=ie;try{return ye()}finally{C=fe}},r.unstable_scheduleCallback=function(ie,ye,fe){var qe=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?qe+fe:qe):fe=qe,ie){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=fe+O,ie={id:T++,callback:ye,priorityLevel:ie,startTime:fe,expirationTime:O,sortIndex:-1},fe>qe?(ie.sortIndex=fe,e(y,ie),n(g)===null&&ie===n(y)&&(K?($(be),be=-1):K=!0,ft(pe,fe-qe))):(ie.sortIndex=O,e(g,ie),B||P||(B=!0,_t())),ie},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(ie){var ye=C;return function(){var fe=C;C=ye;try{return ie.apply(this,arguments)}finally{C=fe}}}}(Sd)),Sd}var y_;function aS(){return y_||(y_=1,Ad.exports=sS()),Ad.exports}var bd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function lS(){if(__)return Gt;__=1;var r=fm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,T)},Gt.flushSync=function(g){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=T,s.d.f()}},Gt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Gt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Gt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:P}):T==="script"&&s.d.X(g,{crossOrigin:b,integrity:C,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Gt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin);s.d.L(g,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Gt.requestFormReset=function(g){s.d.r(g)},Gt.unstable_batchedUpdates=function(g,y){return g(y)},Gt.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.0.0",Gt}var v_;function oS(){if(v_)return bd.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bd.exports=lS(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function uS(){if(E_)return ho;E_=1;var r=aS(),e=fm(),n=oS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),P=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function be(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case B:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return i=t.displayName||null,i!==null?i:w(t.type)||"Memo";case te:i=t._payload,t=t._init;try{return w(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,M,L;function D(t){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||"",L=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+L}var _t=!1;function ft(t,i){if(!t||_t)return"";_t=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var H=F}Reflect.construct(t,[],W)}else{try{W.call()}catch(F){H=F}t.call(W.prototype)}}else{try{throw Error()}catch(F){H=F}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var R=v.split(`
`),x=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===x.length)for(o=R.length-1,h=x.length-1;1<=o&&0<=h&&R[o]!==x[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==x[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==x[h]){var G=`
`+R[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{_t=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function ie(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=ft(t.type,!1),t;case 11:return t=ft(t.type.render,!1),t;case 1:return t=ft(t.type,!0),t;default:return""}}function ye(t){try{var i="";do i+=ie(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fe(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function qe(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function O(t){if(fe(t)!==t)throw Error(s(188))}function Z(t){var i=t.alternate;if(!i){if(i=fe(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===o)return O(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function ce(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=ce(t),i!==null)return i;t=t.sibling}return null}var re=Array.isArray,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},we=[],dt=-1;function ze(t){return{current:t}}function it(t){0>dt||(t.current=we[dt],we[dt]=null,dt--)}function Qe(t,i){dt++,we[dt]=t.current,t.current=i}var Xt=ze(null),mi=ze(null),mn=ze(null),Ji=ze(null);function er(t,i){switch(Qe(mn,i),Qe(mi,t),Qe(Xt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Hy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Hy(t),i=jy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}it(Xt),Qe(Xt,i)}function pi(){it(Xt),it(mi),it(mn)}function sl(t){t.memoizedState!==null&&Qe(Ji,t);var i=Xt.current,a=jy(i,t.type);i!==a&&(Qe(mi,t),Qe(Xt,a))}function Fs(t){mi.current===t&&(it(Xt),it(mi)),Ji.current===t&&(it(Ji),so._currentValue=Ce)}var Gs=Object.prototype.hasOwnProperty,Jr=r.unstable_scheduleCallback,Qs=r.unstable_cancelCallback,Eh=r.unstable_shouldYield,al=r.unstable_requestPaint,nn=r.unstable_now,$o=r.unstable_getCurrentPriorityLevel,vt=r.unstable_ImmediatePriority,It=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,Xo=r.unstable_LowPriority,ll=r.unstable_IdlePriority,Th=r.log,es=r.unstable_setDisableYieldValue,tr=null,qt=null;function ol(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(tr,t,void 0,(t.current.flags&128)===128)}catch{}}function qn(t){if(typeof Th=="function"&&es(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(tr,t)}catch{}}var Wt=Math.clz32?Math.clz32:Zo,ul=Math.log,Wo=Math.LN2;function Zo(t){return t>>>=0,t===0?32:31-(ul(t)/Wo|0)|0}var Fn=128,nr=4194304;function xn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pn(t,i){var a=t.pendingLanes;if(a===0)return 0;var o=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?o=xn(a):(d&=E,d!==0?o=xn(d):t||(v=E&~v,v!==0&&(o=xn(v))))):(E=a&~h,E!==0?o=xn(E):d!==0?o=xn(d):t||(v=a&~v,v!==0&&(o=xn(v)))),o===0?0:i!==0&&i!==o&&!(i&h)&&(h=o&-o,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:o}function ir(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ks(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var t=Fn;return Fn<<=1,!(Fn&4194176)&&(Fn=128),t}function rr(){var t=nr;return nr<<=1,!(nr&62914560)&&(nr=4194304),t}function Ys(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ut(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jo(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,x=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Wt(a),W=1<<G;E[G]=0,R[G]=-1;var H=x[G];if(H!==null)for(x[G]=null,G=0;G<H.length;G++){var F=H[G];F!==null&&(F.lane&=-536870913)}a&=~W}o!==0&&sr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Wt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function ar(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Wt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function eu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function tu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:a_(t.type))}function lr(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Gn,Et="__reactProps$"+Gn,yi="__reactContainer$"+Gn,ts="__reactEvents$"+Gn,$s="__reactListeners$"+Gn,Qn="__reactHandles$"+Gn,hl="__reactResources$"+Gn,or="__reactMarker$"+Gn;function ns(t){delete t[Dt],delete t[Et],delete t[ts],delete t[$s],delete t[Qn]}function Pn(t){var i=t[Dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yi]||a[Dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Gy(t);t!==null;){if(a=t[Dt])return a;t=Gy(t)}return i}t=a,a=t.parentNode}return null}function _i(t){if(t=t[Dt]||t[yi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ur(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function cr(t){var i=t[hl];return i||(i=t[hl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(t){t[or]=!0}var fl=new Set,Xs={};function ln(t,i){rn(t,i),rn(t+"Capture",i)}function rn(t,i){for(Xs[t]=i,t=0;t<i.length;t++)fl.add(i[t])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ah=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},ml={};function nu(t){return Gs.call(ml,t)?!0:Gs.call(dl,t)?!1:Ah.test(t)?ml[t]=!0:(dl[t]=!0,!1)}function hr(t,i,a){if(nu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function fr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function gn(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Sh(t){var i=iu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function is(t){t._valueTracker||(t._valueTracker=Sh(t))}function pl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=iu(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vi=/[\n"\\]/g;function rt(t){return t.replace(vi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function dr(t,i,a,o,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Zs(t,v,Zt(i)):a!=null?Zs(t,v,Zt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Zt(E):t.removeAttribute("name")}function rs(t,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Zs(t,i,a){i==="number"&&Ws(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Be(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ss(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function mr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function yn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||bh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ru(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&gl(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&gl(t,d,i[d])}function yl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kn(t){return Rh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _n=null;function Js(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ei=null,Ti=null;function Ai(t){var i=_i(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(dr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Et]||null;if(!h)throw Error(s(90));dr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&pl(o)}break e;case"textarea":ss(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Be(t,!!a.multiple,i,!1)}}}var _l=!1;function su(t,i,a){if(_l)return t(i,a);_l=!0;try{var o=t(i);return o}finally{if(_l=!1,(Ei!==null||Ti!==null)&&(Xu(),Ei&&(i=Ei,t=Ti,Ti=Ei=null,Ai(i),t)))for(i=0;i<t.length;i++)Ai(t[i])}}function as(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Et]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var vn=!1;if(on)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){vn=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{vn=!1}var Yn=null,pr=null,Si=null;function vl(){if(Si)return Si;var t,i=pr,a=i.length,o,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Si=h.slice(t,1<o?1-o:void 0)}function $n(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function El(){return!1}function Ot(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:El,this.isPropagationStopped=El,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Ot(Fe),os=I({},Fe,{view:0,detail:0}),au=Ot(os),ta,na,Wn,us=I({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(ta=t.screenX-Wn.screenX,na=t.screenY-Wn.screenY):na=ta=0,Wn=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:na}}),En=Ot(us),lu=I({},us,{dataTransfer:0}),Ch=Ot(lu),cs=I({},os,{relatedTarget:0}),ia=Ot(cs),Tl=I({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ra=Ot(Tl),ou=I({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sa=Ot(ou),Ih=I({},Fe,{data:0}),Al=Ot(Ih),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=cu[t])?!!i[t]:!1}function fs(){return Sl}var hu=I({},os,{key:function(t){if(t.key){var i=hs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$n(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(t){return t.type==="keypress"?$n(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$n(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aa=Ot(hu),fu=I({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Ot(fu),bi=I({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),du=Ot(bi),mu=I({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=Ot(mu),gu=I({},us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),la=Ot(gu),Jt=I({},Fe,{newState:0,oldState:0}),yu=Ot(Jt),_u=[9,13,27,32],Zn=on&&"CompositionEvent"in window,c=null;on&&"documentMode"in document&&(c=document.documentMode);var p=on&&"TextEvent"in window&&!c,_=on&&(!Zn||c&&8<c&&11>=c),A=" ",U=!1;function q(t,i){switch(t){case"keyup":return _u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Tt(t,i){switch(t){case"compositionend":return ne(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function ke(t,i){if(Pe)return t==="compositionend"||!Zn&&q(t,i)?(t=vl(),Si=pr=Yn=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Nt[t.type]:i==="textarea"}function wi(t,i,a,o){Ei?Ti?Ti.push(o):Ti=[o]:Ei=o,i=tc(i,"onChange"),0<i.length&&(a=new ea("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var kt=null,Jn=null;function wl(t){ky(t,0)}function vu(t){var i=ur(t);if(pl(i))return t}function hp(t,i){if(t==="change")return i}var fp=!1;if(on){var Dh;if(on){var Oh="oninput"in document;if(!Oh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Oh=typeof dp.oninput=="function"}Dh=Oh}else Dh=!1;fp=Dh&&(!document.documentMode||9<document.documentMode)}function mp(){kt&&(kt.detachEvent("onpropertychange",pp),Jn=kt=null)}function pp(t){if(t.propertyName==="value"&&vu(Jn)){var i=[];wi(i,Jn,t,Js(t)),su(wl,i)}}function N0(t,i,a){t==="focusin"?(mp(),kt=i,Jn=a,kt.attachEvent("onpropertychange",pp)):t==="focusout"&&mp()}function V0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vu(Jn)}function M0(t,i){if(t==="click")return vu(i)}function x0(t,i){if(t==="input"||t==="change")return vu(i)}function P0(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var un=typeof Object.is=="function"?Object.is:P0;function Rl(t,i){if(un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Gs.call(i,h)||!un(t[h],i[h]))return!1}return!0}function gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yp(t,i){var a=gp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gp(a)}}function _p(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?_p(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ws(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ws(t.document)}return i}function Nh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function k0(t,i){var a=vp(i);i=t.focusedElem;var o=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&_p(i.ownerDocument.documentElement,i)){if(o!==null&&Nh(i)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!a.extend&&d>o&&(h=o,o=d,d=h),h=yp(i,d);var v=yp(i,o);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>o?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var U0=on&&"documentMode"in document&&11>=document.documentMode,oa=null,Vh=null,Cl=null,Mh=!1;function Ep(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mh||oa==null||oa!==Ws(o)||(o=oa,"selectionStart"in o&&Nh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Cl&&Rl(Cl,o)||(Cl=o,o=tc(Vh,"onSelect"),0<o.length&&(i=new ea("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=oa)))}function ds(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ua={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},xh={},Tp={};on&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ms(t){if(xh[t])return xh[t];if(!ua[t])return t;var i=ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tp)return xh[t]=i[a];return t}var Ap=ms("animationend"),Sp=ms("animationiteration"),bp=ms("animationstart"),L0=ms("transitionrun"),z0=ms("transitionstart"),B0=ms("transitioncancel"),wp=ms("transitionend"),Rp=new Map,Cp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kn(t,i){Rp.set(t,i),ln(i,[t])}var Tn=[],ca=0,Ph=0;function Eu(){for(var t=ca,i=Ph=ca=0;i<t;){var a=Tn[i];Tn[i++]=null;var o=Tn[i];Tn[i++]=null;var h=Tn[i];Tn[i++]=null;var d=Tn[i];if(Tn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Ip(a,h,d)}}function Tu(t,i,a,o){Tn[ca++]=t,Tn[ca++]=i,Tn[ca++]=a,Tn[ca++]=o,Ph|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function kh(t,i,a,o){return Tu(t,i,a,o),Au(t)}function gr(t,i){return Tu(t,null,null,i),Au(t)}function Ip(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Wt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Au(t){if(50<Zl)throw Zl=0,qf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ha={},Dp=new WeakMap;function An(t,i){if(typeof t=="object"&&t!==null){var a=Dp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ye(i)},Dp.set(t,i),i)}return{value:t,source:i,stack:ye(i)}}var fa=[],da=0,Su=null,bu=0,Sn=[],bn=0,ps=null,Ri=1,Ci="";function gs(t,i){fa[da++]=bu,fa[da++]=Su,Su=t,bu=i}function Op(t,i,a){Sn[bn++]=Ri,Sn[bn++]=Ci,Sn[bn++]=ps,ps=t;var o=Ri;t=Ci;var h=32-Wt(o)-1;o&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ri=1<<32-Wt(i)+h|a<<h|o,Ci=d+t}else Ri=1<<d|a<<h|o,Ci=t}function Uh(t){t.return!==null&&(gs(t,1),Op(t,1,0))}function Lh(t){for(;t===Su;)Su=fa[--da],fa[da]=null,bu=fa[--da],fa[da]=null;for(;t===ps;)ps=Sn[--bn],Sn[bn]=null,Ci=Sn[--bn],Sn[bn]=null,Ri=Sn[--bn],Sn[bn]=null}var en=null,Ut=null,He=!1,Un=null,ei=!1,zh=Error(s(519));function ys(t){var i=Error(s(418,""));throw Ol(An(i,t)),zh}function Np(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Dt]=t,i[Et]=o,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<eo.length;a++)xe(eo[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),rs(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),is(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),mr(i,o.value,o.defaultValue,o.children),is(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||By(i.textContent,a)?(o.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),o.onScroll!=null&&xe("scroll",i),o.onScrollEnd!=null&&xe("scrollend",i),o.onClick!=null&&(i.onclick=nc),i=!0):i=!1,i||ys(t)}function Vp(t){for(en=t.return;en;)switch(en.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:en=en.return}}function Il(t){if(t!==en)return!1;if(!He)return Vp(t),He=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ad(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Ut&&ys(t),Vp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ut=zn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ut=null}}else Ut=en?zn(t.stateNode.nextSibling):null;return!0}function Dl(){Ut=en=null,He=!1}function Ol(t){Un===null?Un=[t]:Un.push(t)}var Nl=Error(s(460)),Mp=Error(s(474)),Bh={then:function(){}};function xp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wu(){}function Pp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(wu,wu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Nl?Error(s(483)):t;default:if(typeof i.status=="string")i.then(wu,wu);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Nl?Error(s(483)):t}throw Vl=i,Nl}}var Vl=null;function kp(){if(Vl===null)throw Error(s(459));var t=Vl;return Vl=null,t}var ma=null,Ml=0;function Ru(t){var i=Ml;return Ml+=1,ma===null&&(ma=[]),Pp(ma,t,i)}function xl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Cu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Up(t){var i=t._init;return i(t._payload)}function Lp(t){function i(k,N){if(t){var z=k.deletions;z===null?(k.deletions=[N],k.flags|=16):z.push(N)}}function a(k,N){if(!t)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Ir(k,N),k.index=0,k.sibling=null,k}function d(k,N,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<N?(k.flags|=33554434,N):z):(k.flags|=33554434,N)):(k.flags|=1048576,N)}function v(k){return t&&k.alternate===null&&(k.flags|=33554434),k}function E(k,N,z,Y){return N===null||N.tag!==6?(N=Pf(z,k.mode,Y),N.return=k,N):(N=h(N,z),N.return=k,N)}function R(k,N,z,Y){var le=z.type;return le===g?G(k,N,z.props.children,Y,z.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===te&&Up(le)===N.type)?(N=h(N,z.props),xl(N,z),N.return=k,N):(N=Gu(z.type,z.key,z.props,null,k.mode,Y),xl(N,z),N.return=k,N)}function x(k,N,z,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=kf(z,k.mode,Y),N.return=k,N):(N=h(N,z.children||[]),N.return=k,N)}function G(k,N,z,Y,le){return N===null||N.tag!==7?(N=Cs(z,k.mode,Y,le),N.return=k,N):(N=h(N,z),N.return=k,N)}function W(k,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Pf(""+N,k.mode,z),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return z=Gu(N.type,N.key,N.props,null,k.mode,z),xl(z,N),z.return=k,z;case m:return N=kf(N,k.mode,z),N.return=k,N;case te:var Y=N._init;return N=Y(N._payload),W(k,N,z)}if(re(N)||be(N))return N=Cs(N,k.mode,z,null),N.return=k,N;if(typeof N.then=="function")return W(k,Ru(N),z);if(N.$$typeof===P)return W(k,ju(k,N),z);Cu(k,N)}return null}function H(k,N,z,Y){var le=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return le!==null?null:E(k,N,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case f:return z.key===le?R(k,N,z,Y):null;case m:return z.key===le?x(k,N,z,Y):null;case te:return le=z._init,z=le(z._payload),H(k,N,z,Y)}if(re(z)||be(z))return le!==null?null:G(k,N,z,Y,null);if(typeof z.then=="function")return H(k,N,Ru(z),Y);if(z.$$typeof===P)return H(k,N,ju(k,z),Y);Cu(k,z)}return null}function F(k,N,z,Y,le){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(z)||null,E(N,k,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case f:return k=k.get(Y.key===null?z:Y.key)||null,R(N,k,Y,le);case m:return k=k.get(Y.key===null?z:Y.key)||null,x(N,k,Y,le);case te:var De=Y._init;return Y=De(Y._payload),F(k,N,z,Y,le)}if(re(Y)||be(Y))return k=k.get(z)||null,G(N,k,Y,le,null);if(typeof Y.then=="function")return F(k,N,z,Ru(Y),le);if(Y.$$typeof===P)return F(k,N,z,ju(N,Y),le);Cu(N,Y)}return null}function ue(k,N,z,Y){for(var le=null,De=null,he=N,ge=N=0,xt=null;he!==null&&ge<z.length;ge++){he.index>ge?(xt=he,he=null):xt=he.sibling;var je=H(k,he,z[ge],Y);if(je===null){he===null&&(he=xt);break}t&&he&&je.alternate===null&&i(k,he),N=d(je,N,ge),De===null?le=je:De.sibling=je,De=je,he=xt}if(ge===z.length)return a(k,he),He&&gs(k,ge),le;if(he===null){for(;ge<z.length;ge++)he=W(k,z[ge],Y),he!==null&&(N=d(he,N,ge),De===null?le=he:De.sibling=he,De=he);return He&&gs(k,ge),le}for(he=o(he);ge<z.length;ge++)xt=F(he,k,ge,z[ge],Y),xt!==null&&(t&&xt.alternate!==null&&he.delete(xt.key===null?ge:xt.key),N=d(xt,N,ge),De===null?le=xt:De.sibling=xt,De=xt);return t&&he.forEach(function(Pr){return i(k,Pr)}),He&&gs(k,ge),le}function Ae(k,N,z,Y){if(z==null)throw Error(s(151));for(var le=null,De=null,he=N,ge=N=0,xt=null,je=z.next();he!==null&&!je.done;ge++,je=z.next()){he.index>ge?(xt=he,he=null):xt=he.sibling;var Pr=H(k,he,je.value,Y);if(Pr===null){he===null&&(he=xt);break}t&&he&&Pr.alternate===null&&i(k,he),N=d(Pr,N,ge),De===null?le=Pr:De.sibling=Pr,De=Pr,he=xt}if(je.done)return a(k,he),He&&gs(k,ge),le;if(he===null){for(;!je.done;ge++,je=z.next())je=W(k,je.value,Y),je!==null&&(N=d(je,N,ge),De===null?le=je:De.sibling=je,De=je);return He&&gs(k,ge),le}for(he=o(he);!je.done;ge++,je=z.next())je=F(he,k,ge,je.value,Y),je!==null&&(t&&je.alternate!==null&&he.delete(je.key===null?ge:je.key),N=d(je,N,ge),De===null?le=je:De.sibling=je,De=je);return t&&he.forEach(function(eS){return i(k,eS)}),He&&gs(k,ge),le}function lt(k,N,z,Y){if(typeof z=="object"&&z!==null&&z.type===g&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case f:e:{for(var le=z.key;N!==null;){if(N.key===le){if(le=z.type,le===g){if(N.tag===7){a(k,N.sibling),Y=h(N,z.props.children),Y.return=k,k=Y;break e}}else if(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===te&&Up(le)===N.type){a(k,N.sibling),Y=h(N,z.props),xl(Y,z),Y.return=k,k=Y;break e}a(k,N);break}else i(k,N);N=N.sibling}z.type===g?(Y=Cs(z.props.children,k.mode,Y,z.key),Y.return=k,k=Y):(Y=Gu(z.type,z.key,z.props,null,k.mode,Y),xl(Y,z),Y.return=k,k=Y)}return v(k);case m:e:{for(le=z.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(k,N.sibling),Y=h(N,z.children||[]),Y.return=k,k=Y;break e}else{a(k,N);break}else i(k,N);N=N.sibling}Y=kf(z,k.mode,Y),Y.return=k,k=Y}return v(k);case te:return le=z._init,z=le(z._payload),lt(k,N,z,Y)}if(re(z))return ue(k,N,z,Y);if(be(z)){if(le=be(z),typeof le!="function")throw Error(s(150));return z=le.call(z),Ae(k,N,z,Y)}if(typeof z.then=="function")return lt(k,N,Ru(z),Y);if(z.$$typeof===P)return lt(k,N,ju(k,z),Y);Cu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(k,N.sibling),Y=h(N,z),Y.return=k,k=Y):(a(k,N),Y=Pf(z,k.mode,Y),Y.return=k,k=Y),v(k)):a(k,N)}return function(k,N,z,Y){try{Ml=0;var le=lt(k,N,z,Y);return ma=null,le}catch(he){if(he===Nl)throw he;var De=In(29,he,null,k.mode);return De.lanes=Y,De.return=k,De}finally{}}}var _s=Lp(!0),zp=Lp(!1),pa=ze(null),Iu=ze(0);function Bp(t,i){t=Li,Qe(Iu,t),Qe(pa,i),Li=t|i.baseLanes}function Hh(){Qe(Iu,Li),Qe(pa,pa.current)}function jh(){Li=Iu.current,it(pa),it(Iu)}var wn=ze(null),ti=null;function yr(t){var i=t.alternate;Qe(St,St.current&1),Qe(wn,t),ti===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ti=t)}function Hp(t){if(t.tag===22){if(Qe(St,St.current),Qe(wn,t),ti===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ti=t)}}else _r()}function _r(){Qe(St,St.current),Qe(wn,wn.current)}function Ii(t){it(wn),ti===t&&(ti=null),it(St)}var St=ze(0);function Du(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var H0=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},j0=r.unstable_scheduleCallback,q0=r.unstable_NormalPriority,bt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new H0,data:new Map,refCount:0}}function Pl(t){t.refCount--,t.refCount===0&&j0(q0,function(){t.controller.abort()})}var kl=null,Fh=0,ga=0,ya=null;function F0(t,i){if(kl===null){var a=kl=[];Fh=0,ga=Wf(),ya={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Fh++,i.then(jp,jp),i}function jp(){if(--Fh===0&&kl!==null){ya!==null&&(ya.status="fulfilled");var t=kl;kl=null,ga=0,ya=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function G0(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var qp=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&F0(t,i),qp!==null&&qp(t,i)};var vs=ze(null);function Gh(){var t=vs.current;return t!==null?t:Xe.pooledCache}function Ou(t,i){i===null?Qe(vs,vs.current):Qe(vs,i.pool)}function Fp(){var t=Gh();return t===null?null:{parent:bt._currentValue,pool:t}}var vr=0,Ie=null,Ke=null,mt=null,Nu=!1,_a=!1,Es=!1,Vu=0,Ul=0,va=null,Q0=0;function ct(){throw Error(s(321))}function Qh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!un(t[a],i[a]))return!1;return!0}function Kh(t,i,a,o,h,d){return vr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?Ts:Er,Es=!1,d=a(o,h),Es=!1,_a&&(d=Qp(i,a,o,h)),Gp(t),d}function Gp(t){S.H=ni;var i=Ke!==null&&Ke.next!==null;if(vr=0,mt=Ke=Ie=null,Nu=!1,Ul=0,va=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Hu(t)&&(Vt=!0))}function Qp(t,i,a,o){Ie=t;var h=0;do{if(_a&&(va=null),Ul=0,_a=!1,25<=h)throw Error(s(301));if(h+=1,mt=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=As,d=i(a,o)}while(_a);return d}function K0(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?Ll(i):i,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Yh(){var t=Vu!==0;return Vu=0,t}function $h(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Xh(t){if(Nu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Nu=!1}vr=0,mt=Ke=Ie=null,_a=!1,Ul=Vu=0,va=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ie.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if(Ke===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var i=mt===null?Ie.memoizedState:mt.next;if(i!==null)mt=i,Ke=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},mt===null?Ie.memoizedState=mt=t:mt=mt.next=t}return mt}var Mu;Mu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ll(t){var i=Ul;return Ul+=1,va===null&&(va=[]),t=Pp(va,t,i),i=Ie,(mt===null?i.memoizedState:mt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Ts:Er),t}function xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ll(t);if(t.$$typeof===P)return Ft(t)}throw Error(s(438,String(t)))}function Wh(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Mu(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=pe;return i.index++,a}function Di(t,i){return typeof i=="function"?i(t):i}function Pu(t){var i=pt();return Zh(i,Ke,t)}function Zh(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=v=null,R=null,x=i,G=!1;do{var W=x.lane&-536870913;if(W!==x.lane?(Ue&W)===W:(vr&W)===W){var H=x.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),W===ga&&(G=!0);else if((vr&H)===H){x=x.next,H===ga&&(G=!0);continue}else W={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},R===null?(E=R=W,v=d):R=R.next=W,Ie.lanes|=H,Dr|=H;W=x.action,Es&&a(d,W),d=x.hasEagerState?x.eagerState:a(d,W)}else H={lane:W,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},R===null?(E=R=H,v=d):R=R.next=H,Ie.lanes|=W,Dr|=W;x=x.next}while(x!==null&&x!==i);if(R===null?v=d:R.next=E,!un(d,t.memoizedState)&&(Vt=!0,G&&(a=ya,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Jh(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Kp(t,i,a){var o=Ie,h=pt(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Ke||h).memoizedState,a);if(v&&(h.memoizedState=a,Vt=!0),h=h.queue,nf(Xp.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,Ea(9,$p.bind(null,o,h,a,i),{destroy:void 0},null),Xe===null)throw Error(s(349));d||vr&60||Yp(o,i,a)}return a}function Yp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Mu(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $p(t,i,a,o){i.value=a,i.getSnapshot=o,Wp(i)&&Zp(t)}function Xp(t,i,a){return a(function(){Wp(i)&&Zp(t)})}function Wp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!un(t,a)}catch{return!0}}function Zp(t){var i=gr(t,2);i!==null&&tn(i,t,2)}function ef(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Es){qn(!0);try{a()}finally{qn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},i}function Jp(t,i,a,o){return t.baseState=a,Zh(t,Ke,typeof o=="function"?o:Di)}function Y0(t,i,a,o,h){if(Lu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,eg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function eg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var E=a(h,o),R=S.S;R!==null&&R(v,E),tg(t,i,E)}catch(x){tf(t,i,x)}finally{S.T=d}}else try{d=a(h,o),tg(t,i,d)}catch(x){tf(t,i,x)}}function tg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ng(t,i,o)},function(o){return tf(t,i,o)}):ng(t,i,a)}function ng(t,i,a){i.status="fulfilled",i.value=a,ig(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,eg(t,a)))}function tf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,ig(i),i=i.next;while(i!==o)}t.action=null}function ig(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function rg(t,i){return i}function sg(t,i){if(He){var a=Xe.formState;if(a!==null){e:{var o=Ie;if(He){if(Ut){t:{for(var h=Ut,d=ei;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ut=zn(h.nextSibling),o=h.data==="F!";break e}}ys(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:i},a.queue=o,a=Sg.bind(null,Ie,o),o.dispatch=a,o=ef(!1),d=of.bind(null,Ie,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=Y0.bind(null,Ie,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function ag(t){var i=pt();return lg(i,Ke,t)}function lg(t,i,a){i=Zh(t,i,rg)[0],t=Pu(Di)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Ll(i):i;var o=pt(),h=o.queue,d=h.dispatch;return a!==o.memoizedState&&(Ie.flags|=2048,Ea(9,$0.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function $0(t,i){t.action=i}function og(t){var i=pt(),a=Ke;if(a!==null)return lg(i,a,t);pt(),i=i.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ea(t,i,a,o){return t={tag:t,create:i,inst:a,deps:o,next:null},i=Ie.updateQueue,i===null&&(i=Mu(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function ug(){return pt().memoizedState}function ku(t,i,a,o){var h=sn();Ie.flags|=t,h.memoizedState=Ea(1|i,a,{destroy:void 0},o===void 0?null:o)}function Uu(t,i,a,o){var h=pt();o=o===void 0?null:o;var d=h.memoizedState.inst;Ke!==null&&o!==null&&Qh(o,Ke.memoizedState.deps)?h.memoizedState=Ea(i,a,d,o):(Ie.flags|=t,h.memoizedState=Ea(1|i,a,d,o))}function cg(t,i){ku(8390656,8,t,i)}function nf(t,i){Uu(2048,8,t,i)}function hg(t,i){return Uu(4,2,t,i)}function fg(t,i){return Uu(4,4,t,i)}function dg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function mg(t,i,a){a=a!=null?a.concat([t]):null,Uu(4,4,dg.bind(null,i,t),a)}function rf(){}function pg(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Qh(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function gg(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Qh(i,o[1]))return o[0];if(o=t(),Es){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[o,i],o}function sf(t,i,a){return a===void 0||vr&1073741824?t.memoizedState=i:(t.memoizedState=a,t=_y(),Ie.lanes|=t,Dr|=t,a)}function yg(t,i,a,o){return un(a,i)?a:pa.current!==null?(t=sf(t,a,o),un(t,i)||(Vt=!0),t):vr&42?(t=_y(),Ie.lanes|=t,Dr|=t,i):(Vt=!0,t.memoizedState=a)}function _g(t,i,a,o,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=S.T,E={};S.T=E,of(t,!1,i,a);try{var R=h(),x=S.S;if(x!==null&&x(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=G0(R,o);zl(t,i,G,dn(t))}else zl(t,i,o,dn(t))}catch(W){zl(t,i,{then:function(){},status:"rejected",reason:W},dn())}finally{se.p=d,S.T=v}}function X0(){}function af(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=vg(t).queue;_g(t,h,i,Ce,a===null?X0:function(){return Eg(t),a(o)})}function vg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:Ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Eg(t){var i=vg(t).next.queue;zl(t,i,{},dn())}function lf(){return Ft(so)}function Tg(){return pt().memoizedState}function Ag(){return pt().memoizedState}function W0(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();t=Sr(a);var o=br(i,t,a);o!==null&&(tn(o,i,a),jl(o,i,a)),i={cache:qh()},t.payload=i;return}i=i.return}}function Z0(t,i,a){var o=dn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(t)?bg(i,a):(a=kh(t,i,a,o),a!==null&&(tn(a,t,o),wg(a,i,o)))}function Sg(t,i,a){var o=dn();zl(t,i,a,o)}function zl(t,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(t))bg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,un(E,v))return Tu(t,i,h,0),Xe===null&&Eu(),!1}catch{}finally{}if(a=kh(t,i,h,o),a!==null)return tn(a,t,o),wg(a,i,o),!0}return!1}function of(t,i,a,o){if(o={lane:2,revertLane:Wf(),action:o,hasEagerState:!1,eagerState:null,next:null},Lu(t)){if(i)throw Error(s(479))}else i=kh(t,a,o,2),i!==null&&tn(i,t,2)}function Lu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function bg(t,i){_a=Nu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function wg(t,i,a){if(a&4194176){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ar(t,a)}}var ni={readContext:Ft,use:xu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct};ni.useCacheRefresh=ct,ni.useMemoCache=ct,ni.useHostTransitionStatus=ct,ni.useFormState=ct,ni.useActionState=ct,ni.useOptimistic=ct;var Ts={readContext:Ft,use:xu,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:cg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ku(4194308,4,dg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ku(4194308,4,t,i)},useInsertionEffect:function(t,i){ku(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var o=t();if(Es){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Es){qn(!0);try{a(i)}finally{qn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Z0.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=ef(t);var i=t.queue,a=Sg.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rf,useDeferredValue:function(t,i){var a=sn();return sf(a,t,i)},useTransition:function(){var t=ef(!1);return t=_g.bind(null,Ie,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ie,h=sn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xe===null)throw Error(s(349));Ue&60||Yp(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,cg(Xp.bind(null,o,d,t),[t]),o.flags|=2048,Ea(9,$p.bind(null,o,d,a,i),{destroy:void 0},null),a},useId:function(){var t=sn(),i=Xe.identifierPrefix;if(He){var a=Ci,o=Ri;a=(o&~(1<<32-Wt(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Vu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Q0++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=W0.bind(null,Ie)}};Ts.useMemoCache=Wh,Ts.useHostTransitionStatus=lf,Ts.useFormState=sg,Ts.useActionState=sg,Ts.useOptimistic=function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=of.bind(null,Ie,!0,a),a.dispatch=i,[t,i]};var Er={readContext:Ft,use:xu,useCallback:pg,useContext:Ft,useEffect:nf,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:gg,useReducer:Pu,useRef:ug,useState:function(){return Pu(Di)},useDebugValue:rf,useDeferredValue:function(t,i){var a=pt();return yg(a,Ke.memoizedState,t,i)},useTransition:function(){var t=Pu(Di)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Ll(t),i]},useSyncExternalStore:Kp,useId:Tg};Er.useCacheRefresh=Ag,Er.useMemoCache=Wh,Er.useHostTransitionStatus=lf,Er.useFormState=ag,Er.useActionState=ag,Er.useOptimistic=function(t,i){var a=pt();return Jp(a,Ke,t,i)};var As={readContext:Ft,use:xu,useCallback:pg,useContext:Ft,useEffect:nf,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:gg,useReducer:Jh,useRef:ug,useState:function(){return Jh(Di)},useDebugValue:rf,useDeferredValue:function(t,i){var a=pt();return Ke===null?sf(a,t,i):yg(a,Ke.memoizedState,t,i)},useTransition:function(){var t=Jh(Di)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Ll(t),i]},useSyncExternalStore:Kp,useId:Tg};As.useCacheRefresh=Ag,As.useMemoCache=Wh,As.useHostTransitionStatus=lf,As.useFormState=og,As.useActionState=og,As.useOptimistic=function(t,i){var a=pt();return Ke!==null?Jp(a,Ke,t,i):(a.baseState=t,[t,a.queue.dispatch])};function uf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cf={isMounted:function(t){return(t=t._reactInternals)?fe(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var o=dn(),h=Sr(o);h.payload=i,a!=null&&(h.callback=a),i=br(t,h,o),i!==null&&(tn(i,t,o),jl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=dn(),h=Sr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=br(t,h,o),i!==null&&(tn(i,t,o),jl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=dn(),o=Sr(a);o.tag=2,i!=null&&(o.callback=i),i=br(t,o,a),i!==null&&(tn(i,t,a),jl(i,t,a))}};function Rg(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Rl(a,o)||!Rl(h,d):!0}function Cg(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&cf.enqueueReplaceState(i,i.state,null)}function Ss(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ig(t){zu(t)}function Dg(t){console.error(t)}function Og(t){zu(t)}function Bu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ng(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hf(t,i,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Bu(t,i)},a}function Vg(t){return t=Sr(t),t.tag=3,t}function Mg(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Ng(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ng(i,a,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function J0(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Hl(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return ti===null?Qf():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Bh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Yf(t,o,h)),!1;case 22:return a.flags|=65536,o===Bh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Yf(t,o,h)),!1}throw Error(s(435,a.tag))}return Yf(t,o,h),Qf(),!1}if(He)return i=wn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==zh&&(t=Error(s(422),{cause:o}),Ol(An(t,a)))):(o!==zh&&(i=Error(s(423),{cause:o}),Ol(An(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=An(o,a),h=hf(t.stateNode,o,h),Rf(t,h),at!==4&&(at=2)),!1;var d=Error(s(520),{cause:o});if(d=An(d,a),Xl===null?Xl=[d]:Xl.push(d),at!==4&&(at=2),i===null)return!0;o=An(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=hf(a.stateNode,o,t),Rf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vg(h),Mg(h,t,a,o),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var xg=Error(s(461)),Vt=!1;function Lt(t,i,a,o){i.child=t===null?zp(i,null,a,o):_s(i,t.child,a,o)}function Pg(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ws(i),o=Kh(t,i,a,v,d,h),E=Yh(),t!==null&&!Vt?($h(t,i,h),Oi(t,i,h)):(He&&E&&Uh(i),i.flags|=1,Lt(t,i,o,h),i.child)}function kg(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ug(t,i,d,o,h)):(t=Gu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ef(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Rl,a(v,o)&&t.ref===i.ref)return Oi(t,i,h)}return i.flags|=1,t=Ir(d,o),t.ref=i.ref,t.return=i,i.child=t}function Ug(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Rl(d,o)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=o=d,Ef(t,h))t.flags&131072&&(Vt=!0);else return i.lanes=t.lanes,Oi(t,i,h)}return ff(t,i,a,o,h)}function Lg(t,i,a){var o=i.pendingProps,h=o.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(Bl(t,i),o.mode==="hidden"||d){if(i.flags&128){if(o=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return zg(t,i,o,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(i,v!==null?v.cachePool:null),v!==null?Bp(i,v):Hh(),Hp(i);else return i.lanes=i.childLanes=536870912,zg(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Ou(i,v.cachePool),Bp(i,v),_r(),i.memoizedState=null):(t!==null&&Ou(i,null),Hh(),_r());return Lt(t,i,h,a),i.child}function zg(t,i,a,o){var h=Gh();return h=h===null?null:{parent:bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ou(i,null),Hh(),Hp(i),t!==null&&Hl(t,i,o,!0),null}function Bl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function ff(t,i,a,o,h){return ws(i),a=Kh(t,i,a,o,void 0,h),o=Yh(),t!==null&&!Vt?($h(t,i,h),Oi(t,i,h)):(He&&o&&Uh(i),i.flags|=1,Lt(t,i,a,h),i.child)}function Bg(t,i,a,o,h,d){return ws(i),i.updateQueue=null,a=Qp(i,o,a,h),Gp(t),o=Yh(),t!==null&&!Vt?($h(t,i,d),Oi(t,i,d)):(He&&o&&Uh(i),i.flags|=1,Lt(t,i,a,d),i.child)}function Hg(t,i,a,o,h){if(ws(i),i.stateNode===null){var d=ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},bf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):ha,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(uf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&cf.enqueueReplaceState(d,d.state,null),Fl(i,o,d,h),ql(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,R=Ss(a,E);d.props=R;var x=d.context,G=a.contextType;v=ha,typeof G=="object"&&G!==null&&(v=Ft(G));var W=a.getDerivedStateFromProps;G=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||x!==v)&&Cg(i,d,o,v),Ar=!1;var H=i.memoizedState;d.state=H,Fl(i,o,d,h),ql(),x=i.memoizedState,E||H!==x||Ar?(typeof W=="function"&&(uf(i,a,W,o),x=i.memoizedState),(R=Ar||Rg(i,a,R,o,H,x,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=x),d.props=o,d.state=x,d.context=v,o=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,wf(t,i),v=i.memoizedProps,G=Ss(a,v),d.props=G,W=i.pendingProps,H=d.context,x=a.contextType,R=ha,typeof x=="object"&&x!==null&&(R=Ft(x)),E=a.getDerivedStateFromProps,(x=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||H!==R)&&Cg(i,d,o,R),Ar=!1,H=i.memoizedState,d.state=H,Fl(i,o,d,h),ql();var F=i.memoizedState;v!==W||H!==F||Ar||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof E=="function"&&(uf(i,a,E,o),F=i.memoizedState),(G=Ar||Rg(i,a,G,o,H,F,R)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(x||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,F,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,F,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),d.props=o,d.state=F,d.context=R,o=G):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Bl(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=_s(i,t.child,null,h),i.child=_s(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Oi(t,i,h),t}function jg(t,i,a,o){return Dl(),i.flags|=256,Lt(t,i,a,o),i.child}var df={dehydrated:null,treeContext:null,retryLane:0};function mf(t){return{baseLanes:t,cachePool:Fp()}}function pf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function qg(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?yr(i):_r(),He){var E=Ut,R;if(R=E){e:{for(R=E,E=ei;R.nodeType!==8;){if(!E){E=null;break e}if(R=zn(R.nextSibling),R===null){E=null;break e}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:ps!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912},R=In(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,en=i,Ut=null,R=!0):R=!1}R||ys(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ii(i)}return E=o.children,o=o.fallback,h?(_r(),h=i.mode,E=yf({mode:"hidden",children:E},h),o=Cs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=mf(a),h.childLanes=pf(t,v,a),i.memoizedState=df,o):(yr(i),gf(i,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=_f(t,i,a)):i.memoizedState!==null?(_r(),i.child=t.child,i.flags|=128,i=null):(_r(),h=o.fallback,E=i.mode,o=yf({mode:"visible",children:o.children},E),h=Cs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,_s(i,t.child,null,a),o=i.child,o.memoizedState=mf(a),o.childLanes=pf(t,v,a),i.memoizedState=df,i=h);else if(yr(i),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var x=v.dgst;v=x,o=Error(s(419)),o.stack="",o.digest=v,Ol({value:o,source:null,stack:null}),i=_f(t,i,a)}else if(Vt||Hl(t,i,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=Xe,v!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(v.suspendedLanes|a)?0:o,o!==0&&o!==R.retryLane)throw R.retryLane=o,gr(t,o),tn(v,t,o),xg}E.data==="$?"||Qf(),i=_f(t,i,a)}else E.data==="$?"?(i.flags|=128,i.child=t.child,i=mA.bind(null,t),E._reactRetry=i,i=null):(t=R.treeContext,Ut=zn(E.nextSibling),en=i,He=!0,Un=null,ei=!1,t!==null&&(Sn[bn++]=Ri,Sn[bn++]=Ci,Sn[bn++]=ps,Ri=t.id,Ci=t.overflow,ps=i),i=gf(i,o.children),i.flags|=4096);return i}return h?(_r(),h=o.fallback,E=i.mode,R=t.child,x=R.sibling,o=Ir(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&31457280,x!==null?h=Ir(x,h):(h=Cs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=t.child.memoizedState,E===null?E=mf(a):(R=E.cachePool,R!==null?(x=bt._currentValue,R=R.parent!==x?{parent:x,pool:x}:R):R=Fp(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=pf(t,v,a),i.memoizedState=df,o):(yr(i),a=t.child,t=a.sibling,a=Ir(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function gf(t,i){return i=yf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yf(t,i){return py(t,i,0,null)}function _f(t,i,a){return _s(i,t.child,null,a),t=gf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Fg(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Af(t.return,i,a)}function vf(t,i,a,o,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Gg(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Lt(t,i,o.children,a),o=St.current,o&2)o=o&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,a,i);else if(t.tag===19)Fg(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Qe(St,o),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Du(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),vf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Du(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}vf(i,!0,a,null,d);break;case"together":vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Oi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Dr|=i.lanes,!(a&i.childLanes))if(t!==null){if(Hl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ir(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ir(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ef(t,i){return t.lanes&i?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function eA(t,i,a){switch(i.tag){case 3:er(i,i.stateNode.containerInfo),Tr(i,bt,t.memoizedState.cache),Dl();break;case 27:case 5:sl(i);break;case 4:er(i,i.stateNode.containerInfo);break;case 10:Tr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(yr(i),i.flags|=128,null):a&i.child.childLanes?qg(t,i,a):(yr(i),t=Oi(t,i,a),t!==null?t.sibling:null);yr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Hl(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Gg(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(St,St.current),o)break;return null;case 22:case 23:return i.lanes=0,Lg(t,i,a);case 24:Tr(i,bt,t.memoizedState.cache)}return Oi(t,i,a)}function Qg(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!Ef(t,a)&&!(i.flags&128))return Vt=!1,eA(t,i,a);Vt=!!(t.flags&131072)}else Vt=!1,He&&i.flags&1048576&&Op(i,bu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")xf(o)?(t=Ss(o,t),i.tag=1,i=Hg(null,i,o,t,a)):(i.tag=0,i=ff(null,i,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===B){i.tag=11,i=Pg(null,i,o,t,a);break e}else if(h===$){i.tag=14,i=kg(null,i,o,t,a);break e}}throw i=w(o)||o,Error(s(306,i,""))}}return i;case 0:return ff(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ss(o,i.pendingProps),Hg(t,i,o,h,a);case 3:e:{if(er(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,o=h.element,wf(t,i),Fl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Tr(i,bt,d),d!==h.cache&&Sf(i,[bt],a,!0),ql(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=jg(t,i,d,a);break e}else if(d!==o){o=An(Error(s(424)),i),Ol(o),i=jg(t,i,d,a);break e}else for(Ut=zn(i.stateNode.containerInfo.firstChild),en=i,He=!0,Un=null,ei=!0,a=zp(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Dl(),d===o){i=Oi(t,i,a);break e}Lt(t,i,d,a)}i=i.child}return i;case 26:return Bl(t,i),t===null?(a=$y(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,o=ic(mn.current).createElement(a),o[Dt]=i,o[Et]=t,zt(o,a,t),Ze(o),i.stateNode=o):i.memoizedState=$y(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return sl(i),t===null&&He&&(o=i.stateNode=Qy(i.type,i.pendingProps,mn.current),en=i,ei=!0,Ut=zn(o.firstChild)),o=i.pendingProps.children,t!==null||He?Lt(t,i,o,a):i.child=_s(i,null,o,a),Bl(t,i),i.child;case 5:return t===null&&He&&((h=o=Ut)&&(o=OA(o,i.type,i.pendingProps,ei),o!==null?(i.stateNode=o,en=i,Ut=zn(o.firstChild),ei=!1,h=!0):h=!1),h||ys(i)),sl(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,ad(h,d)?o=null:v!==null&&ad(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Kh(t,i,K0,null,null,a),so._currentValue=h),Bl(t,i),Lt(t,i,o,a),i.child;case 6:return t===null&&He&&((t=a=Ut)&&(a=NA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,en=i,Ut=null,t=!0):t=!1),t||ys(i)),null;case 13:return qg(t,i,a);case 4:return er(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=_s(i,null,o,a):Lt(t,i,o,a),i.child;case 11:return Pg(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Tr(i,i.type,o.value),Lt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,ws(i),h=Ft(h),o=o(h),i.flags|=1,Lt(t,i,o,a),i.child;case 14:return kg(t,i,i.type,i.pendingProps,a);case 15:return Ug(t,i,i.type,i.pendingProps,a);case 19:return Gg(t,i,a);case 22:return Lg(t,i,a);case 24:return ws(i),o=Ft(bt),t===null?(h=Gh(),h===null&&(h=Xe,d=qh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},bf(i),Tr(i,bt,h)):(t.lanes&a&&(wf(t,i),Fl(i,null,null,a),ql()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Tr(i,bt,o)):(o=d.cache,Tr(i,bt,o),o!==h.cache&&Sf(i,[bt],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Tf=ze(null),bs=null,Ni=null;function Tr(t,i,a){Qe(Tf,i._currentValue),i._currentValue=a}function Vi(t){t._currentValue=Tf.current,it(Tf)}function Af(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Sf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Af(d.return,a,t),o||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Af(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Hl(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;un(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ji.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(so):t=[so])}h=h.return}t!==null&&Sf(i,t,a,o),i.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ws(t){bs=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Kg(bs,t)}function ju(t,i){return bs===null&&ws(t),Kg(t,i)}function Kg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ni=Ni.next=i;return a}var Ar=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function br(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,et&2){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Au(t),Ip(t,null,a),i}return Tu(t,o,i,a),Au(t)}function jl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ar(t,a)}}function Rf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Cf=!1;function ql(){if(Cf){var t=ya;if(t!==null)throw t}}function Fl(t,i,a,o){Cf=!1;var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,x=R.next;R.next=null,v===null?d=x:v.next=x,v=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=x:E.next=x,G.lastBaseUpdate=R))}if(d!==null){var W=h.baseState;v=0,G=x=R=null,E=d;do{var H=E.lane&-536870913,F=H!==E.lane;if(F?(Ue&H)===H:(o&H)===H){H!==0&&H===ga&&(Cf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,Ae=E;H=i;var lt=a;switch(Ae.tag){case 1:if(ue=Ae.payload,typeof ue=="function"){W=ue.call(lt,W,H);break e}W=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=Ae.payload,H=typeof ue=="function"?ue.call(lt,W,H):ue,H==null)break e;W=I({},W,H);break e;case 2:Ar=!0}}H=E.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(x=G=F,R=W):G=G.next=F,v|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(R=W),h.baseState=R,h.firstBaseUpdate=x,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Dr|=v,t.lanes=v,t.memoizedState=W}}function Yg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function $g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yg(a[t],i)}function Gl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$e(i,i.return,E)}}function wr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var R=a;try{E()}catch(x){$e(h,R,x)}}}o=o.next}while(o!==d)}}catch(x){$e(i,i.return,x)}}function Xg(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$g(i,a)}catch(o){$e(t,t.return,o)}}}function Wg(t,i,a){a.props=Ss(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,i,o)}}function Rs(t,i){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){$e(t,i,d)}}function cn(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function Zg(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function Jg(t,i,a){try{var o=t.stateNode;wA(o,t.type,a,i),o[Et]=i}catch(h){$e(t,t.return,h)}}function ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function If(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Df(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=nc));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Df(t,i,a),t=t.sibling;t!==null;)Df(t,i,a),t=t.sibling}function qu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(qu(t,i,a),t=t.sibling;t!==null;)qu(t,i,a),t=t.sibling}var Mi=!1,st=!1,Of=!1,ty=typeof WeakSet=="function"?WeakSet:Set,Mt=null,ny=!1;function tA(t,i){if(t=t.containerInfo,rd=uc,t=vp(t),Nh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,E=-1,R=-1,x=0,G=0,W=t,H=null;t:for(;;){for(var F;W!==a||h!==0&&W.nodeType!==3||(E=v+h),W!==d||o!==0&&W.nodeType!==3||(R=v+o),W.nodeType===3&&(v+=W.nodeValue.length),(F=W.firstChild)!==null;)H=W,W=F;for(;;){if(W===t)break t;if(H===a&&++x===h&&(E=v),H===d&&++G===o&&(R=v),(F=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=F}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(sd={focusedElem:t,selectionRange:a},uc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ue=Ss(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ue,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){$e(a,a.return,Ae)}}break;case 3:if(t&1024){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ud(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}return ue=ny,ny=!1,ue}function iy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(t,a),o&4&&Gl(5,a);break;case 1:if(Pi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){$e(a,a.return,E)}else{var h=Ss(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){$e(a,a.return,E)}}o&64&&Xg(a),o&512&&Rs(a,a.return);break;case 3:if(Pi(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{$g(o,t)}catch(E){$e(a,a.return,E)}}break;case 26:Pi(t,a),o&512&&Rs(a,a.return);break;case 27:case 5:Pi(t,a),i===null&&o&4&&Zg(a),o&512&&Rs(a,a.return);break;case 12:Pi(t,a);break;case 13:Pi(t,a),o&4&&ay(t,a);break;case 22:if(h=a.memoizedState!==null||Mi,!h){i=i!==null&&i.memoizedState!==null||st;var d=Mi,v=st;Mi=h,(st=i)&&!v?Rr(t,a,(a.subtreeFlags&8772)!==0):Pi(t,a),Mi=d,st=v}o&512&&(a.memoizedProps.mode==="manual"?Rs(a,a.return):cn(a,a.return));break;default:Pi(t,a)}}function ry(t){var i=t.alternate;i!==null&&(t.alternate=null,ry(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ns(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,hn=!1;function xi(t,i,a){for(a=a.child;a!==null;)sy(t,i,a),a=a.sibling}function sy(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(tr,a)}catch{}switch(a.tag){case 26:st||cn(a,i),xi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:st||cn(a,i);var o=gt,h=hn;for(gt=a.stateNode,xi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ns(a),gt=o,hn=h;break;case 5:st||cn(a,i);case 6:h=gt;var d=hn;if(gt=null,xi(t,i,a),gt=h,hn=d,gt!==null)if(hn)try{t=gt,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(v){$e(a,i,v)}else try{gt.removeChild(a.stateNode)}catch(v){$e(a,i,v)}break;case 18:gt!==null&&(hn?(i=gt,a=a.stateNode,i.nodeType===8?od(i.parentNode,a):i.nodeType===1&&od(i,a),uo(i)):od(gt,a.stateNode));break;case 4:o=gt,h=hn,gt=a.stateNode.containerInfo,hn=!0,xi(t,i,a),gt=o,hn=h;break;case 0:case 11:case 14:case 15:st||wr(2,a,i),st||wr(4,a,i),xi(t,i,a);break;case 1:st||(cn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Wg(a,i,o)),xi(t,i,a);break;case 21:xi(t,i,a);break;case 22:st||cn(a,i),st=(o=st)||a.memoizedState!==null,xi(t,i,a),st=o;break;default:xi(t,i,a)}}function ay(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(a){$e(i,i.return,a)}}function nA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ty),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ty),i;default:throw Error(s(435,t.tag))}}function Nf(t,i){var a=nA(t);i.forEach(function(o){var h=pA.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function Rn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:case 5:gt=E.stateNode,hn=!1;break e;case 3:gt=E.stateNode.containerInfo,hn=!0;break e;case 4:gt=E.stateNode.containerInfo,hn=!0;break e}E=E.return}if(gt===null)throw Error(s(160));sy(d,v,h),gt=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ly(i,t),i=i.sibling}var Ln=null;function ly(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(i,t),Cn(t),o&4&&(wr(3,t,t.return),Gl(3,t),wr(5,t,t.return));break;case 1:Rn(i,t),Cn(t),o&512&&(st||a===null||cn(a,a.return)),o&64&&Mi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Ln;if(Rn(i,t),Cn(t),o&512&&(st||a===null||cn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[or]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,o,a),d[Dt]=t,Ze(d),o=d;break e;case"link":var v=Zy("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(o),zt(d,o,a),h.head.appendChild(d);break;case"meta":if(v=Zy("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}d=h.createElement(o),zt(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Dt]=t,Ze(d),o=d}t.stateNode=o}else Jy(h,t.type,t.stateNode);else t.stateNode=Wy(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Jy(h,t.type,t.stateNode):Wy(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Jg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var R=h.firstChild;R;){var x=R.nextSibling,G=R.nodeName;R[or]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=x}for(var W=t.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);zt(h,W,d),h[Dt]=t,h[Et]=d}catch(ue){$e(t,t.return,ue)}}case 5:if(Rn(i,t),Cn(t),o&512&&(st||a===null||cn(a,a.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(ue){$e(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Jg(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Of=!0);break;case 6:if(Rn(i,t),Cn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){$e(t,t.return,ue)}}break;case 3:if(ac=null,h=Ln,Ln=rc(i.containerInfo),Rn(i,t),Ln=h,Cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(i.containerInfo)}catch(ue){$e(t,t.return,ue)}Of&&(Of=!1,oy(t));break;case 4:o=Ln,Ln=rc(t.stateNode.containerInfo),Rn(i,t),Cn(t),Ln=o;break;case 12:Rn(i,t),Cn(t);break;case 13:Rn(i,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bf=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nf(t,o)));break;case 22:if(o&512&&(st||a===null||cn(a,a.return)),R=t.memoizedState!==null,x=a!==null&&a.memoizedState!==null,G=Mi,W=st,Mi=G||R,st=W||x,Rn(i,t),st=W,Mi=G,Cn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=Mi||st,a===null||x||i||Ta(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){x=a=i;try{if(h=x.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=x.stateNode,E=x.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ue){$e(x,x.return,ue)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=R?"":x.memoizedProps}catch(ue){$e(x,x.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Nf(t,a))));break;case 19:Rn(i,t),Cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nf(t,o)));break;case 21:break;default:Rn(i,t),Cn(t)}}function Cn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(ey(a)){var o=a;break e}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,d=If(t);qu(t,d,h);break;case 5:var v=o.stateNode;o.flags&32&&(yn(v,""),o.flags&=-33);var E=If(t);qu(t,E,v);break;case 3:case 4:var R=o.stateNode.containerInfo,x=If(t);Df(t,x,R);break;default:throw Error(s(161))}}}catch(G){$e(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;oy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Pi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)iy(t,i.alternate,i),i=i.sibling}function Ta(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:wr(4,i,i.return),Ta(i);break;case 1:cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wg(i,i.return,a),Ta(i);break;case 26:case 27:case 5:cn(i,i.return),Ta(i);break;case 22:cn(i,i.return),i.memoizedState===null&&Ta(i);break;default:Ta(i)}t=t.sibling}}function Rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),Gl(4,d);break;case 1:if(Rr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){$e(o,o.return,x)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Yg(R[h],E)}catch(x){$e(o,o.return,x)}}a&&v&64&&Xg(d),Rs(d,d.return);break;case 26:case 27:case 5:Rr(h,d,a),a&&o===null&&v&4&&Zg(d),Rs(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&ay(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),Rs(d,d.return);break;default:Rr(h,d,a)}i=i.sibling}}function Vf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Pl(a))}function Mf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Pl(t))}function Cr(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uy(t,i,a,o),i=i.sibling}function uy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Cr(t,i,a,o),h&2048&&Gl(9,i);break;case 3:Cr(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Pl(t)));break;case 12:if(h&2048){Cr(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$e(i,i.return,R)}}else Cr(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Cr(t,i,a,o):Ql(t,i):d._visibility&4?Cr(t,i,a,o):(d._visibility|=4,Aa(t,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Vf(i.alternate,i);break;case 24:Cr(t,i,a,o),h&2048&&Mf(i.alternate,i);break;default:Cr(t,i,a,o)}}function Aa(t,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,E=a,R=o,x=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(d,v,E,R,h),Gl(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&4?Aa(d,v,E,R,h):Ql(d,v):(G._visibility|=4,Aa(d,v,E,R,h)),h&&x&2048&&Vf(v.alternate,v);break;case 24:Aa(d,v,E,R,h),h&&x&2048&&Mf(v.alternate,v);break;default:Aa(d,v,E,R,h)}i=i.sibling}}function Ql(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Ql(a,o),h&2048&&Vf(o.alternate,o);break;case 24:Ql(a,o),h&2048&&Mf(o.alternate,o);break;default:Ql(a,o)}i=i.sibling}}var Kl=8192;function Sa(t){if(t.subtreeFlags&Kl)for(t=t.child;t!==null;)cy(t),t=t.sibling}function cy(t){switch(t.tag){case 26:Sa(t),t.flags&Kl&&t.memoizedState!==null&&FA(Ln,t.memoizedState,t.memoizedProps);break;case 5:Sa(t);break;case 3:case 4:var i=Ln;Ln=rc(t.stateNode.containerInfo),Sa(t),Ln=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Kl,Kl=16777216,Sa(t),Kl=i):Sa(t));break;default:Sa(t)}}function hy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Yl(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Mt=o,dy(o,t)}hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fy(t),t=t.sibling}function fy(t){switch(t.tag){case 0:case 11:case 15:Yl(t),t.flags&2048&&wr(9,t,t.return);break;case 3:Yl(t);break;case 12:Yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Fu(t)):Yl(t);break;default:Yl(t)}}function Fu(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Mt=o,dy(o,t)}hy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:wr(8,i,i.return),Fu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Fu(i));break;default:Fu(i)}t=t.sibling}}function dy(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:wr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Pl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Mt=o;else e:for(a=t;Mt!==null;){o=Mt;var h=o.sibling,d=o.return;if(ry(o),o===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}function iA(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,i,a,o){return new iA(t,i,a,o)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ir(t,i){var a=t.alternate;return a===null?(a=In(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function my(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gu(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")xf(t)&&(v=1);else if(typeof t=="string")v=jA(t,a,Xt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case g:return Cs(a.children,h,d,i);case y:v=8,h|=24;break;case T:return t=In(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case K:return t=In(13,a,i,h),t.elementType=K,t.lanes=d,t;case j:return t=In(19,a,i,h),t.elementType=j,t.lanes=d,t;case ee:return py(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case P:v=10;break e;case C:v=9;break e;case B:v=11;break e;case $:v=14;break e;case te:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=In(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Cs(t,i,a,o){return t=In(7,t,o,i),t.lanes=a,t}function py(t,i,a,o){t=In(22,t,o,i),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=gr(d,2);v!==null&&(h._pendingVisibility|=2,tn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=gr(d,2);v!==null&&(h._pendingVisibility&=-3,tn(v,d,2))}}};return t.stateNode=h,t}function Pf(t,i,a){return t=In(6,t,null,i),t.lanes=a,t}function kf(t,i,a){return i=In(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function ki(t){t.flags|=4}function gy(t,i){if(i.type!=="stylesheet"||i.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!e_(i)){if(i=wn.current,i!==null&&((Ue&4194176)===Ue?ti!==null:(Ue&62914560)!==Ue&&!(Ue&536870912)||i!==ti))throw Vl=Bh,Mp;t.flags|=8192}}function Qu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?rr():536870912,t.lanes|=i,wa|=i)}function $l(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Je(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function rA(t,i,a){var o=i.pendingProps;switch(Lh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Vi(bt),pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Il(i)?ki(i):t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Un!==null&&(Ff(Un),Un=null))),Je(i),null;case 26:return a=i.memoizedState,t===null?(ki(i),a!==null?(Je(i),gy(i,a)):(Je(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ki(i),Je(i),gy(i,a)):(Je(i),i.flags&=-16777217):(t.memoizedProps!==o&&ki(i),Je(i),i.flags&=-16777217),null;case 27:Fs(i),a=mn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Je(i),null}t=Xt.current,Il(i)?Np(i):(t=Qy(h,o,a),i.stateNode=t,ki(i))}return Je(i),null;case 5:if(Fs(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Je(i),null}if(t=Xt.current,Il(i))Np(i);else{switch(h=ic(mn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[Dt]=i,t[Et]=o;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ki(i)}}return Je(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=mn.current,Il(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||By(t.nodeValue,a)),t||ys(i)}else t=ic(t).createTextNode(o),t[Dt]=i,i.stateNode=t}return Je(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Il(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=i}else Dl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Je(i),h=!1}else Un!==null&&(Ff(Un),Un=null),h=!0;if(!h)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),i.flags&128)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Qu(i,i.updateQueue),Je(i),null;case 4:return pi(),t===null&&td(i.stateNode.containerInfo),Je(i),null;case 10:return Vi(i.type),Je(i),null;case 19:if(it(St),h=i.memoizedState,h===null)return Je(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)$l(h,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(d=Du(t),d!==null){for(i.flags|=128,$l(h,!1),t=d.updateQueue,i.updateQueue=t,Qu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)my(a,t),a=a.sibling;return Qe(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&nn()>Ku&&(i.flags|=128,o=!0,$l(h,!1),i.lanes=4194304)}else{if(!o)if(t=Du(d),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Qu(i,t),$l(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return Je(i),null}else 2*nn()-h.renderingStartTime>Ku&&a!==536870912&&(i.flags|=128,o=!0,$l(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,t=St.current,Qe(St,o?t&1|2:t&1),i):(Je(i),null);case 22:case 23:return Ii(i),jh(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?a&536870912&&!(i.flags&128)&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),a=i.updateQueue,a!==null&&Qu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&it(vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(bt),Je(i),null;case 25:return null}throw Error(s(156,i.tag))}function sA(t,i){switch(Lh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(bt),pi(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Fs(i),null;case 13:if(Ii(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Dl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return it(St),null;case 4:return pi(),null;case 10:return Vi(i.type),null;case 22:case 23:return Ii(i),jh(),t!==null&&it(vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(bt),null;case 25:return null;default:return null}}function yy(t,i){switch(Lh(i),i.tag){case 3:Vi(bt),pi();break;case 26:case 27:case 5:Fs(i);break;case 4:pi();break;case 13:Ii(i);break;case 19:it(St);break;case 10:Vi(i.type);break;case 22:case 23:Ii(i),jh(),t!==null&&it(vs);break;case 24:Vi(bt)}}var aA={getCacheForType:function(t){var i=Ft(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},lA=typeof WeakMap=="function"?WeakMap:Map,et=0,Xe=null,Oe=null,Ue=0,We=0,fn=null,Ui=!1,ba=!1,Uf=!1,Li=0,at=0,Dr=0,Is=0,Lf=0,Dn=0,wa=0,Xl=null,ii=null,zf=!1,Bf=0,Ku=1/0,Yu=null,Or=null,$u=!1,Ds=null,Wl=0,Hf=0,jf=null,Zl=0,qf=null;function dn(){if(et&2&&Ue!==0)return Ue&-Ue;if(S.T!==null){var t=ga;return t!==0?t:Wf()}return tu()}function _y(){Dn===0&&(Dn=!(Ue&536870912)||He?cl():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Dn}function tn(t,i,a){(t===Xe&&We===2||t.cancelPendingCommit!==null)&&(Ra(t,0),zi(t,Ue,Dn,!1)),ut(t,a),(!(et&2)||t!==Xe)&&(t===Xe&&(!(et&2)&&(Is|=a),at===4&&zi(t,Ue,Dn,!1)),ri(t))}function vy(t,i,a){if(et&6)throw Error(s(327));var o=!a&&(i&60)===0&&(i&t.expiredLanes)===0||ir(t,i),h=o?cA(t,i):Kf(t,i,!0),d=o;do{if(h===0){ba&&!o&&zi(t,i,0,!1);break}else if(h===6)zi(t,i,0,!Ui);else{if(a=t.current.alternate,d&&!oA(a)){h=Kf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=Xl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ra(E,v).flags|=256),v=Kf(E,v,!1),v!==2){if(Uf&&!R){E.errorRecoveryDisabledLanes|=d,Is|=d,h=4;break e}d=ii,ii=h,d!==null&&Ff(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ra(t,0),zi(t,i,0,!0);break}e:{switch(o=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){zi(o,i,Dn,!Ui);break e}break;case 2:ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(d=Bf+300-nn(),10<d)){if(zi(o,i,Dn,!Ui),pn(o,0)!==0)break e;o.timeoutHandle=qy(Ey.bind(null,o,a,ii,Yu,zf,i,Dn,Is,wa,Ui,2,-0,0),d);break e}Ey(o,a,ii,Yu,zf,i,Dn,Is,wa,Ui,0,-0,0)}}break}while(!0);ri(t)}function Ff(t){ii===null?ii=t:ii.push.apply(ii,t)}function Ey(t,i,a,o,h,d,v,E,R,x,G,W,H){var F=i.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(ro={stylesheets:null,count:0,unsuspend:qA},cy(i),i=GA(),i!==null)){t.cancelPendingCommit=i(Cy.bind(null,t,a,o,h,v,E,R,1,W,H)),zi(t,d,v,!x);return}Cy(t,a,o,h,v,E,R,G,W,H)}function oA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zi(t,i,a,o){i&=~Lf,i&=~Is,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&sr(t,a,i)}function Xu(){return et&6?!0:(Jl(0),!1)}function Gf(){if(Oe!==null){if(We===0)var t=Oe.return;else t=Oe,Ni=bs=null,Xh(t),ma=null,Ml=0,t=Oe;for(;t!==null;)yy(t.alternate,t),t=t.return;Oe=null}}function Ra(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Gf(),Xe=t,Oe=a=Ir(t.current,null),Ue=i,We=0,fn=null,Ui=!1,ba=ir(t,i),Uf=!1,wa=Dn=Lf=Is=Dr=at=0,ii=Xl=null,zf=!1,i&8&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-Wt(o),d=1<<h;i|=t[h],o&=~d}return Li=i,Eu(),a}function Ty(t,i){Ie=null,S.H=ni,i===Nl?(i=kp(),We=3):i===Mp?(i=kp(),We=4):We=i===xg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,Oe===null&&(at=1,Bu(t,An(i,t.current)))}function Ay(){var t=S.H;return S.H=ni,t===null?ni:t}function Sy(){var t=S.A;return S.A=aA,t}function Qf(){at=4,Ui||(Ue&4194176)!==Ue&&wn.current!==null||(ba=!0),!(Dr&134217727)&&!(Is&134217727)||Xe===null||zi(Xe,Ue,Dn,!1)}function Kf(t,i,a){var o=et;et|=2;var h=Ay(),d=Sy();(Xe!==t||Ue!==i)&&(Yu=null,Ra(t,i)),i=!1;var v=at;e:do try{if(We!==0&&Oe!==null){var E=Oe,R=fn;switch(We){case 8:Gf(),v=6;break e;case 3:case 2:case 6:wn.current===null&&(i=!0);var x=We;if(We=0,fn=null,Ca(t,E,R,x),a&&ba){v=0;break e}break;default:x=We,We=0,fn=null,Ca(t,E,R,x)}}uA(),v=at;break}catch(G){Ty(t,G)}while(!0);return i&&t.shellSuspendCounter++,Ni=bs=null,et=o,S.H=h,S.A=d,Oe===null&&(Xe=null,Ue=0,Eu()),v}function uA(){for(;Oe!==null;)by(Oe)}function cA(t,i){var a=et;et|=2;var o=Ay(),h=Sy();Xe!==t||Ue!==i?(Yu=null,Ku=nn()+500,Ra(t,i)):ba=ir(t,i);e:do try{if(We!==0&&Oe!==null){i=Oe;var d=fn;t:switch(We){case 1:We=0,fn=null,Ca(t,i,d,1);break;case 2:if(xp(d)){We=0,fn=null,wy(i);break}i=function(){We===2&&Xe===t&&(We=7),ri(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:xp(d)?(We=0,fn=null,wy(i)):(We=0,fn=null,Ca(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var E=Oe;if(!v||e_(v)){We=0,fn=null;var R=E.sibling;if(R!==null)Oe=R;else{var x=E.return;x!==null?(Oe=x,Wu(x)):Oe=null}break t}}We=0,fn=null,Ca(t,i,d,5);break;case 6:We=0,fn=null,Ca(t,i,d,6);break;case 8:Gf(),at=6;break e;default:throw Error(s(462))}}hA();break}catch(G){Ty(t,G)}while(!0);return Ni=bs=null,S.H=o,S.A=h,et=a,Oe!==null?0:(Xe=null,Ue=0,Eu(),at)}function hA(){for(;Oe!==null&&!Eh();)by(Oe)}function by(t){var i=Qg(t.alternate,t,Li);t.memoizedProps=t.pendingProps,i===null?Wu(t):Oe=i}function wy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Bg(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Bg(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Xh(i);default:yy(a,i),i=Oe=my(i,Li),i=Qg(a,i,Li)}t.memoizedProps=t.pendingProps,i===null?Wu(t):Oe=i}function Ca(t,i,a,o){Ni=bs=null,Xh(i),ma=null,Ml=0;var h=i.return;try{if(J0(t,h,i,a,Ue)){at=1,Bu(t,An(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;at=1,Bu(t,An(a,t.current)),Oe=null;return}i.flags&32768?(He||o===1?t=!0:ba||Ue&536870912?t=!1:(Ui=t=!0,(o===2||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ry(i,t)):Wu(i)}function Wu(t){var i=t;do{if(i.flags&32768){Ry(i,Ui);return}t=i.return;var a=rA(i.alternate,i,Li);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);at===0&&(at=5)}function Ry(t,i){do{var a=sA(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);at=6,Oe=null}function Cy(t,i,a,o,h,d,v,E,R,x){var G=S.T,W=se.p;try{se.p=2,S.T=null,fA(t,i,a,o,W,h,d,v,E,R,x)}finally{S.T=G,se.p=W}}function fA(t,i,a,o,h,d,v,E){do Ia();while(Ds!==null);if(et&6)throw Error(s(327));var R=t.finishedWork;if(o=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var x=R.lanes|R.childLanes;if(x|=Ph,Jo(t,o,x,d,v,E),t===Xe&&(Oe=Xe=null,Ue=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||$u||($u=!0,Hf=x,jf=a,gA(gi,function(){return Ia(),null})),a=(R.flags&15990)!==0,R.subtreeFlags&15990||a?(a=S.T,S.T=null,d=se.p,se.p=2,v=et,et|=4,tA(t,R),ly(R,t),k0(sd,t.containerInfo),uc=!!rd,sd=rd=null,t.current=R,iy(t,R.alternate,R),al(),et=v,se.p=d,S.T=a):t.current=R,$u?($u=!1,Ds=t,Wl=o):Iy(t,x),x=t.pendingLanes,x===0&&(Or=null),ol(R.stateNode),ri(t),i!==null)for(h=t.onRecoverableError,R=0;R<i.length;R++)x=i[R],h(x.value,{componentStack:x.stack});return Wl&3&&Ia(),x=t.pendingLanes,o&4194218&&x&42?t===qf?Zl++:(Zl=0,qf=t):Zl=0,Jl(0),null}function Iy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Pl(i)))}function Ia(){if(Ds!==null){var t=Ds,i=Hf;Hf=0;var a=eu(Wl),o=S.T,h=se.p;try{if(se.p=32>a?32:a,S.T=null,Ds===null)var d=!1;else{a=jf,jf=null;var v=Ds,E=Wl;if(Ds=null,Wl=0,et&6)throw Error(s(331));var R=et;if(et|=4,fy(v.current),uy(v,v.current,E,a),et=R,Jl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(tr,v)}catch{}d=!0}return d}finally{se.p=h,S.T=o,Iy(t,i)}}return!1}function Dy(t,i,a){i=An(a,i),i=hf(t.stateNode,i,2),t=br(t,i,2),t!==null&&(ut(t,2),ri(t))}function $e(t,i,a){if(t.tag===3)Dy(t,t,a);else for(;i!==null;){if(i.tag===3){Dy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){t=An(a,t),a=Vg(2),o=br(i,a,2),o!==null&&(Mg(a,o,i,t),ut(o,2),ri(o));break}}i=i.return}}function Yf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new lA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Uf=!0,h.add(a),t=dA.bind(null,t,i,a),i.then(t,t))}function dA(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(Ue&a)===a&&(at===4||at===3&&(Ue&62914560)===Ue&&300>nn()-Bf?!(et&2)&&Ra(t,0):Lf|=a,wa===Ue&&(wa=0)),ri(t)}function Oy(t,i){i===0&&(i=rr()),t=gr(t,i),t!==null&&(ut(t,i),ri(t))}function mA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Oy(t,a)}function pA(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Oy(t,a)}function gA(t,i){return Jr(t,i)}var Zu=null,Da=null,$f=!1,Ju=!1,Xf=!1,Os=0;function ri(t){t!==Da&&t.next===null&&(Da===null?Zu=Da=t:Da=Da.next=t),Ju=!0,$f||($f=!0,_A(yA))}function Jl(t,i){if(!Xf&&Ju){Xf=!0;do for(var a=!1,o=Zu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,My(o,d))}else d=Ue,d=pn(o,o===Xe?d:0),!(d&3)||ir(o,d)||(a=!0,My(o,d));o=o.next}while(a);Xf=!1}}function yA(){Ju=$f=!1;var t=0;Os!==0&&(RA()&&(t=Os),Os=0);for(var i=nn(),a=null,o=Zu;o!==null;){var h=o.next,d=Ny(o,i);d===0?(o.next=null,a===null?Zu=h:a.next=h,h===null&&(Da=a)):(a=o,(t!==0||d&3)&&(Ju=!0)),o=h}Jl(t)}function Ny(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),E=1<<v,R=h[v];R===-1?(!(E&a)||E&o)&&(h[v]=Ks(E,i)):R<=i&&(t.expiredLanes|=E),d&=~E}if(i=Xe,a=Ue,a=pn(t,t===i?a:0),o=t.callbackNode,a===0||t===i&&We===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Qs(o),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||ir(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&Qs(o),eu(a)){case 2:case 8:a=It;break;case 32:a=gi;break;case 268435456:a=ll;break;default:a=gi}return o=Vy.bind(null,t),a=Jr(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&Qs(o),t.callbackPriority=2,t.callbackNode=null,2}function Vy(t,i){var a=t.callbackNode;if(Ia()&&t.callbackNode!==a)return null;var o=Ue;return o=pn(t,t===Xe?o:0),o===0?null:(vy(t,o,i),Ny(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Vy.bind(null,t):null)}function My(t,i){if(Ia())return null;vy(t,i,!0)}function _A(t){IA(function(){et&6?Jr(vt,t):t()})}function Wf(){return Os===0&&(Os=cl()),Os}function xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Kn(""+t)}function Py(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function vA(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=xy((h[Et]||null).action),v=o.submitter;v&&(i=(i=v[Et]||null)?xy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new ea("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Os!==0){var R=v?Py(h,v):new FormData(h);af(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=v?Py(h,v):new FormData(h),af(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Zf=0;Zf<Cp.length;Zf++){var Jf=Cp[Zf],EA=Jf.toLowerCase(),TA=Jf[0].toUpperCase()+Jf.slice(1);kn(EA,"on"+TA)}kn(Ap,"onAnimationEnd"),kn(Sp,"onAnimationIteration"),kn(bp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(L0,"onTransitionRun"),kn(z0,"onTransitionStart"),kn(B0,"onTransitionCancel"),kn(wp,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function ky(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],R=E.instance,x=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=x;try{d(h)}catch(G){zu(G)}h.currentTarget=null,d=R}else for(v=0;v<o.length;v++){if(E=o[v],R=E.instance,x=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=x;try{d(h)}catch(G){zu(G)}h.currentTarget=null,d=R}}}}function xe(t,i){var a=i[ts];a===void 0&&(a=i[ts]=new Set);var o=t+"__bubble";a.has(o)||(Uy(i,t,2,!1),a.add(o))}function ed(t,i,a){var o=0;i&&(o|=4),Uy(a,t,o,i)}var ec="_reactListening"+Math.random().toString(36).slice(2);function td(t){if(!t[ec]){t[ec]=!0,fl.forEach(function(a){a!=="selectionchange"&&(AA.has(a)||ed(a,!1,t),ed(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ec]||(i[ec]=!0,ed("selectionchange",!1,i))}}function Uy(t,i,a,o){switch(a_(i)){case 2:var h=YA;break;case 8:h=$A;break;default:h=md}a=h.bind(null,i,a,t),h=void 0,!vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function nd(t,i,a,o,h){var d=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Pn(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=d=v;continue e}E=E.parentNode}}o=o.return}su(function(){var x=d,G=Js(a),W=[];e:{var H=Rp.get(t);if(H!==void 0){var F=ea,ue=t;switch(t){case"keypress":if($n(a)===0)break e;case"keydown":case"keyup":F=aa;break;case"focusin":ue="focus",F=ia;break;case"focusout":ue="blur",F=ia;break;case"beforeblur":case"afterblur":F=ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=du;break;case Ap:case Sp:case bp:F=ra;break;case wp:F=pu;break;case"scroll":case"scrollend":F=au;break;case"wheel":F=la;break;case"copy":case"cut":case"paste":F=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=bl;break;case"toggle":case"beforetoggle":F=yu}var Ae=(i&4)!==0,lt=!Ae&&(t==="scroll"||t==="scrollend"),k=Ae?H!==null?H+"Capture":null:H;Ae=[];for(var N=x,z;N!==null;){var Y=N;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||k===null||(Y=as(N,k),Y!=null&&Ae.push(to(N,Y,z))),lt)break;N=N.return}0<Ae.length&&(H=new F(H,ue,null,a,G),W.push({event:H,listeners:Ae}))}}if(!(i&7)){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==_n&&(ue=a.relatedTarget||a.fromElement)&&(Pn(ue)||ue[yi]))break e;if((F||H)&&(H=G.window===G?G:(H=G.ownerDocument)?H.defaultView||H.parentWindow:window,F?(ue=a.relatedTarget||a.toElement,F=x,ue=ue?Pn(ue):null,ue!==null&&(lt=fe(ue),Ae=ue.tag,ue!==lt||Ae!==5&&Ae!==27&&Ae!==6)&&(ue=null)):(F=null,ue=x),F!==ue)){if(Ae=En,Y="onMouseLeave",k="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=bl,Y="onPointerLeave",k="onPointerEnter",N="pointer"),lt=F==null?H:ur(F),z=ue==null?H:ur(ue),H=new Ae(Y,N+"leave",F,a,G),H.target=lt,H.relatedTarget=z,Y=null,Pn(G)===x&&(Ae=new Ae(k,N+"enter",ue,a,G),Ae.target=z,Ae.relatedTarget=lt,Y=Ae),lt=Y,F&&ue)t:{for(Ae=F,k=ue,N=0,z=Ae;z;z=Oa(z))N++;for(z=0,Y=k;Y;Y=Oa(Y))z++;for(;0<N-z;)Ae=Oa(Ae),N--;for(;0<z-N;)k=Oa(k),z--;for(;N--;){if(Ae===k||k!==null&&Ae===k.alternate)break t;Ae=Oa(Ae),k=Oa(k)}Ae=null}else Ae=null;F!==null&&Ly(W,H,F,Ae,!1),ue!==null&&lt!==null&&Ly(W,lt,ue,Ae,!0)}}e:{if(H=x?ur(x):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var le=hp;else if(At(H))if(fp)le=x0;else{le=V0;var De=N0}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?x&&yl(x.elementType)&&(le=hp):le=M0;if(le&&(le=le(t,x))){wi(W,le,a,G);break e}De&&De(t,H,x),t==="focusout"&&x&&H.type==="number"&&x.memoizedProps.value!=null&&Zs(H,"number",H.value)}switch(De=x?ur(x):window,t){case"focusin":(At(De)||De.contentEditable==="true")&&(oa=De,Vh=x,Cl=null);break;case"focusout":Cl=Vh=oa=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Ep(W,a,G);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":Ep(W,a,G)}var he;if(Zn)e:{switch(t){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Pe?q(t,a)&&(ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(_&&a.locale!=="ko"&&(Pe||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Pe&&(he=vl()):(Yn=G,pr="value"in Yn?Yn.value:Yn.textContent,Pe=!0)),De=tc(x,ge),0<De.length&&(ge=new Al(ge,t,null,a,G),W.push({event:ge,listeners:De}),he?ge.data=he:(he=ne(a),he!==null&&(ge.data=he)))),(he=p?Tt(t,a):ke(t,a))&&(ge=tc(x,"onBeforeInput"),0<ge.length&&(De=new Al("onBeforeInput","beforeinput",null,a,G),W.push({event:De,listeners:ge}),De.data=he)),vA(W,t,x,a,G)}ky(W,i)})}function to(t,i,a){return{instance:t,listener:i,currentTarget:a}}function tc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=as(t,a),h!=null&&o.unshift(to(t,h,d)),h=as(t,i),h!=null&&o.push(to(t,h,d))),t=t.return}return o}function Oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ly(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,R=E.alternate,x=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||x===null||(R=x,h?(x=as(a,d),x!=null&&v.unshift(to(a,x,R))):h||(x=as(a,d),x!=null&&v.push(to(a,x,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var SA=/\r\n?/g,bA=/\u0000|\uFFFD/g;function zy(t){return(typeof t=="string"?t:""+t).replace(SA,`
`).replace(bA,"")}function By(t,i){return i=zy(i),zy(t)===i}function nc(){}function Ye(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&yn(t,""+o);break;case"className":fr(t,"class",o);break;case"tabIndex":fr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(t,a,o);break;case"style":ru(t,o,d);break;case"data":if(i!=="object"){fr(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Kn(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Kn(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=nc);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Kn(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":xe("beforetoggle",t),xe("toggle",t),hr(t,"popover",o);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wh.get(a)||a,hr(t,a,o))}}function id(t,i,a,o,h,d){switch(a){case"style":ru(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):hr(t,a,o)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,d,v,a,null)}}h&&Ye(t,i,"srcSet",a.srcSet,a,null),o&&Ye(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var E=d=v=h=null,R=null,x=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":R=G;break;case"defaultChecked":x=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Ye(t,i,o,G,a,null)}}rs(t,d,E,R,x,v,h,!1),is(t);return;case"select":xe("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Ye(t,i,h,E,a,null)}i=d,a=v,t.multiple=!!o,i!=null?Be(t,!!o,i,!1):a!=null&&Be(t,!!o,a,!0);return;case"textarea":xe("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ye(t,i,v,E,a,null)}mr(t,o,h,d),is(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(t,i,R,o,a,null)}return;case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(o=0;o<eo.length;o++)xe(eo[o],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,x,o,a,null)}return;default:if(yl(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&id(t,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Ye(t,i,E,o,a,null))}function wA(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,R=null,x=null,G=null;for(F in a){var W=a[F];if(a.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=W;default:o.hasOwnProperty(F)||Ye(t,i,F,null,o,W)}}for(var H in o){var F=o[H];if(W=a[H],o.hasOwnProperty(H)&&(F!=null||W!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":x=F;break;case"defaultChecked":G=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==W&&Ye(t,i,H,F,o,W)}}dr(t,v,E,R,x,G,d,h);return;case"select":F=v=E=H=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":F=R;default:o.hasOwnProperty(d)||Ye(t,i,d,null,o,R)}for(h in o)if(d=o[h],R=a[h],o.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":H=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==R&&Ye(t,i,h,d,o,R)}i=E,a=v,o=F,H!=null?Be(t,!!a,H,!1):!!o!=!!a&&(i!=null?Be(t,!!a,i,!0):Be(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ye(t,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,i,v,h,o,d)}ss(t,H,F);return;case"option":for(var ue in a)if(H=a[ue],a.hasOwnProperty(ue)&&H!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Ye(t,i,ue,null,o,H)}for(R in o)if(H=o[R],F=a[R],o.hasOwnProperty(R)&&H!==F&&(H!=null||F!=null))switch(R){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ye(t,i,R,H,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)H=a[Ae],a.hasOwnProperty(Ae)&&H!=null&&!o.hasOwnProperty(Ae)&&Ye(t,i,Ae,null,o,H);for(x in o)if(H=o[x],F=a[x],o.hasOwnProperty(x)&&H!==F&&(H!=null||F!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ye(t,i,x,H,o,F)}return;default:if(yl(i)){for(var lt in a)H=a[lt],a.hasOwnProperty(lt)&&H!==void 0&&!o.hasOwnProperty(lt)&&id(t,i,lt,void 0,o,H);for(G in o)H=o[G],F=a[G],!o.hasOwnProperty(G)||H===F||H===void 0&&F===void 0||id(t,i,G,H,o,F);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!o.hasOwnProperty(k)&&Ye(t,i,k,null,o,H);for(W in o)H=o[W],F=a[W],!o.hasOwnProperty(W)||H===F||H==null&&F==null||Ye(t,i,W,H,o,F)}var rd=null,sd=null;function ic(t){return t.nodeType===9?t:t.ownerDocument}function Hy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ad(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ld=null;function RA(){var t=window.event;return t&&t.type==="popstate"?t===ld?!1:(ld=t,!0):(ld=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,CA=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,IA=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(t){return Fy.resolve(null).then(t).catch(DA)}:qy;function DA(t){setTimeout(function(){throw t})}function od(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){t.removeChild(h),uo(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);uo(i)}function ud(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ud(a),ns(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OA(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[or])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function NA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Gy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Qy(t,i,a){switch(i=ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var On=new Map,Ky=new Set;function rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Bi=se.d;se.d={f:VA,r:MA,D:xA,C:PA,L:kA,m:UA,X:zA,S:LA,M:BA};function VA(){var t=Bi.f(),i=Xu();return t||i}function MA(t){var i=_i(t);i!==null&&i.tag===5&&i.type==="form"?Eg(i):Bi.r(t)}var Na=typeof document>"u"?null:document;function Yy(t,i,a){var o=Na;if(o&&typeof i=="string"&&i){var h=rt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ky.has(h)||(Ky.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),zt(i,"link",t),Ze(i),o.head.appendChild(i)))}}function xA(t){Bi.D(t),Yy("dns-prefetch",t,null)}function PA(t,i){Bi.C(t,i),Yy("preconnect",t,i)}function kA(t,i,a){Bi.L(t,i,a);var o=Na;if(o&&t&&i){var h='link[rel="preload"][as="'+rt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rt(a.imageSizes)+'"]')):h+='[href="'+rt(t)+'"]';var d=h;switch(i){case"style":d=Va(t);break;case"script":d=Ma(t)}On.has(d)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),On.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(no(d))||i==="script"&&o.querySelector(io(d))||(i=o.createElement("link"),zt(i,"link",t),Ze(i),o.head.appendChild(i)))}}function UA(t,i){Bi.m(t,i);var a=Na;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rt(o)+'"][href="'+rt(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ma(t)}if(!On.has(d)&&(t=I({rel:"modulepreload",href:t},i),On.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(io(d)))return}o=a.createElement("link"),zt(o,"link",t),Ze(o),a.head.appendChild(o)}}}function LA(t,i,a){Bi.S(t,i,a);var o=Na;if(o&&t){var h=cr(o).hoistableStyles,d=Va(t);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(no(d)))E.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=On.get(d))&&cd(t,a);var R=v=o.createElement("link");Ze(R),zt(R,"link",t),R._p=new Promise(function(x,G){R.onload=x,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function zA(t,i){Bi.X(t,i);var a=Na;if(a&&t){var o=cr(a).hoistableScripts,h=Ma(t),d=o.get(h);d||(d=a.querySelector(io(h)),d||(t=I({src:t,async:!0},i),(i=On.get(h))&&hd(t,i),d=a.createElement("script"),Ze(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function BA(t,i){Bi.M(t,i);var a=Na;if(a&&t){var o=cr(a).hoistableScripts,h=Ma(t),d=o.get(h);d||(d=a.querySelector(io(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=On.get(h))&&hd(t,i),d=a.createElement("script"),Ze(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function $y(t,i,a,o){var h=(h=mn.current)?rc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Va(a.href),a=cr(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Va(a.href);var d=cr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(no(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||HA(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ma(a),a=cr(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Va(t){return'href="'+rt(t)+'"'}function no(t){return'link[rel="stylesheet"]['+t+"]"}function Xy(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function HA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),zt(i,"link",a),Ze(i),t.head.appendChild(i))}function Ma(t){return'[src="'+rt(t)+'"]'}function io(t){return"script[async]"+t}function Wy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+rt(a.href)+'"]');if(o)return i.instance=o,Ze(o),o;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ze(o),zt(o,"style",h),sc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Va(a.href);var d=t.querySelector(no(h));if(d)return i.state.loading|=4,i.instance=d,Ze(d),d;o=Xy(a),(h=On.get(h))&&cd(o,h),d=(t.ownerDocument||t).createElement("link"),Ze(d);var v=d;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),zt(d,"link",o),i.state.loading|=4,sc(d,a.precedence,t),i.instance=d;case"script":return d=Ma(a.src),(h=t.querySelector(io(d)))?(i.instance=h,Ze(h),h):(o=a,(h=On.get(d))&&(o=I({},a),hd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ze(h),zt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(o=i.instance,i.state.loading|=4,sc(o,a.precedence,t));return i.instance}function sc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function cd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ac=null;function Zy(t,i,a){if(ac===null){var o=new Map,h=ac=new Map;h.set(a,o)}else h=ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[or]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function Jy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function jA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function e_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ro=null;function qA(){}function FA(t,i,a){if(ro===null)throw Error(s(475));var o=ro;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=Va(a.href),d=t.querySelector(no(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=lc.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=d,Ze(d);return}d=t.ownerDocument||t,a=Xy(a),(h=On.get(h))&&cd(a,h),d=d.createElement("link"),Ze(d);var v=d;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),zt(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&!(i.state.loading&3)&&(o.count++,i=lc.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function GA(){if(ro===null)throw Error(s(475));var t=ro;return t.stylesheets&&t.count===0&&fd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&fd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oc=null;function fd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oc=new Map,i.forEach(QA,t),oc=null,lc.call(t))}function QA(t,i){if(!(i.state.loading&4)){var a=oc.get(t);if(a)var o=a.get(null);else{a=new Map,oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var so={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function KA(t,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.hiddenUpdates=Ys(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function t_(t,i,a,o,h,d,v,E,R,x,G,W){return t=new KA(t,i,a,v,E,R,x,W),i=1,d===!0&&(i|=24),d=In(3,null,null,i),t.current=d,d.stateNode=t,i=qh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},bf(d),t}function n_(t){return t?(t=ha,t):ha}function i_(t,i,a,o,h,d){h=n_(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=br(t,o,i),a!==null&&(tn(a,t,i),jl(a,t,i))}function r_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function dd(t,i){r_(t,i),(t=t.alternate)&&r_(t,i)}function s_(t){if(t.tag===13){var i=gr(t,67108864);i!==null&&tn(i,t,67108864),dd(t,67108864)}}var uc=!0;function YA(t,i,a,o){var h=S.T;S.T=null;var d=se.p;try{se.p=2,md(t,i,a,o)}finally{se.p=d,S.T=h}}function $A(t,i,a,o){var h=S.T;S.T=null;var d=se.p;try{se.p=8,md(t,i,a,o)}finally{se.p=d,S.T=h}}function md(t,i,a,o){if(uc){var h=pd(o);if(h===null)nd(t,i,o,cc,a),l_(t,o);else if(WA(h,t,i,a,o))o.stopPropagation();else if(l_(t,o),i&4&&-1<XA.indexOf(t)){for(;h!==null;){var d=_i(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Wt(v);E.entanglements[1]|=R,v&=~R}ri(d),!(et&6)&&(Ku=nn()+500,Jl(0))}}break;case 13:E=gr(d,2),E!==null&&tn(E,d,2),Xu(),dd(d,2)}if(d=pd(o),d===null&&nd(t,i,o,cc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else nd(t,i,o,null,a)}}function pd(t){return t=Js(t),gd(t)}var cc=null;function gd(t){if(cc=null,t=Pn(t),t!==null){var i=fe(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=qe(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return cc=t,null}function a_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($o()){case vt:return 2;case It:return 8;case gi:case Xo:return 32;case ll:return 268435456;default:return 32}default:return 32}}var yd=!1,Nr=null,Vr=null,Mr=null,ao=new Map,lo=new Map,xr=[],XA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(t,i){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":ao.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(i.pointerId)}}function oo(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=_i(i),i!==null&&s_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function WA(t,i,a,o,h){switch(i){case"focusin":return Nr=oo(Nr,t,i,a,o,h),!0;case"dragenter":return Vr=oo(Vr,t,i,a,o,h),!0;case"mouseover":return Mr=oo(Mr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return ao.set(d,oo(ao.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,lo.set(d,oo(lo.get(d)||null,t,i,a,o,h)),!0}return!1}function o_(t){var i=Pn(t.target);if(i!==null){var a=fe(i);if(a!==null){if(i=a.tag,i===13){if(i=qe(a),i!==null){t.blockedOn=i,lr(t.priority,function(){if(a.tag===13){var o=dn(),h=gr(a,o);h!==null&&tn(h,a,o),dd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=pd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);_n=o,a.target.dispatchEvent(o),_n=null}else return i=_i(a),i!==null&&s_(i),t.blockedOn=a,!1;i.shift()}return!0}function u_(t,i,a){hc(t)&&a.delete(i)}function ZA(){yd=!1,Nr!==null&&hc(Nr)&&(Nr=null),Vr!==null&&hc(Vr)&&(Vr=null),Mr!==null&&hc(Mr)&&(Mr=null),ao.forEach(u_),lo.forEach(u_)}function fc(t,i){t.blockedOn===i&&(t.blockedOn=null,yd||(yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ZA)))}var dc=null;function c_(t){dc!==t&&(dc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dc===t&&(dc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(gd(o||a)===null)continue;break}var d=_i(a);d!==null&&(t.splice(i,3),i-=3,af(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function uo(t){function i(R){return fc(R,t)}Nr!==null&&fc(Nr,t),Vr!==null&&fc(Vr,t),Mr!==null&&fc(Mr,t),ao.forEach(i),lo.forEach(i);for(var a=0;a<xr.length;a++){var o=xr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)o_(a),a.blockedOn===null&&xr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[Et]||null;if(typeof d=="function")v||c_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Et]||null)E=v.formAction;else if(gd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),c_(a)}}}function _d(t){this._internalRoot=t}mc.prototype.render=_d.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=dn();i_(a,o,t,i,null,null)},mc.prototype.unmount=_d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ia(),i_(t.current,2,null,t,null,null),Xu(),i[yi]=null}};function mc(t){this._internalRoot=t}mc.prototype.unstable_scheduleHydration=function(t){if(t){var i=tu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<xr.length&&i!==0&&i<xr[a].priority;a++);xr.splice(a,0,t),a===0&&o_(t)}};var h_=e.version;if(h_!=="19.0.0")throw Error(s(527,h_,"19.0.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Z(i),t=t!==null?ce(t):null,t=t===null?null:t.stateNode,t};var JA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Pn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{tr=pc.inject(JA),qt=pc}catch{}}return ho.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=Ig,d=Dg,v=Og,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=t_(t,1,!1,null,null,a,o,h,d,v,E,null),t[yi]=i.current,td(t.nodeType===8?t.parentNode:t),new _d(i)},ho.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=Ig,v=Dg,E=Og,R=null,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(x=a.formState)),i=t_(t,1,!0,i,a??null,o,h,d,v,E,R,x),i.context=n_(null),a=i.current,o=dn(),h=Sr(o),h.callback=null,br(a,h,o),i.current.lanes=o,ut(i,o),ri(i),t[yi]=i.current,td(t),new mc(i)},ho.version="19.0.0",ho}var T_;function cS(){if(T_)return Td.exports;T_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Td.exports=uS(),Td.exports}var hS=cS();const fS=$v(hS);var fo={},A_;function dS(){if(A_)return fo;A_=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.parse=f,fo.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,P){const B=new u,K=C.length;if(K<2)return B;const j=(P==null?void 0:P.decode)||T;let $=0;do{const te=C.indexOf("=",$);if(te===-1)break;const ee=C.indexOf(";",$),pe=ee===-1?K:ee;if(te>pe){$=C.lastIndexOf(";",te-1)+1;continue}const oe=m(C,$,te),be=g(C,te,oe),V=C.slice(oe,be);if(B[V]===void 0){let w=m(C,te+1,pe),S=g(C,pe,w);const I=j(C.slice(w,S));B[V]=I}$=pe+1}while($<K);return B}function m(C,P,B){do{const K=C.charCodeAt(P);if(K!==32&&K!==9)return P}while(++P<B);return B}function g(C,P,B){for(;P>B;){const K=C.charCodeAt(--P);if(K!==32&&K!==9)return P+1}return B}function y(C,P,B){const K=(B==null?void 0:B.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const j=K(P);if(!e.test(j))throw new TypeError(`argument val is invalid: ${P}`);let $=C+"="+j;if(!B)return $;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);$+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);$+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);$+="; Path="+B.path}if(B.expires){if(!b(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);$+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&($+="; HttpOnly"),B.secure&&($+="; Secure"),B.partitioned&&($+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return $}function T(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function b(C){return l.call(C)==="[object Date]"}return fo}dS();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S_="popstate";function mS(r={}){function e(s,l){let{pathname:u,search:f,hash:m}=s.location;return Ld("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:wo(l)}return gS(e,n,null,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ui(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pS(){return Math.random().toString(36).substring(2,10)}function b_(r,e){return{usr:r.state,key:r.key,idx:e}}function Ld(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Wa(e):e,state:n,key:e&&e.key||s||pS()}}function wo({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Wa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function gS(r,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",g=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let j=T(),$=j==null?null:j-y;y=j,g&&g({action:m,location:K.location,delta:$})}function C(j,$){m="PUSH";let te=Ld(K.location,j,$);y=T()+1;let ee=b_(te,y),pe=K.createHref(te);try{f.pushState(ee,"",pe)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;l.location.assign(pe)}u&&g&&g({action:m,location:K.location,delta:1})}function P(j,$){m="REPLACE";let te=Ld(K.location,j,$);y=T();let ee=b_(te,y),pe=K.createHref(te);f.replaceState(ee,"",pe),u&&g&&g({action:m,location:K.location,delta:0})}function B(j){let $=l.location.origin!=="null"?l.location.origin:l.location.href,te=typeof j=="string"?j:wo(j);return te=te.replace(/ $/,"%20"),tt($,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,$)}let K={get action(){return m},get location(){return r(l,f)},listen(j){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(S_,b),g=j,()=>{l.removeEventListener(S_,b),g=null}},createHref(j){return e(l,j)},createURL:B,encodeLocation(j){let $=B(j);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:C,replace:P,go(j){return f.go(j)}};return K}function Xv(r,e,n="/"){return yS(r,e,n,!1)}function yS(r,e,n,s){let l=typeof e=="string"?Wa(e):e,u=Qr(l.pathname||"/",n);if(u==null)return null;let f=Wv(r);_S(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=DS(u);m=CS(f[g],y,s)}return m}function Wv(r,e=[],n=[],s=""){let l=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(tt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Gi([s,g.relativePath]),T=n.concat(g);u.children&&u.children.length>0&&(tt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Wv(u.children,e,T,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:wS(y,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let g of Zv(u.path))l(u,f,g)}),e}function Zv(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=Zv(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function _S(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:RS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vS=/^:[\w-]+$/,ES=3,TS=2,AS=1,SS=10,bS=-2,w_=r=>r==="*";function wS(r,e){let n=r.split("/"),s=n.length;return n.some(w_)&&(s+=bS),e&&(s+=TS),n.filter(l=>!w_(l)).reduce((l,u)=>l+(vS.test(u)?ES:u===""?AS:SS),s)}function RS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function CS(r,e,n=!1){let{routesMeta:s}=r,l={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=xc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),C=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=xc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(l,b.params),f.push({params:l,pathname:Gi([u,b.pathname]),pathnameBase:MS(Gi([u,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(u=Gi([u,b.pathnameBase]))}return f}function xc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=IS(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:b},C)=>{if(T==="*"){let B=m[C]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const P=m[C];return b&&!P?y[T]=void 0:y[T]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function IS(r,e=!1,n=!0){ui(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function DS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Qr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function OS(r,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?Wa(r):r;return{pathname:n?n.startsWith("/")?n:NS(n,e):e,search:xS(s),hash:PS(l)}}function NS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function wd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jv(r){let e=VS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function eE(r,e,n,s=!1){let l;typeof r=="string"?l=Wa(r):(l={...r},tt(!l.pathname||!l.pathname.includes("?"),wd("?","pathname","search",l)),tt(!l.pathname||!l.pathname.includes("#"),wd("#","pathname","hash",l)),tt(!l.search||!l.search.includes("#"),wd("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),b-=1;l.pathname=C.join("/")}m=b>=0?e[b]:"/"}let g=OS(l,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var Gi=r=>r.join("/").replace(/\/\/+/g,"/"),MS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),xS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,PS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function kS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var tE=["POST","PUT","PATCH","DELETE"];new Set(tE);var US=["GET",...tE];new Set(US);var Za=Q.createContext(null);Za.displayName="DataRouter";var th=Q.createContext(null);th.displayName="DataRouterState";var nE=Q.createContext({isTransitioning:!1});nE.displayName="ViewTransition";var LS=Q.createContext(new Map);LS.displayName="Fetchers";var zS=Q.createContext(null);zS.displayName="Await";var di=Q.createContext(null);di.displayName="Navigation";var ko=Q.createContext(null);ko.displayName="Location";var Wi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var dm=Q.createContext(null);dm.displayName="RouteError";function BS(r,{relative:e}={}){tt(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(di),{hash:l,pathname:u,search:f}=Lo(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Gi([n,u])),s.createHref({pathname:m,search:f,hash:l})}function Uo(){return Q.useContext(ko)!=null}function zs(){return tt(Uo(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(ko).location}var iE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rE(r){Q.useContext(di).static||Q.useLayoutEffect(r)}function nh(){let{isDataRoute:r}=Q.useContext(Wi);return r?JS():HS()}function HS(){tt(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Za),{basename:e,navigator:n}=Q.useContext(di),{matches:s}=Q.useContext(Wi),{pathname:l}=zs(),u=JSON.stringify(Jv(s)),f=Q.useRef(!1);return rE(()=>{f.current=!0}),Q.useCallback((g,y={})=>{if(ui(f.current,iE),!f.current)return;if(typeof g=="number"){n.go(g);return}let T=eE(g,JSON.parse(u),l,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Gi([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,l,r])}Q.createContext(null);function Lo(r,{relative:e}={}){let{matches:n}=Q.useContext(Wi),{pathname:s}=zs(),l=JSON.stringify(Jv(n));return Q.useMemo(()=>eE(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function jS(r,e){return sE(r,e)}function sE(r,e,n,s){var te;tt(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=Q.useContext(di),{matches:f}=Q.useContext(Wi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let ee=b&&b.path||"";aE(y,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let C=zs(),P;if(e){let ee=typeof e=="string"?Wa(e):e;tt(T==="/"||((te=ee.pathname)==null?void 0:te.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),P=ee}else P=C;let B=P.pathname||"/",K=B;if(T!=="/"){let ee=T.replace(/^\//,"").split("/");K="/"+B.replace(/^\//,"").split("/").slice(ee.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:Xv(r,{pathname:K});ui(b||j!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),ui(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=KS(j&&j.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:Gi([T,l.encodeLocation?l.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?T:Gi([T,l.encodeLocation?l.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&$?Q.createElement(ko.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},$):$}function qS(){let r=ZS(),e=kS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:l},n):null,f)}var FS=Q.createElement(qS,null),GS=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(Wi.Provider,{value:this.props.routeContext},Q.createElement(dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QS({routeContext:r,match:e,children:n}){let s=Q.useContext(Za);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Wi.Provider,{value:r},n)}function KS(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n==null?void 0:n.errors;if(u!=null){let g=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);tt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:T,errors:b}=n,C=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,T)=>{let b,C=!1,P=null,B=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||FS,f&&(m<0&&T===0?(aE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,B=null):m===T&&(C=!0,B=y.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,T+1)),j=()=>{let $;return b?$=P:C?$=B:y.route.Component?$=Q.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,Q.createElement(QS,{match:y,routeContext:{outlet:g,matches:K,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?Q.createElement(GS,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:j(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):j()},null)}function mm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(r){let e=Q.useContext(Za);return tt(e,mm(r)),e}function $S(r){let e=Q.useContext(th);return tt(e,mm(r)),e}function XS(r){let e=Q.useContext(Wi);return tt(e,mm(r)),e}function pm(r){let e=XS(r),n=e.matches[e.matches.length-1];return tt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function WS(){return pm("useRouteId")}function ZS(){var s;let r=Q.useContext(dm),e=$S("useRouteError"),n=pm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function JS(){let{router:r}=YS("useNavigate"),e=pm("useNavigate"),n=Q.useRef(!1);return rE(()=>{n.current=!0}),Q.useCallback(async(l,u={})=>{ui(n.current,iE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var R_={};function aE(r,e,n){!e&&!R_[r]&&(R_[r]=!0,ui(!1,n))}Q.memo(eb);function eb({routes:r,future:e,state:n}){return sE(r,void 0,n,e)}function po(r){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tb({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1}){tt(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=Wa(n));let{pathname:g="/",search:y="",hash:T="",state:b=null,key:C="default"}=n,P=Q.useMemo(()=>{let B=Qr(g,f);return B==null?null:{location:{pathname:B,search:y,hash:T,state:b,key:C},navigationType:s}},[f,g,y,T,b,C,s]);return ui(P!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:Q.createElement(di.Provider,{value:m},Q.createElement(ko.Provider,{children:e,value:P}))}function nb({children:r,location:e}){return jS(zd(r),e)}function zd(r,e=[]){let n=[];return Q.Children.forEach(r,(s,l)=>{if(!Q.isValidElement(s))return;let u=[...e,l];if(s.type===Q.Fragment){n.push.apply(n,zd(s.props.children,u));return}tt(s.type===po,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=zd(s.props.children,u)),n.push(f)}),n}var Sc="get",bc="application/x-www-form-urlencoded";function ih(r){return r!=null&&typeof r.tagName=="string"}function ib(r){return ih(r)&&r.tagName.toLowerCase()==="button"}function rb(r){return ih(r)&&r.tagName.toLowerCase()==="form"}function sb(r){return ih(r)&&r.tagName.toLowerCase()==="input"}function ab(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lb(r,e){return r.button===0&&(!e||e==="_self")&&!ab(r)}var gc=null;function ob(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var ub=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rd(r){return r!=null&&!ub.has(r)?(ui(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bc}"`),null):r}function cb(r,e){let n,s,l,u,f;if(rb(r)){let m=r.getAttribute("action");s=m?Qr(m,e):null,n=r.getAttribute("method")||Sc,l=Rd(r.getAttribute("enctype"))||bc,u=new FormData(r)}else if(ib(r)||sb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Qr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Sc,l=Rd(r.getAttribute("formenctype"))||Rd(m.getAttribute("enctype"))||bc,u=new FormData(m,r),!ob()){let{name:y,type:T,value:b}=r;if(T==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,b)}}else{if(ih(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sc,s=null,l=bc,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}function gm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function hb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function db(r,e,n){let s=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await hb(u,n);return f.links?f.links():[]}return[]}));return yb(s.flat(1).filter(fb).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function C_(r,e,n,s,l,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var T;return n[y].pathname!==g.pathname||((T=n[y].route.path)==null?void 0:T.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var b;let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function mb(r,e){return pb(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let l=[s.module];return s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function pb(r){return[...new Set(r)]}function gb(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function yb(r,e){let n=new Set;return new Set(e),r.reduce((s,l)=>{let u=JSON.stringify(gb(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function _b(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vb(){let r=Q.useContext(Za);return gm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Eb(){let r=Q.useContext(th);return gm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ym=Q.createContext(void 0);ym.displayName="FrameworkContext";function lE(){let r=Q.useContext(ym);return gm(r,"You must render this element inside a <HydratedRouter> element"),r}function Tb(r,e){let n=Q.useContext(ym),[s,l]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=e,C=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=$=>{$.forEach(te=>{f(te.isIntersecting)})},j=new IntersectionObserver(K,{threshold:.5});return C.current&&j.observe(C.current),()=>{j.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let P=()=>{l(!0)},B=()=>{l(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:mo(m,P),onBlur:mo(g,B),onMouseEnter:mo(y,P),onMouseLeave:mo(T,B),onTouchStart:mo(b,P)}]:[!1,C,{}]}function mo(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Ab({page:r,...e}){let{router:n}=vb(),s=Q.useMemo(()=>Xv(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(bb,{page:r,matches:s,...e}):null}function Sb(r){let{manifest:e,routeModules:n}=lE(),[s,l]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return db(r,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[r,e,n]),s}function bb({page:r,matches:e,...n}){let s=zs(),{manifest:l,routeModules:u}=lE(),{loaderData:f,matches:m}=Eb(),g=Q.useMemo(()=>C_(r,e,m,l,s,"data"),[r,e,m,l,s]),y=Q.useMemo(()=>C_(r,e,m,l,s,"assets"),[r,e,m,l,s]),T=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let P=new Set,B=!1;if(e.forEach(j=>{var te;let $=l.routes[j.route.id];!$||!$.hasLoader||(!g.some(ee=>ee.route.id===j.route.id)&&j.route.id in f&&((te=u[j.route.id])!=null&&te.shouldRevalidate)||$.hasClientLoader?B=!0:P.add(j.route.id))}),P.size===0)return[];let K=_b(r);return B&&P.size>0&&K.searchParams.set("_routes",e.filter(j=>P.has(j.route.id)).map(j=>j.route.id).join(",")),[K.pathname+K.search]},[f,s,l,g,e,r,u]),b=Q.useMemo(()=>mb(y,l),[y,l]),C=Sb(y);return Q.createElement(Q.Fragment,null,T.map(P=>Q.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),b.map(P=>Q.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),C.map(({key:P,link:B})=>Q.createElement("link",{key:P,...B})))}function wb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oE&&(window.__reactRouterVersion="7.1.5")}catch{}function Rb({basename:r,children:e,window:n}){let s=Q.useRef();s.current==null&&(s.current=mS({window:n,v5Compat:!0}));let l=s.current,[u,f]=Q.useState({action:l.action,location:l.location}),m=Q.useCallback(g=>{Q.startTransition(()=>f(g))},[f]);return Q.useLayoutEffect(()=>l.listen(m),[l,m]),Q.createElement(tb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l})}var uE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vo=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:T,viewTransition:b,...C},P){let{basename:B}=Q.useContext(di),K=typeof y=="string"&&uE.test(y),j,$=!1;if(typeof y=="string"&&K&&(j=y,oE))try{let S=new URL(window.location.href),I=y.startsWith("//")?new URL(S.protocol+y):new URL(y),M=Qr(I.pathname,B);I.origin===S.origin&&M!=null?y=M+I.search+I.hash:$=!0}catch{ui(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=BS(y,{relative:l}),[ee,pe,oe]=Tb(s,C),be=Ob(y,{replace:f,state:m,target:g,preventScrollReset:T,relative:l,viewTransition:b});function V(S){e&&e(S),S.defaultPrevented||be(S)}let w=Q.createElement("a",{...C,...oe,href:j||te,onClick:$||u?e:V,ref:wb(P,pe),target:g,"data-discover":!K&&n==="render"?"true":void 0});return ee&&!K?Q.createElement(Q.Fragment,null,w,Q.createElement(Ab,{page:te})):w});vo.displayName="Link";var Cb=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:g,...y},T){let b=Lo(f,{relative:y.relative}),C=zs(),P=Q.useContext(th),{navigator:B,basename:K}=Q.useContext(di),j=P!=null&&Pb(b)&&m===!0,$=B.encodeLocation?B.encodeLocation(b).pathname:b.pathname,te=C.pathname,ee=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(te=te.toLowerCase(),ee=ee?ee.toLowerCase():null,$=$.toLowerCase()),ee&&K&&(ee=Qr(ee,K)||ee);const pe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let oe=te===$||!l&&te.startsWith($)&&te.charAt(pe)==="/",be=ee!=null&&(ee===$||!l&&ee.startsWith($)&&ee.charAt($.length)==="/"),V={isActive:oe,isPending:be,isTransitioning:j},w=oe?e:void 0,S;typeof s=="function"?S=s(V):S=[s,oe?"active":null,be?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(V):u;return Q.createElement(vo,{...y,"aria-current":w,className:S,ref:T,style:I,to:f,viewTransition:m},typeof g=="function"?g(V):g)});Cb.displayName="NavLink";var Ib=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:f=Sc,action:m,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:b,...C},P)=>{let B=Mb(),K=xb(m,{relative:y}),j=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&uE.test(m),te=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let pe=ee.nativeEvent.submitter,oe=(pe==null?void 0:pe.getAttribute("formmethod"))||f;B(pe||ee.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:l,state:u,relative:y,preventScrollReset:T,viewTransition:b})};return Q.createElement("form",{ref:P,method:j,action:K,onSubmit:s?g:te,...C,"data-discover":!$&&r==="render"?"true":void 0})});Ib.displayName="Form";function Db(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cE(r){let e=Q.useContext(Za);return tt(e,Db(r)),e}function Ob(r,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=nh(),g=zs(),y=Lo(r,{relative:u});return Q.useCallback(T=>{if(lb(T,e)){T.preventDefault();let b=n!==void 0?n:wo(g)===wo(y);m(r,{replace:b,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[g,m,y,n,s,e,r,l,u,f])}var Nb=0,Vb=()=>`__${String(++Nb)}__`;function Mb(){let{router:r}=cE("useSubmit"),{basename:e}=Q.useContext(di),n=WS();return Q.useCallback(async(s,l={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=cb(s,e);if(l.navigate===!1){let T=l.fetcherKey||Vb();await r.fetch(T,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,n])}function xb(r,{relative:e}={}){let{basename:n}=Q.useContext(di),s=Q.useContext(Wi);tt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Lo(r||".",{relative:e})},f=zs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gi([n,u.pathname])),wo(u)}function Pb(r,e={}){let n=Q.useContext(nE);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cE("useViewTransitionState"),l=Lo(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Qr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Qr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xc(l.pathname,f)!=null||xc(l.pathname,u)!=null}new TextEncoder;const kb=()=>_e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[_e.jsx("h2",{className:"text-4xl font-bold",children:"Добро пожаловать в PencilCoin"}),_e.jsx("p",{className:"mt-2 text-lg",children:"Зарабатывай и играй с нашей криптовалютой!"})]});var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Ub=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],m=r[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,P=y&63;g||(P=64,f||(C=64)),s.push(n[T],n[b],n[C],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ub(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const b=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||b==null)throw new Lb;const C=u<<2|m>>4;if(s.push(C),y!==64){const P=m<<4&240|y>>2;if(s.push(P),b!==64){const B=y<<6&192|b;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(r){const e=hE(r);return fE.encodeByteArray(e,!0)},Pc=function(r){return zb(r).replace(/\./g,"")},dE=function(r){try{return fE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=()=>Bb().__FIREBASE_DEFAULTS__,jb=()=>{if(typeof process>"u"||typeof I_>"u")return;const r=I_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&dE(r[1]);return e&&JSON.parse(e)},rh=()=>{try{return Hb()||jb()||qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mE=r=>{var e,n;return(n=(e=rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Fb=r=>{const e=mE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pE=()=>{var r;return(r=rh())===null||r===void 0?void 0:r.config},gE=r=>{var e;return(e=rh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Pc(JSON.stringify(n)),Pc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Yb(){var r;const e=(r=rh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Jb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ew(){try{return typeof indexedDB=="object"}catch{return!1}}function tw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nw,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?iw(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new Zi(l,m,s)}}function iw(r,e){return r.replace(rw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const rw=/\{\$([^}]+)}/g;function sw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function kc(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=e[l];if(D_(u)&&D_(f)){if(!kc(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function D_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function aw(r,e){const n=new lw(r,e);return n.subscribe.bind(n)}class lw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ow(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Cd),l.error===void 0&&(l.error=Cd),l.complete===void 0&&(l.complete=Cd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ow(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(r){return r&&r._delegate?r._delegate:r}class Ps{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Gb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hw(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cw(r){return r===Ns?void 0:r}function hw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const dw={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},mw=Ne.INFO,pw={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},gw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=pw[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _m{constructor(e){this.name=e,this._logLevel=mw,this._logHandler=gw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const yw=(r,e)=>e.some(n=>r instanceof n);let O_,N_;function _w(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vw(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yE=new WeakMap,Bd=new WeakMap,_E=new WeakMap,Id=new WeakMap,vm=new WeakMap;function Ew(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Hr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&yE.set(n,r)}).catch(()=>{}),vm.set(e,r),e}function Tw(r){if(Bd.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Bd.set(r,e)}let Hd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Bd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||_E.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Aw(r){Hd=r(Hd)}function Sw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Dd(this),e,...n);return _E.set(s,e.sort?e.sort():[e]),Hr(s)}:vw().includes(r)?function(...e){return r.apply(Dd(this),e),Hr(yE.get(this))}:function(...e){return Hr(r.apply(Dd(this),e))}}function bw(r){return typeof r=="function"?Sw(r):(r instanceof IDBTransaction&&Tw(r),yw(r,_w())?new Proxy(r,Hd):r)}function Hr(r){if(r instanceof IDBRequest)return Ew(r);if(Id.has(r))return Id.get(r);const e=bw(r);return e!==r&&(Id.set(r,e),vm.set(e,r)),e}const Dd=r=>vm.get(r);function ww(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),m=Hr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Hr(f.result),g.oldVersion,g.newVersion,Hr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Rw=["get","getKey","getAll","getAllKeys","count"],Cw=["put","add","delete","clear"],Od=new Map;function V_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=Cw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Rw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&g.done]))[0]};return Od.set(e,u),u}Aw(r=>({...r,get:(e,n,s)=>V_(e,n)||r.get(e,n,s),has:(e,n)=>!!V_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Dw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jd="@firebase/app",M_="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new _m("@firebase/app"),Ow="@firebase/app-compat",Nw="@firebase/analytics-compat",Vw="@firebase/analytics",Mw="@firebase/app-check-compat",xw="@firebase/app-check",Pw="@firebase/auth",kw="@firebase/auth-compat",Uw="@firebase/database",Lw="@firebase/data-connect",zw="@firebase/database-compat",Bw="@firebase/functions",Hw="@firebase/functions-compat",jw="@firebase/installations",qw="@firebase/installations-compat",Fw="@firebase/messaging",Gw="@firebase/messaging-compat",Qw="@firebase/performance",Kw="@firebase/performance-compat",Yw="@firebase/remote-config",$w="@firebase/remote-config-compat",Xw="@firebase/storage",Ww="@firebase/storage-compat",Zw="@firebase/firestore",Jw="@firebase/vertexai",eR="@firebase/firestore-compat",tR="firebase",nR="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="[DEFAULT]",iR={[jd]:"fire-core",[Ow]:"fire-core-compat",[Vw]:"fire-analytics",[Nw]:"fire-analytics-compat",[xw]:"fire-app-check",[Mw]:"fire-app-check-compat",[Pw]:"fire-auth",[kw]:"fire-auth-compat",[Uw]:"fire-rtdb",[Lw]:"fire-data-connect",[zw]:"fire-rtdb-compat",[Bw]:"fire-fn",[Hw]:"fire-fn-compat",[jw]:"fire-iid",[qw]:"fire-iid-compat",[Fw]:"fire-fcm",[Gw]:"fire-fcm-compat",[Qw]:"fire-perf",[Kw]:"fire-perf-compat",[Yw]:"fire-rc",[$w]:"fire-rc-compat",[Xw]:"fire-gcs",[Ww]:"fire-gcs-compat",[Zw]:"fire-fst",[eR]:"fire-fst-compat",[Jw]:"fire-vertex","fire-js":"fire-js",[tR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,rR=new Map,Fd=new Map;function x_(r,e){try{r.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ja(r){const e=r.name;if(Fd.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;Fd.set(e,r);for(const n of Uc.values())x_(n,r);for(const n of rR.values())x_(n,r);return!0}function Em(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new zo("app","Firebase",sR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=nR;function vE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qd,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(n||(n=pE()),!n)throw jr.create("no-options");const u=Uc.get(l);if(u){if(kc(n,u.options)&&kc(s,u.config))return u;throw jr.create("duplicate-app",{appName:l})}const f=new fw(l);for(const g of Fd.values())f.addComponent(g);const m=new aR(n,s,f);return Uc.set(l,m),m}function EE(r=qd){const e=Uc.get(r);if(!e&&r===qd&&pE())return vE();if(!e)throw jr.create("no-app",{appName:r});return e}function qr(r,e,n){var s;let l=(s=iR[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(m.join(" "));return}ja(new Ps(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="firebase-heartbeat-database",oR=1,Ro="firebase-heartbeat-store";let Nd=null;function TE(){return Nd||(Nd=ww(lR,oR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ro)}catch(n){console.warn(n)}}}}).catch(r=>{throw jr.create("idb-open",{originalErrorMessage:r.message})})),Nd}async function uR(r){try{const n=(await TE()).transaction(Ro),s=await n.objectStore(Ro).get(AE(r));return await n.done,s}catch(e){if(e instanceof Zi)Ki.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(n.message)}}}async function P_(r,e){try{const s=(await TE()).transaction(Ro,"readwrite");await s.objectStore(Ro).put(e,AE(r)),await s.done}catch(n){if(n instanceof Zi)Ki.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(s.message)}}}function AE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=1024,hR=30;class fR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=k_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>hR){const f=pR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ki.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k_(),{heartbeatsToSend:s,unsentEntries:l}=dR(this._heartbeatsCache.heartbeats),u=Pc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ki.warn(n),""}}}function k_(){return new Date().toISOString().substring(0,10)}function dR(r,e=cR){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),U_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),U_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class mR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ew()?tw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return P_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return P_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function U_(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}function pR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r){ja(new Ps("platform-logger",e=>new Iw(e),"PRIVATE")),ja(new Ps("heartbeat",e=>new fR(e),"PRIVATE")),qr(jd,M_,r),qr(jd,M_,"esm2017"),qr("fire-js","")}gR("");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,SE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,w){function S(){}S.prototype=w.prototype,V.D=w.prototype,V.prototype=new S,V.prototype.constructor=V,V.C=function(I,M,L){for(var D=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)D[_t-2]=arguments[_t];return w.prototype[M].apply(I,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,w,S){S||(S=0);var I=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)I[M]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(M=0;16>M;++M)I[M]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=V.g[0],S=V.g[1],M=V.g[2];var L=V.g[3],D=w+(L^S&(M^L))+I[0]+3614090360&4294967295;w=S+(D<<7&4294967295|D>>>25),D=L+(M^w&(S^M))+I[1]+3905402710&4294967295,L=w+(D<<12&4294967295|D>>>20),D=M+(S^L&(w^S))+I[2]+606105819&4294967295,M=L+(D<<17&4294967295|D>>>15),D=S+(w^M&(L^w))+I[3]+3250441966&4294967295,S=M+(D<<22&4294967295|D>>>10),D=w+(L^S&(M^L))+I[4]+4118548399&4294967295,w=S+(D<<7&4294967295|D>>>25),D=L+(M^w&(S^M))+I[5]+1200080426&4294967295,L=w+(D<<12&4294967295|D>>>20),D=M+(S^L&(w^S))+I[6]+2821735955&4294967295,M=L+(D<<17&4294967295|D>>>15),D=S+(w^M&(L^w))+I[7]+4249261313&4294967295,S=M+(D<<22&4294967295|D>>>10),D=w+(L^S&(M^L))+I[8]+1770035416&4294967295,w=S+(D<<7&4294967295|D>>>25),D=L+(M^w&(S^M))+I[9]+2336552879&4294967295,L=w+(D<<12&4294967295|D>>>20),D=M+(S^L&(w^S))+I[10]+4294925233&4294967295,M=L+(D<<17&4294967295|D>>>15),D=S+(w^M&(L^w))+I[11]+2304563134&4294967295,S=M+(D<<22&4294967295|D>>>10),D=w+(L^S&(M^L))+I[12]+1804603682&4294967295,w=S+(D<<7&4294967295|D>>>25),D=L+(M^w&(S^M))+I[13]+4254626195&4294967295,L=w+(D<<12&4294967295|D>>>20),D=M+(S^L&(w^S))+I[14]+2792965006&4294967295,M=L+(D<<17&4294967295|D>>>15),D=S+(w^M&(L^w))+I[15]+1236535329&4294967295,S=M+(D<<22&4294967295|D>>>10),D=w+(M^L&(S^M))+I[1]+4129170786&4294967295,w=S+(D<<5&4294967295|D>>>27),D=L+(S^M&(w^S))+I[6]+3225465664&4294967295,L=w+(D<<9&4294967295|D>>>23),D=M+(w^S&(L^w))+I[11]+643717713&4294967295,M=L+(D<<14&4294967295|D>>>18),D=S+(L^w&(M^L))+I[0]+3921069994&4294967295,S=M+(D<<20&4294967295|D>>>12),D=w+(M^L&(S^M))+I[5]+3593408605&4294967295,w=S+(D<<5&4294967295|D>>>27),D=L+(S^M&(w^S))+I[10]+38016083&4294967295,L=w+(D<<9&4294967295|D>>>23),D=M+(w^S&(L^w))+I[15]+3634488961&4294967295,M=L+(D<<14&4294967295|D>>>18),D=S+(L^w&(M^L))+I[4]+3889429448&4294967295,S=M+(D<<20&4294967295|D>>>12),D=w+(M^L&(S^M))+I[9]+568446438&4294967295,w=S+(D<<5&4294967295|D>>>27),D=L+(S^M&(w^S))+I[14]+3275163606&4294967295,L=w+(D<<9&4294967295|D>>>23),D=M+(w^S&(L^w))+I[3]+4107603335&4294967295,M=L+(D<<14&4294967295|D>>>18),D=S+(L^w&(M^L))+I[8]+1163531501&4294967295,S=M+(D<<20&4294967295|D>>>12),D=w+(M^L&(S^M))+I[13]+2850285829&4294967295,w=S+(D<<5&4294967295|D>>>27),D=L+(S^M&(w^S))+I[2]+4243563512&4294967295,L=w+(D<<9&4294967295|D>>>23),D=M+(w^S&(L^w))+I[7]+1735328473&4294967295,M=L+(D<<14&4294967295|D>>>18),D=S+(L^w&(M^L))+I[12]+2368359562&4294967295,S=M+(D<<20&4294967295|D>>>12),D=w+(S^M^L)+I[5]+4294588738&4294967295,w=S+(D<<4&4294967295|D>>>28),D=L+(w^S^M)+I[8]+2272392833&4294967295,L=w+(D<<11&4294967295|D>>>21),D=M+(L^w^S)+I[11]+1839030562&4294967295,M=L+(D<<16&4294967295|D>>>16),D=S+(M^L^w)+I[14]+4259657740&4294967295,S=M+(D<<23&4294967295|D>>>9),D=w+(S^M^L)+I[1]+2763975236&4294967295,w=S+(D<<4&4294967295|D>>>28),D=L+(w^S^M)+I[4]+1272893353&4294967295,L=w+(D<<11&4294967295|D>>>21),D=M+(L^w^S)+I[7]+4139469664&4294967295,M=L+(D<<16&4294967295|D>>>16),D=S+(M^L^w)+I[10]+3200236656&4294967295,S=M+(D<<23&4294967295|D>>>9),D=w+(S^M^L)+I[13]+681279174&4294967295,w=S+(D<<4&4294967295|D>>>28),D=L+(w^S^M)+I[0]+3936430074&4294967295,L=w+(D<<11&4294967295|D>>>21),D=M+(L^w^S)+I[3]+3572445317&4294967295,M=L+(D<<16&4294967295|D>>>16),D=S+(M^L^w)+I[6]+76029189&4294967295,S=M+(D<<23&4294967295|D>>>9),D=w+(S^M^L)+I[9]+3654602809&4294967295,w=S+(D<<4&4294967295|D>>>28),D=L+(w^S^M)+I[12]+3873151461&4294967295,L=w+(D<<11&4294967295|D>>>21),D=M+(L^w^S)+I[15]+530742520&4294967295,M=L+(D<<16&4294967295|D>>>16),D=S+(M^L^w)+I[2]+3299628645&4294967295,S=M+(D<<23&4294967295|D>>>9),D=w+(M^(S|~L))+I[0]+4096336452&4294967295,w=S+(D<<6&4294967295|D>>>26),D=L+(S^(w|~M))+I[7]+1126891415&4294967295,L=w+(D<<10&4294967295|D>>>22),D=M+(w^(L|~S))+I[14]+2878612391&4294967295,M=L+(D<<15&4294967295|D>>>17),D=S+(L^(M|~w))+I[5]+4237533241&4294967295,S=M+(D<<21&4294967295|D>>>11),D=w+(M^(S|~L))+I[12]+1700485571&4294967295,w=S+(D<<6&4294967295|D>>>26),D=L+(S^(w|~M))+I[3]+2399980690&4294967295,L=w+(D<<10&4294967295|D>>>22),D=M+(w^(L|~S))+I[10]+4293915773&4294967295,M=L+(D<<15&4294967295|D>>>17),D=S+(L^(M|~w))+I[1]+2240044497&4294967295,S=M+(D<<21&4294967295|D>>>11),D=w+(M^(S|~L))+I[8]+1873313359&4294967295,w=S+(D<<6&4294967295|D>>>26),D=L+(S^(w|~M))+I[15]+4264355552&4294967295,L=w+(D<<10&4294967295|D>>>22),D=M+(w^(L|~S))+I[6]+2734768916&4294967295,M=L+(D<<15&4294967295|D>>>17),D=S+(L^(M|~w))+I[13]+1309151649&4294967295,S=M+(D<<21&4294967295|D>>>11),D=w+(M^(S|~L))+I[4]+4149444226&4294967295,w=S+(D<<6&4294967295|D>>>26),D=L+(S^(w|~M))+I[11]+3174756917&4294967295,L=w+(D<<10&4294967295|D>>>22),D=M+(w^(L|~S))+I[2]+718787259&4294967295,M=L+(D<<15&4294967295|D>>>17),D=S+(L^(M|~w))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var S=w-this.blockSize,I=this.B,M=this.h,L=0;L<w;){if(M==0)for(;L<=S;)l(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<w;)if(I[M++]=V.charCodeAt(L++),M==this.blockSize){l(this,I),M=0;break}}else for(;L<w;)if(I[M++]=V[L++],M==this.blockSize){l(this,I),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var S=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=S&255,S/=256;for(this.u(V),V=Array(16),w=S=0;4>w;++w)for(var I=0;32>I;I+=8)V[S++]=this.g[w]>>>I&255;return V};function u(V,w){var S=m;return Object.prototype.hasOwnProperty.call(S,V)?S[V]:S[V]=w(V)}function f(V,w){this.h=w;for(var S=[],I=!0,M=V.length-1;0<=M;M--){var L=V[M]|0;I&&L==w||(S[M]=L,I=!1)}this.g=S}var m={};function g(V){return-128<=V&&128>V?u(V,function(w){return new f([w|0],0>w?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return j(y(-V));for(var w=[],S=1,I=0;V>=S;I++)w[I]=V/S|0,S*=4294967296;return new f(w,0)}function T(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return j(T(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),I=b,M=0;M<V.length;M+=8){var L=Math.min(8,V.length-M),D=parseInt(V.substring(M,M+L),w);8>L?(L=y(Math.pow(w,L)),I=I.j(L).add(y(D))):(I=I.j(S),I=I.add(y(D)))}return I}var b=g(0),C=g(1),P=g(16777216);r=f.prototype,r.m=function(){if(K(this))return-j(this).m();for(var V=0,w=1,S=0;S<this.g.length;S++){var I=this.i(S);V+=(0<=I?I:4294967296+I)*w,w*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(B(this))return"0";if(K(this))return"-"+j(this).toString(V);for(var w=y(Math.pow(V,6)),S=this,I="";;){var M=pe(S,w).g;S=$(S,M.j(w));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(V);if(S=M,B(S))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function B(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function K(V){return V.h==-1}r.l=function(V){return V=$(this,V),K(V)?-1:B(V)?0:1};function j(V){for(var w=V.g.length,S=[],I=0;I<w;I++)S[I]=~V.g[I];return new f(S,~V.h).add(C)}r.abs=function(){return K(this)?j(this):this},r.add=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],I=0,M=0;M<=w;M++){var L=I+(this.i(M)&65535)+(V.i(M)&65535),D=(L>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);I=D>>>16,L&=65535,D&=65535,S[M]=D<<16|L}return new f(S,S[S.length-1]&-2147483648?-1:0)};function $(V,w){return V.add(j(w))}r.j=function(V){if(B(this)||B(V))return b;if(K(this))return K(V)?j(this).j(j(V)):j(j(this).j(V));if(K(V))return j(this.j(j(V)));if(0>this.l(P)&&0>V.l(P))return y(this.m()*V.m());for(var w=this.g.length+V.g.length,S=[],I=0;I<2*w;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<V.g.length;M++){var L=this.i(I)>>>16,D=this.i(I)&65535,_t=V.i(M)>>>16,ft=V.i(M)&65535;S[2*I+2*M]+=D*ft,te(S,2*I+2*M),S[2*I+2*M+1]+=L*ft,te(S,2*I+2*M+1),S[2*I+2*M+1]+=D*_t,te(S,2*I+2*M+1),S[2*I+2*M+2]+=L*_t,te(S,2*I+2*M+2)}for(I=0;I<w;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=w;I<2*w;I++)S[I]=0;return new f(S,0)};function te(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function ee(V,w){this.g=V,this.h=w}function pe(V,w){if(B(w))throw Error("division by zero");if(B(V))return new ee(b,b);if(K(V))return w=pe(j(V),w),new ee(j(w.g),j(w.h));if(K(w))return w=pe(V,j(w)),new ee(j(w.g),w.h);if(30<V.g.length){if(K(V)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var S=C,I=w;0>=I.l(V);)S=oe(S),I=oe(I);var M=be(S,1),L=be(I,1);for(I=be(I,2),S=be(S,2);!B(I);){var D=L.add(I);0>=D.l(V)&&(M=M.add(S),L=D),I=be(I,1),S=be(S,1)}return w=$(V,M.j(w)),new ee(M,w)}for(M=b;0<=V.l(w);){for(S=Math.max(1,Math.floor(V.m()/w.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=y(S),D=L.j(w);K(D)||0<D.l(V);)S-=I,L=y(S),D=L.j(w);B(L)&&(L=C),M=M.add(L),V=$(V,D)}return new ee(M,V)}r.A=function(V){return pe(this,V).h},r.and=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)&V.i(I);return new f(S,this.h&V.h)},r.or=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)|V.i(I);return new f(S,this.h|V.h)},r.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)^V.i(I);return new f(S,this.h^V.h)};function oe(V){for(var w=V.g.length+1,S=[],I=0;I<w;I++)S[I]=V.i(I)<<1|V.i(I-1)>>>31;return new f(S,V.h)}function be(V,w){var S=w>>5;w%=32;for(var I=V.g.length-S,M=[],L=0;L<I;L++)M[L]=0<w?V.i(L+S)>>>w|V.i(L+S+1)<<32-w:V.i(L+S);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,SE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Fr=f}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bE,go,wE,wc,Gd,RE,CE,IE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(c,p){if(p)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break e;_=_[U]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var q=_++;return{value:p(q,c[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function T(c,p,_){return c.call.apply(c.bind,arguments)}function b(c,p,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(p,U)}}return function(){return c.apply(p,arguments)}}function C(c,p,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,C.apply(null,arguments)}function P(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function B(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,q){for(var ne=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ne[Pe-2]=arguments[Pe];return p.prototype[U].apply(A,ne)}}function K(c){const p=c.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function j(c,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const U=c.length||0,q=A.length||0;c.length=U+q;for(let ne=0;ne<q;ne++)c[U+ne]=A[ne]}else c.push(A)}}class ${constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var oe=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function be(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function V(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function w(c){const p={};for(const _ in c)p[_]=c[_];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,p){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let q=0;q<S.length;q++)_=S[q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function M(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function D(){var c=qe;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class _t{constructor(){this.h=this.g=null}add(p,_){const A=ft.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ft=new $(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,fe=!1,qe=new _t,O=()=>{const c=m.Promise.resolve(void 0);ye=()=>{c.then(Z)}};var Z=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var p=ft;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}fe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Ce(c,p){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(oe){e:{try{pe(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}B(Ce,re);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function it(c,p,_,A,U){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=U,this.key=++ze,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xt(c){this.src=c,this.g={},this.h=0}Xt.prototype.add=function(c,p,_,A,U){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var ne=mn(c,p,A,U);return-1<ne?(p=c[ne],_||(p.fa=!1)):(p=new it(p,this.src,q,!!A,U),p.fa=_,c.push(p)),p};function mi(c,p){var _=p.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,p,void 0),q;(q=0<=U)&&Array.prototype.splice.call(A,U,1),q&&(Qe(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function mn(c,p,_,A){for(var U=0;U<c.length;++U){var q=c[U];if(!q.da&&q.listener==p&&q.capture==!!_&&q.ha==A)return U}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),er={};function pi(c,p,_,A,U){if(Array.isArray(p)){for(var q=0;q<p.length;q++)pi(c,p[q],_,A,U);return null}return _=$o(_),c&&c[dt]?c.K(p,_,y(A)?!!A.capture:!1,U):sl(c,p,_,!1,A,U)}function sl(c,p,_,A,U,q){if(!p)throw Error("Invalid event type");var ne=y(U)?!!U.capture:!!U,Pe=al(c);if(Pe||(c[Ji]=Pe=new Xt(c)),_=Pe.add(p,_,A,ne,q),_.proxy)return _;if(A=Fs(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)se||(U=ne),U===void 0&&(U=!1),c.addEventListener(p.toString(),A,U);else if(c.attachEvent)c.attachEvent(Qs(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fs(){function c(_){return p.call(c.src,c.listener,_)}const p=Eh;return c}function Gs(c,p,_,A,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)Gs(c,p[q],_,A,U);else A=y(A)?!!A.capture:!!A,_=$o(_),c&&c[dt]?(c=c.i,p=String(p).toString(),p in c.g&&(q=c.g[p],_=mn(q,_,A,U),-1<_&&(Qe(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[p],c.h--)))):c&&(c=al(c))&&(p=c.g[p.toString()],c=-1,p&&(c=mn(p,_,A,U)),(_=-1<c?p[c]:null)&&Jr(_))}function Jr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[dt])mi(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(Qs(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=al(p))?(mi(_,c),_.h==0&&(_.src=null,p[Ji]=null)):Qe(c)}}}function Qs(c){return c in er?er[c]:er[c]="on"+c}function Eh(c,p){if(c.da)c=!0;else{p=new Ce(p,this);var _=c.listener,A=c.ha||c.src;c.fa&&Jr(c),c=_.call(A,p)}return c}function al(c){return c=c[Ji],c instanceof Xt?c:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function $o(c){return typeof c=="function"?c:(c[nn]||(c[nn]=function(p){return c.handleEvent(p)}),c[nn])}function vt(){ce.call(this),this.i=new Xt(this),this.M=this,this.F=null}B(vt,ce),vt.prototype[dt]=!0,vt.prototype.removeEventListener=function(c,p,_,A){Gs(this,c,p,_,A)};function It(c,p){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new re(p,c);else if(p instanceof re)p.target=p.target||c;else{var U=p;p=new re(A,c),I(p,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var ne=p.g=_[q];U=gi(ne,A,!0,p)&&U}if(ne=p.g=c,U=gi(ne,A,!0,p)&&U,U=gi(ne,A,!1,p)&&U,_)for(q=0;q<_.length;q++)ne=p.g=_[q],U=gi(ne,A,!1,p)&&U}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],A=0;A<_.length;A++)Qe(_[A]);delete c.g[p],c.h--}}this.F=null},vt.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},vt.prototype.L=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function gi(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,q=0;q<p.length;++q){var ne=p[q];if(ne&&!ne.da&&ne.capture==_){var Pe=ne.listener,Tt=ne.ha||ne.src;ne.fa&&mi(c.i,ne),U=Pe.call(Tt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Xo(c,p,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function ll(c){c.g=Xo(()=>{c.g=null,c.i&&(c.i=!1,ll(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Th extends ce{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ll(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(c){ce.call(this),this.h=c,this.g={}}B(es,ce);var tr=[];function qt(c){be(c.g,function(p,_){this.g.hasOwnProperty(_)&&Jr(p)},c),c.g={}}es.prototype.N=function(){es.aa.N.call(this),qt(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ol=m.JSON.stringify,qn=m.JSON.parse,Wt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ul(){}ul.prototype.h=null;function Wo(c){return c.h||(c.h=c.i())}function Zo(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){re.call(this,"d")}B(nr,re);function xn(){re.call(this,"c")}B(xn,re);var pn={},ir=null;function Ks(){return ir=ir||new vt}pn.La="serverreachability";function cl(c){re.call(this,pn.La,c)}B(cl,re);function rr(c){const p=Ks();It(p,new cl(p))}pn.STAT_EVENT="statevent";function Ys(c,p){re.call(this,pn.STAT_EVENT,c),this.stat=p}B(Ys,re);function ut(c){const p=Ks();It(p,new Ys(p,c))}pn.Ma="timingevent";function Jo(c,p){re.call(this,pn.Ma,c),this.size=p}B(Jo,re);function sr(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function eu(c,p,_,A,U,q){c.info(function(){if(c.g)if(q)for(var ne="",Pe=q.split("&"),Tt=0;Tt<Pe.length;Tt++){var ke=Pe[Tt].split("=");if(1<ke.length){var Nt=ke[0];ke=ke[1];var At=Nt.split("_");ne=2<=At.length&&At[1]=="type"?ne+(Nt+"="+ke+"&"):ne+(Nt+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+p+`
`+_+`
`+ne})}function tu(c,p,_,A,U,q,ne){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+p+`
`+_+`
`+q+" "+ne})}function lr(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Dt(c,_)+(A?" "+A:"")})}function Gn(c,p){c.info(function(){return"TIMEOUT: "+p})}ar.prototype.info=function(){};function Dt(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<U.length;ne++)U[ne]=""}}}}return ol(_)}catch{return p}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ts;function $s(){}B($s,ul),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},ts=new $s;function Qn(c,p,_,A){this.j=c,this.i=p,this.l=_,this.R=A||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hl}function hl(){this.i=null,this.g="",this.h=!1}var or={},ns={};function Pn(c,p,_){c.L=1,c.v=ss(rt(p)),c.m=_,c.P=!0,_i(c,null)}function _i(c,p){c.F=Date.now(),Ze(c),c.A=rt(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ti(_.i,"t",A),c.C=0,_=c.j.J,c.h=new hl,c.g=pu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Th(C(c.Y,c,c.g),c.O)),p=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(tr[0]=U.toString()),U=tr);for(var q=0;q<U.length;q++){var ne=pi(_,U[q],A||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),rr(),eu(c.i,c.u,c.A,c.l,c.R,c.m)}Qn.prototype.ca=function(c){c=c.target;const p=this.M;p&&En(c)==3?p.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const At=En(this.g);var p=this.g.Ba();const wi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||At!=4||p==7||(p==8||0>=wi?rr(3):rr(2)),Xs(this);var _=this.g.Z();this.X=_;t:if(ur(this)){var A=lu(this.g);c="";var U=A.length,q=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),ln(this);var ne="";break t}this.h.i=new m.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(q&&p==U-1)});A.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,tu(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Tt=this.g;if((Pe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)lr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,_);else{this.o=!1,this.s=3,ut(12),rn(this),ln(this);break e}}if(this.P){_=!0;let kt;for(;!this.J&&this.C<ne.length;)if(kt=cr(this,ne),kt==ns){At==4&&(this.s=4,ut(14),_=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==or){this.s=4,ut(15),lr(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else lr(this.i,this.l,kt,null),on(this,kt);if(ur(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ne.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)lr(this.i,this.l,ne,"[Invalid Chunked Response]"),rn(this),ln(this);else if(0<ne.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),fs(Nt),Nt.M=!0,ut(11))}}else lr(this.i,this.l,ne,null),on(this,ne);At==4&&rn(this),this.o&&!this.J&&(At==4?fu(this.j,this):(this.o=!1,Ze(this)))}else Ch(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),rn(this),ln(this)}}}catch{}finally{}};function ur(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cr(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?ns:(_=Number(p.substring(_,A)),isNaN(_)?or:(A+=1,A+_>p.length?ns:(p=p.slice(A,A+_),c.C=A+_,p)))}Qn.prototype.cancel=function(){this.J=!0,rn(this)};function Ze(c){c.S=Date.now()+c.I,fl(c,c.I)}function fl(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=sr(C(c.ba,c),p)}function Xs(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gn(this.i,this.A),this.L!=2&&(rr(),ut(17)),rn(this),this.s=2,ln(this)):fl(this,this.S-c)};function ln(c){c.j.G==0||c.J||fu(c.j,c)}function rn(c){Xs(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,qt(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function on(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||hr(_.h,c))){if(!c.K&&hr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)aa(_),ra(_);else break e;Sl(_),ut(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=sr(C(_.Za,_),6e3));if(1>=nu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((c.K||_.g==c)&&aa(_),!te(p))for(U=_.Da.g.parse(p),p=0;p<U.length;p++){let ke=U[p];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Nt=ke[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const At=ke[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const wi=ke[5];wi!=null&&typeof wi=="number"&&0<wi&&(A=1.5*wi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const kt=c.g;if(kt){const Jn=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var q=A.h;q.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(fr(q,q.h),q.h=null))}if(A.D){const wl=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(A.ya=wl,Be(A.I,A.D,wl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ne=c;if(A.qa=mu(A,A.J?A.ia:null,A.W),ne.K){gn(A.h,ne);var Pe=ne,Tt=A.L;Tt&&(Pe.I=Tt),Pe.B&&(Xs(Pe),Ze(Pe)),A.g=ne}else cu(A);0<_.i.length&&sa(_)}else ke[0]!="stop"&&ke[0]!="close"||bi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?bi(_,7):Tl(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}rr(4)}catch{}}var Ah=class{constructor(c,p){this.g=c,this.map=p}};function dl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ml(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nu(c){return c.h?1:c.g?c.g.size:0}function hr(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function fr(c,p){c.g?c.g.add(p):c.h=p}function gn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}dl.prototype.cancel=function(){if(this.i=Zt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return K(c.i)}function iu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,A=0;A<_;A++)p.push(c[A]);return p}p=[],_=0;for(A in c)p[_++]=c[A];return p}function Sh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const A in c)p[_++]=A;return p}}}function is(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Sh(c),A=iu(c),U=A.length,q=0;q<U;q++)p.call(void 0,A[q],_&&_[q],c)}var pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var q=c[_].substring(0,A);U=c[_].substring(A+1)}else q=c[_];p(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,dr(this,c.j),this.o=c.o,this.g=c.g,rs(this,c.s),this.l=c.l;var p=c.i,_=new Kn;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Zs(this,_),this.m=c.m}else c&&(p=String(c).match(pl))?(this.h=!1,dr(this,p[1]||"",!0),this.o=mr(p[2]||""),this.g=mr(p[3]||"",!0),rs(this,p[4]),this.l=mr(p[5]||"",!0),Zs(this,p[6]||"",!0),this.m=mr(p[7]||"")):(this.h=!1,this.i=new Kn(null,this.h))}vi.prototype.toString=function(){var c=[],p=this.j;p&&c.push(yn(p,gl,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(yn(p,gl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(yn(_,_.charAt(0)=="/"?yl:ru,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",yn(_,Rh)),c.join("")};function rt(c){return new vi(c)}function dr(c,p,_){c.j=_?mr(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function rs(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Zs(c,p,_){p instanceof Kn?(c.i=p,_l(c.i,c.h)):(_||(p=yn(p,wh)),c.i=new Kn(p,c.h))}function Be(c,p,_){c.i.set(p,_)}function ss(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mr(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yn(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,bh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gl=/[#\/\?@]/g,ru=/[#\?:]/g,yl=/[#\?]/g,wh=/[#\?@]/g,Rh=/#/g;function Kn(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&Ws(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Kn.prototype,r.add=function(c,p){_n(this),this.i=null,c=Ai(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Js(c,p){_n(c),p=Ai(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ei(c,p){return _n(c),p=Ai(c,p),c.g.has(p)}r.forEach=function(c,p){_n(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(p,U,A,this)},this)},this)},r.na=function(){_n(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const U=c[A];for(let q=0;q<U.length;q++)_.push(p[A])}return _},r.V=function(c){_n(this);let p=[];if(typeof c=="string")Ei(this,c)&&(p=p.concat(this.g.get(Ai(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return _n(this),this.i=null,c=Ai(this,c),Ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Ti(c,p,_){Js(c,p),0<_.length&&(c.i=null,c.g.set(Ai(c,p),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const q=encodeURIComponent(String(A)),ne=this.V(A);for(A=0;A<ne.length;A++){var U=q;ne[A]!==""&&(U+="="+encodeURIComponent(String(ne[A]))),c.push(U)}}return this.i=c.join("&")};function Ai(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function _l(c,p){p&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Js(this,A),Ti(this,U,_))},c)),c.j=p}function su(c,p){const _=new ar;if(m.Image){const A=new Image;A.onload=P(vn,_,"TestLoadImage: loaded",!0,p,A),A.onerror=P(vn,_,"TestLoadImage: error",!1,p,A),A.onabort=P(vn,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=P(vn,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function as(c,p){const _=new ar,A=new AbortController,U=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?vn(_,"TestPingServer: ok",!0,p):vn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),vn(_,"TestPingServer: error",!1,p)})}function vn(c,p,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function ls(){this.g=new Wt}function Yn(c,p,_){const A=_||"";try{is(c,function(U,q){let ne=U;y(U)&&(ne=ol(U)),p.push(A+q+"="+encodeURIComponent(ne))})}catch(U){throw p.push(A+"type="+encodeURIComponent("_badmap")),U}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(pr,ul),pr.prototype.g=function(){return new Si(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function Si(c,p){vt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Si,vt),r=Si.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?$n(this):Xn(this),this.readyState==3&&vl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},r.Qa=function(c){this.g&&(this.response=c,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function El(c){let p="";return be(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Ot(c,p,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=El(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,p,_))}function Fe(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Fe,vt);var ea=/^https?$/i,os=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ts.g(),this.v=this.o?Wo(this.o):Wo(ts),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){au(this,q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(os,p,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of _)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){au(this,q)}};function au(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ta(c),Wn(c)}function ta(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},r.bb=function(){na(this)};function na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)Xo(c.Ea,0,c);else if(It(c,"readystatechange"),En(c)==4){c.h=!1;try{const ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var A;if(A=ne===0){var U=String(c.D).match(pl)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!ea.test(U?U.toLowerCase():"")}_=A}if(_)It(c,"complete"),It(c,"success");else{c.m=6;try{var q=2<En(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",ta(c)}}finally{Wn(c)}}}}function Wn(c,p){if(c.g){us(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||It(c,"ready");try{_.onreadystatechange=A}catch{}}}function us(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),qn(p)}};function lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ch(c){const p={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(te(c[A]))continue;var _=M(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=p[U]||[];p[U]=q,q.push(_)}V(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ia(c){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,c),this.cb=cs("retryDelaySeedMs",1e4,c),this.Wa=cs("forwardChannelMaxRetries",2,c),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new dl(c&&c.concurrentRequestLimit),this.Da=new ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ia.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,A){ut(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=mu(this,null,this.W),sa(this)};function Tl(c){if(ou(c),c.G==3){var p=c.U++,_=rt(c.I);if(Be(_,"SID",c.K),Be(_,"RID",p),Be(_,"TYPE","terminate"),hs(c,_),p=new Qn(c,c.j,p),p.L=2,p.v=ss(rt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=pu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ze(p)}du(c)}function ra(c){c.g&&(fs(c),c.g.cancel(),c.g=null)}function ou(c){ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function sa(c){if(!ml(c.h)&&!c.s){c.s=!0;var p=c.Ga;ye||O(),fe||(ye(),fe=!0),qe.add(p,c),c.B=0}}function Ih(c,p){return nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=sr(C(c.Ga,c,p),bl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Qn(this,this.j,c);let q=this.o;if(this.S&&(q?(q=w(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=uu(this,U,p),_=rt(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),hs(this,_),q&&(this.O?p="headers="+encodeURIComponent(String(El(q)))+"&"+p:this.m&&Ot(_,this.m,q)),fr(this.h,U),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",p),Be(_,"SID","null"),U.T=!0,Pn(U,_,null)):Pn(U,_,p),this.G=2}}else this.G==3&&(c?Al(this,c):this.i.length==0||ml(this.h)||Al(this))};function Al(c,p){var _;p?_=p.l:_=c.U++;const A=rt(c.I);Be(A,"SID",c.K),Be(A,"RID",_),Be(A,"AID",c.T),hs(c,A),c.m&&c.o&&Ot(A,c.m,c.o),_=new Qn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=uu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fr(c.h,_),Pn(_,A,p)}function hs(c,p){c.H&&be(c.H,function(_,A){Be(p,A,_)}),c.l&&is({},function(_,A){Be(p,A,_)})}function uu(c,p,_){_=Math.min(c.i.length,_);var A=c.l?C(c.l.Na,c.l,c):null;e:{var U=c.i;let q=-1;for(;;){const ne=["count="+_];q==-1?0<_?(q=U[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let Pe=!0;for(let Tt=0;Tt<_;Tt++){let ke=U[Tt].g;const Nt=U[Tt].map;if(ke-=q,0>ke)q=Math.max(0,U[Tt].g-100),Pe=!1;else try{Yn(Nt,ne,"req"+ke+"_")}catch{A&&A(Nt)}}if(Pe){A=ne.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,A}function cu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ye||O(),fe||(ye(),fe=!0),qe.add(p,c),c.v=0}}function Sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=sr(C(c.Fa,c),bl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=sr(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),ra(this),hu(this))};function fs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function hu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=rt(c.qa);Be(p,"RID","rpc"),Be(p,"SID",c.K),Be(p,"AID",c.T),Be(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(p,"TO",c.ja),Be(p,"TYPE","xmlhttp"),hs(c,p),c.m&&c.o&&Ot(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ss(rt(p)),_.m=null,_.P=!0,_i(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ra(this),Sl(this),ut(19))};function aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function fu(c,p){var _=null;if(c.g==p){aa(c),fs(c),c.g=null;var A=2}else if(hr(c.h,p))_=p.D,gn(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var U=c.B;A=Ks(),It(A,new Jo(A,_)),sa(c)}else cu(c);else if(U=p.s,U==3||U==0&&0<p.X||!(A==1&&Ih(c,p)||A==2&&Sl(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),U){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function bl(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function bi(c,p){if(c.j.info("Error code "+p),p==2){var _=C(c.fb,c),A=c.Xa;const U=!A;A=new vi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||dr(A,"https"),ss(A),U?su(A.toString(),_):as(A.toString(),_)}else ut(2);c.G=0,c.l&&c.l.sa(p),du(c),ou(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function du(c){if(c.G=0,c.ka=[],c.l){const p=Zt(c.h);(p.length!=0||c.i.length!=0)&&(j(c.ka,p),j(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function mu(c,p,_){var A=_ instanceof vi?rt(_):new vi(_);if(A.g!="")p&&(A.g=p+"."+A.g),rs(A,A.s);else{var U=m.location;A=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var q=new vi(null);A&&dr(q,A),p&&(q.g=p),U&&rs(q,U),_&&(q.l=_),A=q}return _=c.D,p=c.ya,_&&p&&Be(A,_,p),Be(A,"VER",c.la),hs(c,A),A}function pu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Fe(new pr({eb:_})):new Fe(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function la(){}la.prototype.g=function(c,p){return new Jt(c,p)};function Jt(c,p){vt.call(this),this.g=new ia(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!te(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!te(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Zn(this)}B(Jt,vt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Tl(this.g)},Jt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ol(c),c=_);p.i.push(new Ah(p.Ya++,c)),p.G==3&&sa(p)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,Jt.aa.N.call(this)};function yu(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}B(yu,nr);function _u(){xn.call(this),this.status=1}B(_u,xn);function Zn(c){this.g=c}B(Zn,gu),Zn.prototype.ua=function(){It(this.g,"a")},Zn.prototype.ta=function(c){It(this.g,new yu(c))},Zn.prototype.sa=function(c){It(this.g,new _u)},Zn.prototype.ra=function(){It(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,IE=function(){return new la},CE=function(){return Ks()},RE=pn,Gd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,wc=Et,yi.COMPLETE="complete",wE=yi,Zo.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,go=Zo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,bE=Fe}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",B_="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new _m("@firebase/firestore");function xa(){return ks.logLevel}function ae(r,...e){if(ks.logLevel<=Ne.DEBUG){const n=e.map(Tm);ks.debug(`Firestore (${el}): ${r}`,...n)}}function Yi(r,...e){if(ks.logLevel<=Ne.ERROR){const n=e.map(Tm);ks.error(`Firestore (${el}): ${r}`,...n)}}function qa(r,...e){if(ks.logLevel<=Ne.WARN){const n=e.map(Tm);ks.warn(`Firestore (${el}): ${r}`,...n)}}function Tm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+r;throw Yi(e),new Error(e)}function Ge(r,e){r||ve()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vR{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new DE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Kt(e)}}class ER{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TR{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new ER(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Bn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const l=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new H_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new H_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=SR(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Kd(r,e){const n=Qd().encode(r),s=Qd().encode(e);for(let l=0;l<Math.min(n.length,s.length);l++){const u=Ve(n[l],s[l]);if(u!==0)return u}return Ve(n.length,s.length)}function Fa(r,e,n){return r.length===e.length&&r.every((s,l)=>n(s,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-62135596800,q_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*q_);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j_)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-j_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Rt(0,0))}static max(){return new Te(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="__name__";class si{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=si.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=si.isNumericId(e),l=si.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?si.extractNumericId(e).compare(si.extractNumericId(n)):Kd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class ot extends si{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const bR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends si{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return bR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F_}static keyField(){return new Ht([F_])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ot.fromString(e))}static fromName(e){return new me(ot.fromString(e).popFirst(5))}static empty(){return new me(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=-1;function wR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new Kr(l,me.empty(),e)}function RR(r){return new Kr(r.readTime,r.key,Co)}class Kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(Te.min(),me.empty(),Co)}static max(){return new Kr(Te.max(),me.empty(),Co)}}function CR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==IR)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,s)=>{n(e)})}static reject(e){return new X((n,s)=>{s(e)})}static waitFor(e){return new X((n,s)=>{let l=0,u=0,f=!1;e.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&n()},g=>s(g))}),f=!0,u===l&&n()})}static or(e){let n=X.resolve(!1);for(const s of e)n=n.next(l=>l?X.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,u)=>{s.push(n.call(this,l,u))}),this.waitFor(s)}static mapArray(e,n){return new X((s,l)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>l(T))}})}static doWhile(e,n){return new X((s,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):s()};u()})}}function OR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=-1;function ah(r){return r==null}function Lc(r){return r===0&&1/r==-1/0}function NR(r){return typeof r=="number"&&Number.isInteger(r)&&!Lc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="";function VR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=G_(e)),e=MR(r.get(n),e);return G_(e)}function MR(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case NE:n+="";break;default:n+=u}}return n}function G_(r){return r+NE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Bs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function VE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=l??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Bt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Bt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,l,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Ct(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ME("Invalid base64 string: "+u):u}}(e);return new jt(n)}static fromUint8Array(e){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const xR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(Ge(!!r),typeof r=="string"){let e=0;const n=xR.exec(r);if(Ge(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ht(r.seconds),nanos:ht(r.nanos)}}function ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $r(r){return typeof r=="string"?jt.fromBase64String(r):jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="server_timestamp",PE="__type__",kE="__previous_value__",UE="__local_write_time__";function Sm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[PE])===null||n===void 0?void 0:n.stringValue)===xE}function lh(r){const e=r.mapValue.fields[kE];return Sm(e)?lh(e):e}function Io(r){const e=Yr(r.mapValue.fields[UE].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,s,l,u,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const zc="(default)";class Do{constructor(e,n){this.projectId=e,this.database=n||zc}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===zc}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="__type__",kR="__max__",vc={mapValue:{}},zE="__vector__",Bc="value";function Xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sm(r)?4:LR(r)?9007199254740991:UR(r)?10:11:ve()}function ci(r,e){if(r===e)return!0;const n=Xr(r);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Io(r).isEqual(Io(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Yr(l.timestampValue),m=Yr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,u){return $r(l.bytesValue).isEqual($r(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,u){return ht(l.geoPointValue.latitude)===ht(u.geoPointValue.latitude)&&ht(l.geoPointValue.longitude)===ht(u.geoPointValue.longitude)}(r,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return ht(l.integerValue)===ht(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=ht(l.doubleValue),m=ht(u.doubleValue);return f===m?Lc(f)===Lc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Fa(r.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Q_(f)!==Q_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ci(f[g],m[g])))return!1;return!0}(r,e);default:return ve()}}function Oo(r,e){return(r.values||[]).find(n=>ci(n,e))!==void 0}function Ga(r,e){if(r===e)return 0;const n=Xr(r),s=Xr(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ht(u.integerValue||u.doubleValue),g=ht(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return Y_(r.timestampValue,e.timestampValue);case 4:return Y_(Io(r),Io(e));case 5:return Kd(r.stringValue,e.stringValue);case 6:return function(u,f){const m=$r(u),g=$r(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=Ve(m[y],g[y]);if(T!==0)return T}return Ve(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(ht(u.latitude),ht(f.latitude));return m!==0?m:Ve(ht(u.longitude),ht(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return $_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,y,T;const b=u.fields||{},C=f.fields||{},P=(m=b[Bc])===null||m===void 0?void 0:m.arrayValue,B=(g=C[Bc])===null||g===void 0?void 0:g.arrayValue,K=Ve(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((T=B==null?void 0:B.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:$_(P,B)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===vc.mapValue&&f===vc.mapValue)return 0;if(u===vc.mapValue)return 1;if(f===vc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const C=Kd(g[b],T[b]);if(C!==0)return C;const P=Ga(m[g[b]],y[T[b]]);if(P!==0)return P}return Ve(g.length,T.length)}(r.mapValue,e.mapValue);default:throw ve()}}function Y_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=Yr(r),s=Yr(e),l=Ve(n.seconds,s.seconds);return l!==0?l:Ve(n.nanos,s.nanos)}function $_(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=Ga(n[l],s[l]);if(u)return u}return Ve(n.length,s.length)}function Qa(r){return Yd(r)}function Yd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return $r(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return me.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Yd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Yd(n.fields[f])}`;return l+"}"}(r.mapValue):ve()}function Rc(r){switch(Xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(r);return e?16+Rc(e):16;case 5:return 2*r.stringValue.length;case 6:return $r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,u)=>l+Rc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Bs(s.fields,(u,f)=>{l+=u.length+Rc(f)}),l}(r.mapValue);default:throw ve()}}function $d(r){return!!r&&"integerValue"in r}function bm(r){return!!r&&"arrayValue"in r}function X_(r){return!!r&&"nullValue"in r}function W_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cc(r){return!!r&&"mapValue"in r}function UR(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[LE])===null||n===void 0?void 0:n.stringValue)===zE}function Eo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Bs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Eo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eo(r.arrayValue.values[n]);return e}return Object.assign({},r)}function LR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Cc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(n)}setAll(e){let n=Ht.emptyPath(),s={},l=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=m.popLast()}f?s[m.lastSegment()]=Eo(f):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Bs(n,(l,u)=>e[l]=u);for(const l of s)delete e[l]}clone(){return new Nn(Eo(this.value))}}function BE(r){const e=[];return Bs(r.fields,(n,s)=>{const l=new Ht([n]);if(Cc(s)){const u=BE(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,l,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,Te.min(),Te.min(),Te.min(),Nn.empty(),0)}static newFoundDocument(e,n,s,l){return new Yt(e,1,n,Te.min(),s,l,0)}static newNoDocument(e,n){return new Yt(e,2,n,Te.min(),Te.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Te.min(),Te.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.position=e,this.inclusive=n}}function Z_(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=Ga(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function J_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ci(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function zR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{}class wt extends HE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new HR(e,n,s):n==="array-contains"?new FR(e,s):n==="in"?new GR(e,s):n==="not-in"?new QR(e,s):n==="array-contains-any"?new KR(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new jR(e,s):new qR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ga(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends HE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new hi(e,n)}matches(e){return jE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jE(r){return r.op==="and"}function qE(r){return BR(r)&&jE(r)}function BR(r){for(const e of r.filters)if(e instanceof hi)return!1;return!0}function Xd(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+Qa(r.value);if(qE(r))return r.filters.map(e=>Xd(e)).join(",");{const e=r.filters.map(n=>Xd(n)).join(",");return`${r.op}(${e})`}}function FE(r,e){return r instanceof wt?function(s,l){return l instanceof wt&&s.op===l.op&&s.field.isEqual(l.field)&&ci(s.value,l.value)}(r,e):r instanceof hi?function(s,l){return l instanceof hi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((u,f,m)=>u&&FE(f,l.filters[m]),!0):!1}(r,e):void ve()}function GE(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(r):r instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(GE).join(" ,")+"}"}(r):"Filter"}class HR extends wt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class jR extends wt{constructor(e,n){super(e,"in",n),this.keys=QE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qR extends wt{constructor(e,n){super(e,"not-in",n),this.keys=QE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>me.fromName(s.referenceValue))}class FR extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bm(n)&&Oo(n.arrayValue,this.value)}}class GR extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oo(this.value.arrayValue,n)}}class QR extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Oo(this.value.arrayValue,n)}}class KR extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Oo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n=null,s=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function ev(r,e=null,n=[],s=[],l=null,u=null,f=null){return new YR(r,e,n,s,l,u,f)}function wm(r){const e=Se(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Xd(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Qa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Qa(s)).join(",")),e.le=n}return e.le}function Rm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!zR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!FE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!J_(r.startAt,e.startAt)&&J_(r.endAt,e.endAt)}function Wd(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n=null,s=[],l=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $R(r,e,n,s,l,u,f,m){return new oh(r,e,n,s,l,u,f,m)}function Cm(r){return new oh(r)}function tv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XR(r){return r.collectionGroup!==null}function To(r){const e=Se(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Ht.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new jc(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new jc(Ht.keyField(),s))}return e.he}function ai(r){const e=Se(r);return e.Pe||(e.Pe=WR(e,To(r))),e.Pe}function WR(r,e){if(r.limitType==="F")return ev(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new jc(l.field,u)});const n=r.endAt?new Hc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Hc(r.startAt.position,r.startAt.inclusive):null;return ev(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Zd(r,e,n){return new oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function uh(r,e){return Rm(ai(r),ai(e))&&r.limitType===e.limitType}function KE(r){return`${wm(ai(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>GE(l)).join(", ")}]`),ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Qa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Qa(l)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function ch(r,e){return e.isFoundDocument()&&function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,l){for(const u of To(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(r,e)&&function(s,l){return!(s.startAt&&!function(f,m,g){const y=Z_(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,To(s),l)||s.endAt&&!function(f,m,g){const y=Z_(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,To(s),l))}(r,e)}function ZR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function YE(r){return(e,n)=>{let s=!1;for(const l of To(r)){const u=JR(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function JR(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Ga(g,y):ve()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,s)=>{for(const[l,u]of s)e(l,u)})}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new nt(me.comparator);function $i(){return e1}const $E=new nt(me.comparator);function yo(...r){let e=$E;for(const n of r)e=e.insert(n.key,n);return e}function XE(r){let e=$E;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Vs(){return Ao()}function WE(){return Ao()}function Ao(){return new Hs(r=>r.toString(),(r,e)=>r.isEqual(e))}const t1=new nt(me.comparator),n1=new Ct(me.comparator);function Me(...r){let e=n1;for(const n of r)e=e.add(n);return e}const i1=new Ct(Ve);function r1(){return i1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function ZE(r){return{integerValue:""+r}}function s1(r,e){return NR(e)?ZE(e):Im(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function a1(r,e,n){return r instanceof qc?function(l,u){const f={fields:{[PE]:{stringValue:xE},[UE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Sm(u)&&(u=lh(u)),u&&(f.fields[kE]=u),{mapValue:f}}(n,e):r instanceof No?eT(r,e):r instanceof Vo?tT(r,e):function(l,u){const f=JE(l,u),m=nv(f)+nv(l.Ie);return $d(f)&&$d(l.Ie)?ZE(m):Im(l.serializer,m)}(r,e)}function l1(r,e,n){return r instanceof No?eT(r,e):r instanceof Vo?tT(r,e):n}function JE(r,e){return r instanceof Fc?function(s){return $d(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class qc extends hh{}class No extends hh{constructor(e){super(),this.elements=e}}function eT(r,e){const n=nT(e);for(const s of r.elements)n.some(l=>ci(l,s))||n.push(s);return{arrayValue:{values:n}}}class Vo extends hh{constructor(e){super(),this.elements=e}}function tT(r,e){let n=nT(e);for(const s of r.elements)n=n.filter(l=>!ci(l,s));return{arrayValue:{values:n}}}class Fc extends hh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function nv(r){return ht(r.integerValue||r.doubleValue)}function nT(r){return bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function o1(r,e){return r.field.isEqual(e.field)&&function(s,l){return s instanceof No&&l instanceof No||s instanceof Vo&&l instanceof Vo?Fa(s.elements,l.elements,ci):s instanceof Fc&&l instanceof Fc?ci(s.Ie,l.Ie):s instanceof qc&&l instanceof qc}(r.transform,e.transform)}class u1{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ic(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class fh{}function iT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sT(r.key,Qi.none()):new Ho(r.key,r.data,Qi.none());{const n=r.data,s=Nn.empty();let l=new Ct(Ht.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new js(r.key,s,new Hn(l.toArray()),Qi.none())}}function c1(r,e,n){r instanceof Ho?function(l,u,f){const m=l.value.clone(),g=rv(l.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof js?function(l,u,f){if(!Ic(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=rv(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(rT(l)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function So(r,e,n,s){return r instanceof Ho?function(u,f,m,g){if(!Ic(u.precondition,f))return m;const y=u.value.clone(),T=sv(u.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof js?function(u,f,m,g){if(!Ic(u.precondition,f))return m;const y=sv(u.fieldTransforms,g,f),T=f.data;return T.setAll(rT(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return Ic(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function h1(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=JE(s.transform,l||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,u))}return n||null}function iv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Fa(s,l,(u,f)=>o1(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ho extends fh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class js extends fh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function rv(r,e,n){const s=new Map;Ge(r.length===n.length);for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,m=e.data.field(u.field);s.set(u.field,l1(f,m,n[l]))}return s}function sv(r,e,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,a1(u,f,e))}return s}class sT extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f1 extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&c1(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=So(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=So(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=WE();return this.mutations.forEach(l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const g=iT(f,m);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,s)=>iv(n,s))&&Fa(this.baseMutations,e.baseMutations,(n,s)=>iv(n,s))}}class Dm{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ge(e.mutations.length===s.length);let l=function(){return t1}();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new Dm(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Le;function g1(r){switch(r){case J.OK:return ve();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve()}}function aT(r){if(r===void 0)return Yi("GRPC error has no .code"),J.UNKNOWN;switch(r){case yt.OK:return J.OK;case yt.CANCELLED:return J.CANCELLED;case yt.UNKNOWN:return J.UNKNOWN;case yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case yt.INTERNAL:return J.INTERNAL;case yt.UNAVAILABLE:return J.UNAVAILABLE;case yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case yt.NOT_FOUND:return J.NOT_FOUND;case yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case yt.ABORTED:return J.ABORTED;case yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case yt.DATA_LOSS:return J.DATA_LOSS;default:return ve()}}(Le=yt||(yt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Fr([4294967295,4294967295],0);function av(r){const e=Qd().encode(r),n=new SE;return n.update(e),new Uint8Array(n.digest())}function lv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fr([n,s],0),new Fr([l,u],0)]}class Om{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new _o(`Invalid padding: ${n}`);if(s<0)throw new _o(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new _o(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Fr.fromNumber(this.Ee)}Ae(e,n,s){let l=e.add(n.multiply(Fr.fromNumber(s)));return l.compare(y1)===1&&(l=new Fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=av(e),[s,l]=lv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,l,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Om(u,l,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=av(e),[s,l]=lv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,l,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,jo.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new dh(Te.min(),l,new nt(Ve),$i(),Me())}}class jo{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new jo(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,s,l){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=l}}class lT{constructor(e,n){this.targetId=e,this.ge=n}}class oT{constructor(e,n,s=jt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class ov{constructor(){this.pe=0,this.ye=uv(),this.we=jt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),n=Me(),s=Me();return this.ye.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:ve()}}),new jo(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=uv()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class _1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$i(),this.$e=Ec(),this.Ue=Ec(),this.Ke=new nt(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,s=e.ge.count,l=this.Xe(n);if(l){const u=l.target;if(Wd(u))if(s===0){const f=new me(u.path);this.ze(n,f,Yt.newNoDocument(f,Te.min()))}else Ge(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=$r(s).toUint8Array()}catch(g){if(g instanceof ME)return qa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Om(f,l,u)}catch(g){return qa(g instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let l=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Wd(m.target)){const g=new me(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Yt.newNoDocument(g,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Me();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const l=new dh(e,n,this.Ke,this.Qe,s);return this.Qe=$i(),this.$e=Ec(),this.Ue=Ec(),this.Ke=new nt(Ve),l}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new ov,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ct(Ve),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ct(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ov),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ec(){return new nt(me.comparator)}function uv(){return new nt(me.comparator)}const v1={asc:"ASCENDING",desc:"DESCENDING"},E1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T1={and:"AND",or:"OR"};class A1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jd(r,e){return r.useProto3Json||ah(e)?e:{value:e}}function Gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function S1(r,e){return Gc(r,e.toTimestamp())}function li(r){return Ge(!!r),Te.fromTimestamp(function(n){const s=Yr(n);return new Rt(s.seconds,s.nanos)}(r))}function Nm(r,e){return em(r,e).canonicalString()}function em(r,e){const n=function(l){return new ot(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?n:n.child(e)}function cT(r){const e=ot.fromString(r);return Ge(pT(e)),e}function tm(r,e){return Nm(r.databaseId,e.path)}function Vd(r,e){const n=cT(e);if(n.get(1)!==r.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(fT(n))}function hT(r,e){return Nm(r.databaseId,e)}function b1(r){const e=cT(r);return e.length===4?ot.emptyPath():fT(e)}function nm(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fT(r){return Ge(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function cv(r,e,n){return{name:tm(r,e),fields:n.value.mapValue.fields}}function w1(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Ge(T===void 0||typeof T=="string"),jt.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array),jt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const T=y.code===void 0?J.UNKNOWN:aT(y.code);return new de(T,y.message||"")}(f);n=new oT(s,l,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Vd(r,s.document.name),u=li(s.document.updateTime),f=s.document.createTime?li(s.document.createTime):Te.min(),m=new Nn({mapValue:{fields:s.document.fields}}),g=Yt.newFoundDocument(l,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Dc(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Vd(r,s.document),u=s.readTime?li(s.readTime):Te.min(),f=Yt.newNoDocument(l,u),m=s.removedTargetIds||[];n=new Dc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Vd(r,s.document),u=s.removedTargetIds||[];n=new Dc([],u,l,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new p1(l,u),m=s.targetId;n=new lT(m,f)}}return n}function R1(r,e){let n;if(e instanceof Ho)n={update:cv(r,e.key,e.value)};else if(e instanceof sT)n={delete:tm(r,e.key)};else if(e instanceof js)n={update:cv(r,e.key,e.data),updateMask:P1(e.fieldMask)};else{if(!(e instanceof f1))return ve();n={verify:tm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof qc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof No)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Vo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:S1(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve()}(r,e.precondition)),n}function C1(r,e){return r&&r.length>0?(Ge(e!==void 0),r.map(n=>function(l,u){let f=l.updateTime?li(l.updateTime):li(u);return f.isEqual(Te.min())&&(f=li(u)),new u1(f,l.transformResults||[])}(n,e))):[]}function I1(r,e){return{documents:[hT(r,e.path)]}}function D1(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hT(r,l);const u=function(y){if(y.length!==0)return mT(hi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:ka(C.field),direction:V1(C.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jd(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:l}}function O1(r){let e=b1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ge(s===1);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(b){const C=dT(b);return C instanceof hi&&qE(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(C=>function(B){return new jc(Ua(B.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(b){let C;return C=typeof b=="object"?b.value:b,ah(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(b){const C=!!b.before,P=b.values||[];return new Hc(P,C)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const C=!b.before,P=b.values||[];return new Hc(P,C)}(n.endAt)),$R(e,l,f,u,m,"F",g,y)}function N1(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(n.unaryFilter.field);return wt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ua(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ua(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(r):r.fieldFilter!==void 0?function(n){return wt.create(Ua(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(s=>dT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(r):ve()}function V1(r){return v1[r]}function M1(r){return E1[r]}function x1(r){return T1[r]}function ka(r){return{fieldPath:r.canonicalString()}}function Ua(r){return Ht.fromServerFormat(r.fieldPath)}function mT(r){return r instanceof wt?function(n){if(n.op==="=="){if(W_(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(X_(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W_(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(X_(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:M1(n.op),value:n.value}}}(r):r instanceof hi?function(n){const s=n.getFilters().map(l=>mT(l));return s.length===1?s[0]:{compositeFilter:{op:x1(n.op),filters:s}}}(r):ve()}function P1(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,l,u=Te.min(),f=Te.min(),m=jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.Tt=e}}function U1(r){const e=O1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.Tn=new z1}addToCollectionParentIndex(e,n){return this.Tn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Kr.min())}updateCollectionGroup(e,n,s){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class z1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Ct(ot.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ct(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gT=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(gT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ka(0)}static Kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="LruGarbageCollector",B1=1048576;function dv([r,e],[n,s]){const l=Ve(r,n);return l===0?Ve(e,s):l}class H1{constructor(e){this.Hn=e,this.buffer=new Ct(dv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();dv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(fv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?ae(fv,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.er(3e5)})}}class q1{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return X.resolve(sh.ae);const s=new H1(n);return this.tr.forEachTarget(e,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(hv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,l,u,f,m,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(e,l))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),xa()<=Ne.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function F1(r,e){return new q1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.changes=new Hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(s!==null&&So(s.mutation,l,Hn.empty(),Rt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const l=Vs();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(u=>{let f=yo();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Vs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const l=[];return s.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,l){let u=$i();const f=Ao(),m=function(){return Ao()}();return n.forEach((g,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof js)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),So(T.mutation,y,T.mutation.getFieldMask(),Rt.now())):f.set(y.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var b;return m.set(y,new Q1(T,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ao();let l=new nt((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let T=s.get(g)||Hn.empty();T=m.applyToLocalView(y,T),s.set(g,T);const b=(l.get(m.batchId)||Me()).add(g);l=l.insert(m.batchId,b)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,b=WE();T.forEach(C=>{if(!u.has(C)){const P=iT(n.get(C),s.get(C));P!==null&&b.set(C,P),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return X.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):X.resolve(Vs());let m=Co,g=u;return f.next(y=>X.forEach(y,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?X.resolve():this.remoteDocumentCache.getEntry(e,T).next(C=>{g=g.insert(T,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Me())).next(T=>({batchId:m,changes:XE(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let l=yo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=yo();return this.indexManager.getCollectionParents(e,u).next(m=>X.forEach(m,g=>{const y=function(b,C){return new oh(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next(T=>{T.forEach((b,C)=>{f=f.insert(b,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l))).next(f=>{u.forEach((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Yt.newInvalidDocument(T)))});let m=yo();return f.forEach((g,y)=>{const T=u.get(g);T!==void 0&&So(T.mutation,y,Hn.empty(),Rt.now()),ch(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return X.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:li(l.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:U1(l.bundledQuery),readTime:li(l.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.overlays=new nt(me.comparator),this.Rr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vs();return X.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,u)=>{this.Et(e,n,u)}),X.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),X.resolve()}getOverlaysForCollection(e,n,s){const l=Vs(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new nt((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Vs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Vs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=l)););return X.resolve(m)}Et(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new m1(n,s));let u=this.Rr.get(n);u===void 0&&(u=Me(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.Vr=new Ct(Pt.mr),this.gr=new Ct(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Pt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new me(new ot([])),s=new Pt(n,e),l=new Pt(n,e+1),u=[];return this.gr.forEachInRange([s,l],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new me(new ot([])),s=new Pt(n,e),l=new Pt(n,e+1);let u=Me();return this.gr.forEachInRange([s,l],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return me.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ct(Pt.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new d1(u,n,s,l);this.mutationQueue.push(f);for(const m of l)this.Mr=this.Mr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,n){return X.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.Nr(s),u=l<0?0:l;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Am:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),l=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,l],f=>{const m=this.Or(f.Cr);u.push(m)}),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ve);return n.forEach(l=>{const u=new Pt(l,0),f=new Pt(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),X.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new me(u),0);let m=new Ct(Ve);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Cr)),!0)},f),X.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const l=this.Or(s);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){Ge(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return X.forEach(n.mutations,l=>{const u=new Pt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Pt(n,0),l=this.Mr.firstAfterOrEqual(s);return X.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.kr=e,this.docs=function(){return new nt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=$i();return n.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Yt.newInvalidDocument(l))}),X.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=$i();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||CR(RR(T),s)<=0||(l.has(T.key)||ch(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(e,n,s,l){ve()}qr(e,n){return X.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new J1(this)}getSize(e){return X.resolve(this.size)}}class J1 extends G1{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(s)}),X.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.persistence=e,this.Qr=new Hs(n=>wm(n),Rm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Vm,this.targetCount=0,this.Kr=Ka.Un()}forEachTarget(e,n){return this.Qr.forEach((s,l)=>n(l)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),X.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.zn(n),X.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),X.waitFor(u).next(()=>l)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return X.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),X.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(e,f))}),X.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),X.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return X.resolve(s)}containsKey(e,n){return X.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new sh(0),this.zr=!1,this.zr=!0,this.jr=new X1,this.referenceDelegate=e(this),this.Hr=new eC(this),this.indexManager=new L1,this.remoteDocumentCache=function(l){return new Z1(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new k1(n),this.Yr=new Y1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new W1(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const l=new tC(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(e,n){return X.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class tC extends DR{constructor(e){super(),this.currentSequenceNumber=e}}class Mm{constructor(e){this.persistence=e,this.ti=new Vm,this.ni=null}static ri(e){return new Mm(e)}get ii(){if(this.ni)return this.ni;throw ve()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),X.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),X.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,s=>{const l=me.fromPath(s);return this.si(e,l).next(u=>{u||n.removeEntry(l,Te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return X.or([()=>X.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Qc{constructor(e,n){this.persistence=e,this.oi=new Hs(s=>VR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=F1(this,n)}static ri(e,n){return new Qc(e,n)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return X.forEach(this.oi,(s,l)=>this.ar(e,s,l).next(u=>u?X.resolve():n(l)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),X.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rc(e.data.value)),n}ar(e,n,s){return X.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=l}static Yi(e,n){let s=Me(),l=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new xm(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Jb()?8:OR($t())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,l,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new nC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,l){return s.documentReadCount<this.es?(xa()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(xa()<=Ne.DEBUG&&ae("QueryEngine","Query:",Pa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(xa()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):X.resolve())}rs(e,n){if(tv(n))return X.resolve(null);let s=ai(n);return this.indexManager.getIndexType(e,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Zd(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(e,Zd(n,null,"F")):this.hs(e,y,n,g)}))})))}ss(e,n,s,l){return tv(n)||l.isEqual(Te.min())?X.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,l)?X.resolve(null):(xa()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(n)),this.hs(e,f,n,wR(l,Co)).next(m=>m))})}cs(e,n){let s=new Ct(YE(e));return n.forEach((l,u)=>{ch(e,u)&&(s=s.add(u))}),s}ls(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(e,n,s){return xa()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Pa(n)),this.ns.getDocumentsMatchingQuery(e,n,Kr.min(),s)}hs(e,n,s,l){return this.ns.getDocumentsMatchingQuery(e,s,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="LocalStore",rC=3e8;class sC{constructor(e,n,s,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new nt(Ve),this.Is=new Hs(u=>wm(u),Rm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function aC(r,e,n,s){return new sC(r,e,n,s)}async function _T(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Me();for(const y of l){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function lC(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,T){const b=y.batch,C=b.keys();let P=X.resolve();return C.forEach(B=>{P=P.next(()=>T.getEntry(g,B)).next(K=>{const j=y.docVersions.get(B);Ge(j!==null),K.version.compareTo(j)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Me();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}function vT(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function oC(r,e){const n=Se(r),s=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];e.targetChanges.forEach((T,b)=>{const C=l.get(b);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let P=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(jt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),l=l.insert(b,P),function(K,j,$){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=rC?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(C,P,T)&&m.push(n.Hr.updateTargetData(u,P))});let g=$i(),y=Me();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(uC(u,f,e.documentUpdates).next(T=>{g=T.Vs,y=T.fs})),!s.isEqual(Te.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return X.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=l,u))}function uC(r,e,n){let s=Me(),l=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=$i();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ae(Pm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:l}})}function cC(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Am),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hC(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Hr.getTargetData(s,e).next(u=>u?(l=u,X.resolve(l)):n.Hr.allocateTargetId(s).next(f=>(l=new Br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function im(r,e,n){const s=Se(r),l=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!nl(f))throw f;ae(Pm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(l.target)}function mv(r,e,n){const s=Se(r);let l=Te.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,T){const b=Se(g),C=b.Is.get(T);return C!==void 0?X.resolve(b.Ts.get(C)):b.Hr.getTargetData(y,T)}(s,f,ai(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?l:Te.min(),n?u:Me())).next(m=>(fC(s,ZR(e),m),{documents:m,gs:u})))}function fC(r,e,n){let s=r.Es.get(e)||Te.min();n.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class pv{constructor(){this.activeTargetIds=r1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dC{constructor(){this.ho=new pv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new pv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="ConnectivityMonitor";class yv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(gv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(gv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function rm(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RestConnection",pC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===zc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(e,n,s,l,u){const f=rm(),m=this.bo(e,n.toUriEncodedString());ae(Md,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,l,u),this.vo(e,m,g,s).then(y=>(ae(Md,`Received RPC '${e}' ${f}: `,y),y),y=>{throw qa(Md,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,l,u,f){return this.So(e,n,s,l,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),s&&s.headers.forEach((l,u)=>e[u]=l)}bo(e,n){const s=pC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class _C extends gC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,l){const u=rm();return new Promise((f,m)=>{const g=new bE;g.setWithCredentials(!0),g.listenOnce(wE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case wc.NO_ERROR:const T=g.getResponseJson();ae(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case wc.TIMEOUT:ae(Qt,`RPC '${e}' ${u} timed out`),m(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const b=g.getStatus();if(ae(Qt,`RPC '${e}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C==null?void 0:C.error;if(P&&P.status&&P.message){const B=function(j){const $=j.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(P.status);m(new de(B,P.message))}else m(new de(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new de(J.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ae(Qt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(l);ae(Qt,`RPC '${e}' ${u} sending request:`,l),g.send(n,"POST",y,s,15)})}Wo(e,n,s){const l=rm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=IE(),m=CE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");ae(Qt,`Creating RPC '${e}' stream ${l}: ${T}`,g);const b=f.createWebChannel(T,g);let C=!1,P=!1;const B=new yC({Fo:j=>{P?ae(Qt,`Not sending because RPC '${e}' stream ${l} is closed:`,j):(C||(ae(Qt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),C=!0),ae(Qt,`RPC '${e}' stream ${l} sending:`,j),b.send(j))},Mo:()=>b.close()}),K=(j,$,te)=>{j.listen($,ee=>{try{te(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return K(b,go.EventType.OPEN,()=>{P||(ae(Qt,`RPC '${e}' stream ${l} transport opened.`),B.Qo())}),K(b,go.EventType.CLOSE,()=>{P||(P=!0,ae(Qt,`RPC '${e}' stream ${l} transport closed`),B.Uo())}),K(b,go.EventType.ERROR,j=>{P||(P=!0,qa(Qt,`RPC '${e}' stream ${l} transport errored:`,j),B.Uo(new de(J.UNAVAILABLE,"The operation could not be completed")))}),K(b,go.EventType.MESSAGE,j=>{var $;if(!P){const te=j.data[0];Ge(!!te);const ee=te,pe=(ee==null?void 0:ee.error)||(($=ee[0])===null||$===void 0?void 0:$.error);if(pe){ae(Qt,`RPC '${e}' stream ${l} received error:`,pe);const oe=pe.status;let be=function(S){const I=yt[S];if(I!==void 0)return aT(I)}(oe),V=pe.message;be===void 0&&(be=J.INTERNAL,V="Unknown error status: "+oe+" with message "+pe.message),P=!0,B.Uo(new de(be,V)),b.close()}else ae(Qt,`RPC '${e}' stream ${l} received:`,te),B.Ko(te)}}),K(m,RE.STAT_EVENT,j=>{j.stat===Gd.PROXY?ae(Qt,`RPC '${e}' stream ${l} detected buffering proxy`):j.stat===Gd.NOPROXY&&ae(Qt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{B.$o()},0),B}}function xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r){return new A1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-s);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="PersistentStream";class TT{constructor(e,n,s,l,u,f,m,g){this.Ti=e,this.n_=s,this.r_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ET(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===n&&this.V_(s,l)},s=>{e(()=>{const l=new de(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(_v,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ae(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vC extends TT{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=w1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?li(f.readTime):Te.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=nm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Wd(g)?{documents:I1(u,g)}:{query:D1(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=uT(u,f.resumeToken);const y=Jd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=Gc(u,f.snapshotVersion.toTimestamp());const y=Jd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=N1(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=nm(this.serializer),n.removeTarget=e,this.I_(n)}}class EC extends TT{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=C1(e.writeResults,e.commitTime),s=li(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=nm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>R1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{}class AC extends TC{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,em(n,s),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(J.UNKNOWN,u.toString())})}Co(e,n,s,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,em(n,s),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class SC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yi(n),this.N_=!1):ae("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class bC{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{qs(this)&&(ae(Us,"Restarting streams for network reachability change."),await async function(g){const y=Se(g);y.W_.add(4),await qo(y),y.j_.set("Unknown"),y.W_.delete(4),await ph(y)}(this))})}),this.j_=new SC(s,l)}}async function ph(r){if(qs(r))for(const e of r.G_)await e(!0)}async function qo(r){for(const e of r.G_)await e(!1)}function AT(r,e){const n=Se(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),zm(n)?Lm(n):il(n).c_()&&Um(n,e))}function km(r,e){const n=Se(r),s=il(n);n.K_.delete(e),s.c_()&&ST(n,e),n.K_.size===0&&(s.c_()?s.P_():qs(n)&&n.j_.set("Unknown"))}function Um(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(r).y_(e)}function ST(r,e){r.H_.Ne(e),il(r).w_(e)}function Lm(r){r.H_=new _1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),il(r).start(),r.j_.B_()}function zm(r){return qs(r)&&!il(r).u_()&&r.K_.size>0}function qs(r){return Se(r).W_.size===0}function bT(r){r.H_=void 0}async function wC(r){r.j_.set("Online")}async function RC(r){r.K_.forEach((e,n)=>{Um(r,e)})}async function CC(r,e){bT(r),zm(r)?(r.j_.q_(e),Lm(r)):r.j_.set("Unknown")}async function IC(r,e,n){if(r.j_.set("Online"),e instanceof oT&&e.state===2&&e.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l.K_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.K_.delete(m),l.H_.removeTarget(m))}(r,e)}catch(s){ae(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kc(r,s)}else if(e instanceof Dc?r.H_.We(e):e instanceof lT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Te.min()))try{const s=await vT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.K_.get(y);T&&u.K_.set(y,T.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const T=u.K_.get(g);if(!T)return;u.K_.set(g,T.withResumeToken(jt.EMPTY_BYTE_STRING,T.snapshotVersion)),ST(u,g);const b=new Br(T.target,g,y,T.sequenceNumber);Um(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ae(Us,"Failed to raise snapshot:",s),await Kc(r,s)}}async function Kc(r,e,n){if(!nl(e))throw e;r.W_.add(1),await qo(r),r.j_.set("Offline"),n||(n=()=>vT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae(Us,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await ph(r)})}function wT(r,e){return e().catch(n=>Kc(r,n,e))}async function gh(r){const e=Se(r),n=Wr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Am;for(;DC(e);)try{const l=await cC(e.localStore,s);if(l===null){e.U_.length===0&&n.P_();break}s=l.batchId,OC(e,l)}catch(l){await Kc(e,l)}RT(e)&&CT(e)}function DC(r){return qs(r)&&r.U_.length<10}function OC(r,e){r.U_.push(e);const n=Wr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function RT(r){return qs(r)&&!Wr(r).u_()&&r.U_.length>0}function CT(r){Wr(r).start()}async function NC(r){Wr(r).C_()}async function VC(r){const e=Wr(r);for(const n of r.U_)e.b_(n.mutations)}async function MC(r,e,n){const s=r.U_.shift(),l=Dm.from(s,e,n);await wT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await gh(r)}async function xC(r,e){e&&Wr(r).S_&&await async function(s,l){if(function(f){return g1(f)&&f!==J.ABORTED}(l.code)){const u=s.U_.shift();Wr(s).h_(),await wT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l)),await gh(s)}}(r,e),RT(r)&&CT(r)}async function vv(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ae(Us,"RemoteStore received new credentials");const s=qs(n);n.W_.add(3),await qo(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await ph(n)}async function PC(r,e){const n=Se(r);e?(n.W_.delete(2),await ph(n)):e||(n.W_.add(2),await qo(n),n.j_.set("Unknown"))}function il(r){return r.J_||(r.J_=function(n,s,l){const u=Se(n);return u.M_(),new vC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:wC.bind(null,r),No:RC.bind(null,r),Lo:CC.bind(null,r),p_:IC.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),zm(r)?Lm(r):r.j_.set("Unknown")):(await r.J_.stop(),bT(r))})),r.J_}function Wr(r){return r.Y_||(r.Y_=function(n,s,l){const u=Se(n);return u.M_(),new EC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:NC.bind(null,r),Lo:xC.bind(null,r),D_:VC.bind(null,r),v_:MC.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await gh(r)):(await r.Y_.stop(),r.U_.length>0&&(ae(Us,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,m=new Bm(e,n,f,l,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(r,e){if(Yi("AsyncQueue",`${e}: ${r}`),nl(r))return new de(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(e){return new La(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=yo(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new La;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.Z_=new nt(me.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ve():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ya{constructor(e,n,s,l,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ya(e,n,La.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class UC{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const l=Se(n),u=l.queries;l.queries=Tv(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(s)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function Tv(){return new Hs(r=>KE(r),uh)}async function LC(r,e){const n=Se(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.na()&&e.ra()&&(s=2):(u=new kC,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=Hm(f,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&jm(n)}async function zC(r,e){const n=Se(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?l=e.ra()?0:1:!u.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function BC(r,e){const n=Se(r);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(l)&&(s=!0);f.ea=l}}s&&jm(n)}function HC(r,e,n){const s=Se(r),l=s.queries.get(e);if(l)for(const u of l.ta)u.onError(n);s.queries.delete(e)}function jm(r){r.ia.forEach(e=>{e.next()})}var sm,Av;(Av=sm||(sm={}))._a="default",Av.Cache="cache";class jC{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Ya(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.key=e}}class DT{constructor(e){this.key=e}}class qC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=YE(e),this.wa=new La(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new Ev,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((T,b)=>{const C=l.get(T),P=ch(this.query,b)?b:null,B=!!C&&this.mutatedKeys.has(C.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let j=!1;C&&P?C.data.isEqual(P.data)?B!==K&&(s.track({type:3,doc:P}),j=!0):this.va(C,P)||(s.track({type:2,doc:P}),j=!0,(g&&this.ya(P,g)>0||y&&this.ya(P,y)<0)&&(m=!0)):!C&&P?(s.track({type:0,doc:P}),j=!0):C&&!P&&(s.track({type:1,doc:C}),j=!0,(g||y)&&(m=!0)),j&&(P?(f=f.add(P),u=K?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,b)=>function(P,B){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return K(P)-K(B)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),l=l!=null&&l;const m=n&&!l?this.Fa():[],g=this.pa.size===0&&this.current&&!l?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new Ya(this.query,e.wa,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ev,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new DT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new IT(s))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ya.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qm="SyncEngine";class FC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class GC{constructor(e){this.key=e,this.Ba=!1}}class QC{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Hs(m=>KE(m),uh),this.qa=new Map,this.Qa=new Set,this.$a=new nt(me.comparator),this.Ua=new Map,this.Ka=new Vm,this.Wa={},this.Ga=new Map,this.za=Ka.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function KC(r,e,n=!0){const s=PT(r);let l;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await OT(s,e,n,!0),l}async function YC(r,e){const n=PT(r);await OT(n,e,!0,!1)}async function OT(r,e,n,s){const l=await hC(r.localStore,ai(e)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await $C(r,e,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&AT(r.remoteStore,l),m}async function $C(r,e,n,s,l){r.Ha=(b,C,P)=>async function(K,j,$,te){let ee=j.view.ba($);ee.ls&&(ee=await mv(K.localStore,j.query,!1).then(({documents:V})=>j.view.ba(V,ee)));const pe=te&&te.targetChanges.get(j.targetId),oe=te&&te.targetMismatches.get(j.targetId)!=null,be=j.view.applyChanges(ee,K.isPrimaryClient,pe,oe);return bv(K,j.targetId,be.Ma),be.snapshot}(r,b,C,P);const u=await mv(r.localStore,e,!0),f=new qC(e,u.gs),m=f.ba(u.documents),g=jo.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,g);bv(r,n,y.Ma);const T=new FC(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function XC(r,e,n){const s=Se(r),l=s.ka.get(e),u=s.qa.get(l.targetId);if(u.length>1)return s.qa.set(l.targetId,u.filter(f=>!uh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await im(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&km(s.remoteStore,l.targetId),am(s,l.targetId)}).catch(tl)):(am(s,l.targetId),await im(s.localStore,l.targetId,!0))}async function WC(r,e){const n=Se(r),s=n.ka.get(e),l=n.qa.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),km(n.remoteStore,s.targetId))}async function ZC(r,e,n){const s=sI(r);try{const l=await function(f,m){const g=Se(f),y=Rt.now(),T=m.reduce((P,B)=>P.add(B.key),Me());let b,C;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let B=$i(),K=Me();return g.ds.getEntries(P,T).next(j=>{B=j,B.forEach(($,te)=>{te.isValidDocument()||(K=K.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,B)).next(j=>{b=j;const $=[];for(const te of m){const ee=h1(te,b.get(te.key).overlayedDocument);ee!=null&&$.push(new js(te.key,ee,BE(ee.value.mapValue),Qi.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,$,m)}).next(j=>{C=j;const $=j.applyToLocalDocumentSet(b,K);return g.documentOverlayCache.saveOverlays(P,j.batchId,$)})}).then(()=>({batchId:C.batchId,changes:XE(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new nt(Ve)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(s,l.batchId,n),await Fo(s,l.changes),await gh(s.remoteStore)}catch(l){const u=Hm(l,"Failed to persist write");n.reject(u)}}async function NT(r,e){const n=Se(r);try{const s=await oC(n.localStore,e);e.targetChanges.forEach((l,u)=>{const f=n.Ua.get(u);f&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?Ge(f.Ba):l.removedDocuments.size>0&&(Ge(f.Ba),f.Ba=!1))}),await Fo(n,s,e)}catch(s){await tl(s)}}function Sv(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&l.push(m.snapshot)}),function(f,m){const g=Se(f);g.onlineState=m;let y=!1;g.queries.forEach((T,b)=>{for(const C of b.ta)C.sa(m)&&(y=!0)}),y&&jm(g)}(s.eventManager,e),l.length&&s.La.p_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JC(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Ua.get(e),u=l&&l.key;if(u){let f=new nt(me.comparator);f=f.insert(u,Yt.newNoDocument(u,Te.min()));const m=Me().add(u),g=new dh(Te.min(),new Map,new nt(Ve),f,m);await NT(s,g),s.$a=s.$a.remove(u),s.Ua.delete(e),Fm(s)}else await im(s.localStore,e,!1).then(()=>am(s,e,n)).catch(tl)}async function eI(r,e){const n=Se(r),s=e.batch.batchId;try{const l=await lC(n.localStore,e);MT(n,s,null),VT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fo(n,l)}catch(l){await tl(l)}}async function tI(r,e,n){const s=Se(r);try{const l=await function(f,m){const g=Se(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return g.mutationQueue.lookupMutationBatch(y,m).next(b=>(Ge(b!==null),T=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>g.localDocuments.getDocuments(y,T))})}(s.localStore,e);MT(s,e,n),VT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fo(s,l)}catch(l){await tl(l)}}function VT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function MT(r,e,n){const s=Se(r);let l=s.Wa[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Wa[s.currentUser.toKey()]=l}}function am(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||xT(r,s)})}function xT(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(km(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Fm(r))}function bv(r,e,n){for(const s of n)s instanceof IT?(r.Ka.addReference(s.key,e),nI(r,s)):s instanceof DT?(ae(qm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||xT(r,s.key)):ve()}function nI(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ae(qm,"New document in limbo: "+n),r.Qa.add(s),Fm(r))}function Fm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new me(ot.fromString(e)),s=r.za.next();r.Ua.set(s,new GC(n)),r.$a=r.$a.insert(n,s),AT(r.remoteStore,new Br(ai(Cm(n.path)),s,"TargetPurposeLimboResolution",sh.ae))}}async function Fo(r,e,n){const s=Se(r),l=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{f.push(s.Ha(g,e,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){l.push(y);const b=xm.Yi(g.targetId,y);u.push(b)}}))}),await Promise.all(f),s.La.p_(l),await async function(g,y){const T=Se(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>X.forEach(y,C=>X.forEach(C.Hi,P=>T.persistence.referenceDelegate.addReference(b,C.targetId,P)).next(()=>X.forEach(C.Ji,P=>T.persistence.referenceDelegate.removeReference(b,C.targetId,P)))))}catch(b){if(!nl(b))throw b;ae(Pm,"Failed to update sequence numbers: "+b)}for(const b of y){const C=b.targetId;if(!b.fromCache){const P=T.Ts.get(C),B=P.snapshotVersion,K=P.withLastLimboFreeSnapshotVersion(B);T.Ts=T.Ts.insert(C,K)}}}(s.localStore,u))}async function iI(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ae(qm,"User change. New user:",e.toKey());const s=await _T(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new de(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fo(n,s.Rs)}}function rI(r,e){const n=Se(r),s=n.Ua.get(e);if(s&&s.Ba)return Me().add(s.key);{let l=Me();const u=n.qa.get(e);if(!u)return l;for(const f of u){const m=n.ka.get(f);l=l.unionWith(m.view.Sa)}return l}}function PT(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JC.bind(null,e),e.La.p_=BC.bind(null,e.eventManager),e.La.Ja=HC.bind(null,e.eventManager),e}function sI(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tI.bind(null,e),e}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return aC(this.persistence,new iC,e.initialUser,this.serializer)}Xa(e){return new yT(Mm.ri,this.serializer)}Za(e){return new dC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class aI extends Yc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ge(this.persistence.referenceDelegate instanceof Qc);const s=this.persistence.referenceDelegate.garbageCollector;return new j1(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new yT(s=>Qc.ri(s,n),this.serializer)}}class lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Sv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iI.bind(null,this.syncEngine),await PC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UC}()}createDatastore(e){const n=mh(e.databaseInfo.databaseId),s=function(u){return new _C(u)}(e.databaseInfo);return function(u,f,m,g){return new AC(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,l,u,f,m){return new bC(s,l,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Sv(this.syncEngine,n,0),function(){return yv.D()?new yv:new mC}())}createSyncEngine(e,n){return function(l,u,f,m,g,y,T){const b=new QC(l,u,f,m,g,y);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=Se(l);ae(Us,"RemoteStore shutting down."),u.W_.add(5),await qo(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class oI{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Kt.UNAUTHENTICATED,this.clientId=OE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ae(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ae(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Pd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await _T(e.localStore,l),s=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function wv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await uI(r);ae(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>vv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>vv(e.remoteStore,l)),r._onlineComponents=e}async function uI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(Zr,"Using user provided OfflineComponentProvider");try{await Pd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await Pd(r,new Yc)}}else ae(Zr,"Using default OfflineComponentProvider"),await Pd(r,new aI(void 0));return r._offlineComponents}async function kT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(Zr,"Using user provided OnlineComponentProvider"),await wv(r,r._uninitializedComponentsProvider._online)):(ae(Zr,"Using default OnlineComponentProvider"),await wv(r,new lm))),r._onlineComponents}function cI(r){return kT(r).then(e=>e.syncEngine)}async function hI(r){const e=await kT(r),n=e.eventManager;return n.onListen=KC.bind(null,e.syncEngine),n.onUnlisten=XC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WC.bind(null,e.syncEngine),n}function fI(r,e,n={}){const s=new Gr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const T=new lI({next:C=>{T.su(),f.enqueueAndForget(()=>zC(u,b));const P=C.docs.has(m);!P&&C.fromCache?y.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&C.fromCache&&g&&g.source==="server"?y.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new jC(Cm(m.path),T,{includeMetadataChanges:!0,Ta:!0});return LC(u,b)}(await hI(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mI(r,e,n,s){if(e===!0&&s===!0)throw new de(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Cv(r){if(!me.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve()}function Mo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gm(r);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firestore.googleapis.com",Iv=!0;class Dv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=Iv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Iv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B1)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qm{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new yR;switch(s.type){case"firstParty":return new TR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Rv.get(n);s&&(ae("ComponentProvider","Removing Datastore"),Rv.delete(n),s.terminate())}(this),Promise.resolve()}}function pI(r,e,n,s={}){var l;const u=(r=Mo(r,Qm))._getSettings(),f=`${e}:${n}`;if(u.host!==LT&&u.host!==f&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Kt.MOCK_USER;else{m=Qb(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Kt(y)}r._authCredentials=new _R(new DE(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Km(this.firestore,e,this._query)}}class Vn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class xo extends Km{constructor(e,n,s){super(e,n,Cm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new me(e))}withConverter(e){return new xo(this.firestore,e,this._path)}}function zT(r,e,...n){if(r=Mn(r),arguments.length===1&&(e=OE.newId()),dI("doc","path",e),r instanceof Qm){const s=ot.fromString(e,...n);return Cv(s),new Vn(r,null,new me(s))}{if(!(r instanceof Vn||r instanceof xo))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return Cv(s),new Vn(r.firestore,r instanceof xo?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="AsyncQueue";class Nv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ET(this,"async_queue_retry"),this.Su=()=>{const s=xd();s&&ae(Ov,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=xd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Gr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!nl(e))throw e;ae(Ov,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Yi("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=Bm.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ym extends Qm{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new Nv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nv(e),this._firestoreClient=void 0,await e}}}function gI(r,e){const n=typeof r=="object"?r:EE(),s=typeof r=="string"?r:zc,l=Em(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=Fb("firestore");u&&pI(l,...u)}return l}function BT(r){if(r._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yI(r),r._firestoreClient}function yI(r){var e,n,s;const l=r._freezeSettings(),u=function(m,g,y,T){return new PR(m,g,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,UT(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new oI(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $a(jt.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $a(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=/^__.*__$/;class vI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ho(e,this.data,n,this.fieldTransforms)}}function jT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Zm{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:s,Qu:!1});return l.$u(e),l}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $c(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(jT(this.Lu)&&_I.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class EI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||mh(e)}ju(e,n,s,l=!1){return new Zm({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TI(r){const e=r._freezeSettings(),n=mh(r._databaseId);return new EI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function AI(r,e,n,s,l,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,l);QT("Data must be an object, but it was:",f,s);const m=FT(s,f);let g,y;if(u.merge)g=new Hn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const C=SI(e,b,n);if(!f.contains(C))throw new de(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);wI(T,C)||T.push(C)}g=new Hn(T),y=f.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=f.fieldTransforms;return new vI(new Nn(m),g,y)}function qT(r,e){if(GT(r=Mn(r)))return QT("Unsupported field value:",e,r),FT(r,e);if(r instanceof HT)return function(s,l){if(!jT(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,l){const u=[];let f=0;for(const m of s){let g=qT(m,l.Ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,l){if((s=Mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return s1(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:Gc(l.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gc(l.serializer,u)}}if(s instanceof Xm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $a)return{bytesValue:uT(l.serializer,s._byteString)};if(s instanceof Vn){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Nm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Wm)return function(f,m){return{mapValue:{fields:{[LE]:{stringValue:zE},[Bc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Im(m.serializer,y)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${Gm(s)}`)}(r,e)}function FT(r,e){const n={};return VE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(r,(s,l)=>{const u=qT(l,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function GT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Xm||r instanceof $a||r instanceof Vn||r instanceof HT||r instanceof Wm)}function QT(r,e,n){if(!GT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=Gm(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function SI(r,e,n){if((e=Mn(e))instanceof $m)return e._internalPath;if(typeof e=="string")return KT(r,e);throw $c("Field path arguments must be of type string or ",r,!1,void 0,n)}const bI=new RegExp("[~\\*/\\[\\]]");function KT(r,e,n){if(e.search(bI)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $m(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function $c(r,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${l}`),g+=")"),new de(J.INVALID_ARGUMENT,m+r+g)}function wI(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($T("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RI extends YT{data(){return super.data()}}function $T(r,e){return typeof e=="string"?KT(r,e):e instanceof $m?e._internalPath:e._delegate._internalPath}class CI{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Bs(e,(l,u)=>{s[l]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,l;const u=(l=(s=(n=e.fields)===null||n===void 0?void 0:n[Bc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>ht(f.doubleValue));return new Wm(u)}convertGeoPoint(e){return new Xm(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=lh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Io(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ge(pT(s));const l=new Do(s.get(1),s.get(3)),u=new me(s.popFirst(5));return l.isEqual(n)||Yi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XT extends YT{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new OI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($T("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class OI extends XT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r){r=Mo(r,Vn);const e=Mo(r.firestore,Ym);return fI(BT(e),r._key).then(n=>xI(e,r,n))}class VI extends CI{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function WT(r,e,n){r=Mo(r,Vn);const s=Mo(r.firestore,Ym),l=II(r.converter,e,n);return MI(s,[AI(TI(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Qi.none())])}function MI(r,e){return function(s,l){const u=new Gr;return s.asyncQueue.enqueueAndForget(async()=>ZC(await cI(s),l,u)),u.promise}(BT(r),e)}function xI(r,e,n){const s=n.docs.get(e._key),l=new VI(r);return new XT(r,l,e._key,s,new DI(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){el=l})(Ja),ja(new Ps("firestore",(s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ym(new vR(s.getProvider("auth-internal")),new AR(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(y.options.projectId,T)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),qr(z_,B_,e),qr(z_,B_,"esm2017")})();var PI="firebase",kI="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(PI,kI,"app");function Jm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function ZT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UI=ZT,JT=new zo("auth","Firebase",ZT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new _m("@firebase/auth");function LI(r,...e){Xc.logLevel<=Ne.WARN&&Xc.warn(`Auth (${Ja}): ${r}`,...e)}function Oc(r,...e){Xc.logLevel<=Ne.ERROR&&Xc.error(`Auth (${Ja}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(r,...e){throw tp(r,...e)}function jn(r,...e){return tp(r,...e)}function ep(r,e,n){const s=Object.assign(Object.assign({},UI()),{[e]:n});return new zo("auth","Firebase",s).create(e,{appName:r.name})}function xs(r){return ep(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zI(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&fi(r,"argument-error"),ep(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return JT.create(r,...e)}function Ee(r,e,...n){if(!r)throw tp(e,...n)}function ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function Xi(r,e){r||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function BI(){return Vv()==="http:"||Vv()==="https:"}function Vv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BI()||Xb()||"connection"in navigator)?navigator.onLine:!0}function jI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=Kb()||Wb()}get(){return HI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(r,e){Xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new Go(3e4,6e4);function ip(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function rl(r,e,n,s,l={}){return t0(r,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Bo(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},u);return $b()||(y.referrerPolicy="no-referrer"),e0.fetch()(n0(r,r.config.apiHost,n,m),y)})}async function t0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},qI),e);try{const l=new QI(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ac(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Ac(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ep(r,T,y);fi(r,T)}}catch(l){if(l instanceof Zi)throw l;fi(r,"network-request-failed",{message:String(l)})}}async function GI(r,e,n,s,l={}){const u=await rl(r,e,n,s,l);return"mfaPendingCredential"in u&&fi(r,"multi-factor-auth-required",{_serverResponse:u}),u}function n0(r,e,n,s){const l=`${e}${n}?${s}`;return r.config.emulator?np(r.config,l):`${r.config.apiScheme}://${l}`}class QI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(jn(this.auth,"network-request-failed")),FI.get())})}}function Ac(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=jn(r,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(r,e){return rl(r,"POST","/v1/accounts:delete",e)}async function i0(r,e){return rl(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YI(r,e=!1){const n=Mn(r),s=await n.getIdToken(e),l=rp(s);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:bo(kd(l.auth_time)),issuedAtTime:bo(kd(l.iat)),expirationTime:bo(kd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function kd(r){return Number(r)*1e3}function rp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=dE(n);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Mv(r){const e=rp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&$I(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $I({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bo(this.lastLoginAt),this.creationTime=bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){var e;const n=r.auth,s=await r.getIdToken(),l=await Po(r,i0(n,{idToken:s}));Ee(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?r0(u.providerUserInfo):[],m=ZI(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=g?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new um(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function WI(r){const e=Mn(r);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZI(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function r0(r){return r.map(e=>{var{providerId:n}=e,s=Jm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,e){const n=await t0(r,{},async()=>{const s=Bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=n0(r,l,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",e0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eD(r,e){return rl(r,"POST","/v2/accounts:revokeToken",ip(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Mv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await JI(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new za;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(Ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class qi{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=Jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new um(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Po(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YI(this,e)}reload(){return WI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await Po(this,KI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,f,m,g,y,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(l=n.email)!==null&&l!==void 0?l:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,B=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,te=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ee,emailVerified:pe,isAnonymous:oe,providerData:be,stsTokenManager:V}=n;Ee(ee&&V,e,"internal-error");const w=za.fromJSON(this.name,V);Ee(typeof ee=="string",e,"internal-error"),kr(b,e.name),kr(C,e.name),Ee(typeof pe=="boolean",e,"internal-error"),Ee(typeof oe=="boolean",e,"internal-error"),kr(P,e.name),kr(B,e.name),kr(K,e.name),kr(j,e.name),kr($,e.name),kr(te,e.name);const S=new qi({uid:ee,auth:e,email:C,emailVerified:pe,displayName:b,isAnonymous:oe,photoURL:B,phoneNumber:P,tenantId:K,stsTokenManager:w,createdAt:$,lastLoginAt:te});return be&&Array.isArray(be)&&(S.providerData=be.map(I=>Object.assign({},I))),j&&(S._redirectEventId=j),S}static async _fromIdTokenResponse(e,n,s=!1){const l=new za;l.updateFromServerResponse(n);const u=new qi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Wc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?r0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new za;m.updateFromIdToken(s);const g=new qi({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map;function Fi(r){Xi(r instanceof Function,"Expected a class definition");let e=xv.get(r);return e?(Xi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,xv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}s0.type="NONE";const Pv=s0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ba{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Nc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ba(Fi(Pv),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Fi(Pv);const f=Nc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){const b=qi._fromJSON(e,T);y!==u&&(m=b),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ba(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ba(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h0(e))return"Blackberry";if(f0(e))return"Webos";if(l0(e))return"Safari";if((e.includes("chrome/")||o0(e))&&!e.includes("edge/"))return"Chrome";if(c0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function a0(r=$t()){return/firefox\//i.test(r)}function l0(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o0(r=$t()){return/crios\//i.test(r)}function u0(r=$t()){return/iemobile/i.test(r)}function c0(r=$t()){return/android/i.test(r)}function h0(r=$t()){return/blackberry/i.test(r)}function f0(r=$t()){return/webos/i.test(r)}function sp(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tD(r=$t()){var e;return sp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nD(){return Zb()&&document.documentMode===10}function d0(r=$t()){return sp(r)||c0(r)||f0(r)||h0(r)||/windows phone/i.test(r)||u0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r,e=[]){let n;switch(r){case"Browser":n=kv($t());break;case"Worker":n=`${kv($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(r,e={}){return rl(r,"GET","/v2/passwordPolicy",ip(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=6;class aD{constructor(e){var n,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:sD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(l=g.containsLowercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await Ba.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await i0(this,{idToken:e}),s=await qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Bn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=l==null?void 0:l._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(l=g.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(xs(this));const n=e?Mn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rD(this),n=new aD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,l);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yh(r){return Mn(r)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=aw(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oD(r){ap=r}function uD(r){return ap.loadJS(r)}function cD(){return ap.gapiScript}function hD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(r,e){const n=Em(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(kc(u,e??{}))return l;fi(l,"already-initialized")}return n.initialize({options:e})}function dD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function mD(r,e,n){const s=yh(r);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=p0(e),{host:f,port:m}=pD(e),g=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),gD()}function p0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pD(r){const e=p0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Lv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Lv(f)}}}function Lv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function gD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(r,e){return GI(r,"POST","/v1/accounts:signInWithIdp",ip(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="http://localhost";class Ls extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=n,u=Jm(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Ls(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ha(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ha(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ha(e,n)}buildRequest(){const e={requestUri:yD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Qo{constructor(){super("facebook.com")}static credential(e){return Ls._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ls._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hi.credential(n,s)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Qo{constructor(){super("github.com")}static credential(e){return Ls._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Qo{constructor(){super("twitter.com")}static credential(e,n){return Ls._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await qi._fromIdTokenResponse(e,s,l),f=zv(s);return new Xa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=zv(s);return new Xa({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function zv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Zi{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Zc(e,n,s,l)}}function y0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,u,e,s):u})}async function _D(r,e,n=!1){const s=await Po(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Xa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(r,e,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(xs(s));const l="reauthenticate";try{const u=await Po(r,y0(s,l,e,r),n);Ee(u.idToken,s,"internal-error");const f=rp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),Xa._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&fi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(r,e,n=!1){if(Bn(r.app))return Promise.reject(xs(r));const s="signIn",l=await y0(r,s,e),u=await Xa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function TD(r,e,n,s){return Mn(r).onIdTokenChanged(e,n,s)}function AD(r,e,n){return Mn(r).beforeAuthStateChanged(e,n)}function op(r,e,n,s){return Mn(r).onAuthStateChanged(e,n,s)}function SD(r){return Mn(r).signOut()}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=1e3,wD=10;class v0 extends _0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,wD):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v0.type="LOCAL";const RD=v0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends _0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E0.type="SESSION";const T0=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new _h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await CD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=up("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(b){const C=b;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function DD(r){oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function OD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ND(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function VD(){return A0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="firebaseLocalStorageDb",MD=1,eh="firebaseLocalStorage",b0="fbase_key";class Ko{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(r,e){return r.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function xD(){const r=indexedDB.deleteDatabase(S0);return new Ko(r).toPromise()}function cm(){const r=indexedDB.open(S0,MD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(eh,{keyPath:b0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(eh)?e(s):(s.close(),await xD(),e(await cm()))})})}async function Bv(r,e,n){const s=vh(r,!0).put({[b0]:e,value:n});return new Ko(s).toPromise()}async function PD(r,e){const n=vh(r,!1).get(e),s=await new Ko(n).toPromise();return s===void 0?null:s.value}function Hv(r,e){const n=vh(r,!0).delete(e);return new Ko(n).toPromise()}const kD=800,UD=3;class w0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>UD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(VD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OD(),!this.activeServiceWorker)return;this.sender=new ID(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ND()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await Bv(e,Jc,"1"),await Hv(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Bv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=vh(l,!1).getAll();return new Ko(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w0.type="LOCAL";const LD=w0;new Go(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r,e){return e?Fi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends g0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zD(r){return ED(r.auth,new cp(r),r.bypassAuthState)}function BD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),vD(n,new cp(r),r.bypassAuthState)}async function HD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),_D(n,new cp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zD;case"linkViaPopup":case"linkViaRedirect":return HD;case"reauthViaPopup":case"reauthViaRedirect":return BD;default:fi(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new Go(2e3,1e4);async function qD(r,e,n){if(Bn(r.app))return Promise.reject(jn(r,"operation-not-supported-in-this-environment"));const s=yh(r);zI(r,e,lp);const l=R0(s,n);return new Ms(s,"signInViaPopup",e,l).executeNotNull()}class Ms extends C0{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jD.get())};e()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="pendingRedirect",Vc=new Map;class GD extends C0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const s=await QD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QD(r,e){const n=$D(e),s=YD(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function KD(r,e){Vc.set(r._key(),e)}function YD(r){return Fi(r._redirectPersistence)}function $D(r){return Nc(FD,r.config.apiKey,r.name)}async function XD(r,e,n=!1){if(Bn(r.app))return Promise.reject(xs(r));const s=yh(r),l=R0(s,e),f=await new GD(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=10*60*1e3;class ZD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!I0(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WD&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(e))}saveEventToCache(e){this.cachedEventUids.add(jv(e)),this.lastProcessedEventTime=Date.now()}}function jv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function I0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(r,e={}){return rl(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n2=/^https?/;async function i2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await e2(r);for(const n of e)try{if(r2(n))return}catch{}fi(r,"unauthorized-domain")}function r2(r){const e=om(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!n2.test(n))return!1;if(t2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Go(3e4,6e4);function qv(){const r=oi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function a2(r){return new Promise((e,n)=>{var s,l,u;function f(){qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qv(),n(jn(r,"network-request-failed"))},timeout:s2.get()})}if(!((l=(s=oi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=oi().gapi)===null||u===void 0)&&u.load)f();else{const m=hD("iframefcb");return oi()[m]=()=>{gapi.load?f():n(jn(r,"network-request-failed"))},uD(`${cD()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function l2(r){return Mc=Mc||a2(r),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Go(5e3,15e3),u2="__/auth/iframe",c2="emulator/auth/iframe",h2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d2(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?np(e,c2):`https://${r.config.authDomain}/${u2}`,s={apiKey:e.apiKey,appName:r.name,v:Ja},l=f2.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Bo(s).slice(1)}`}async function m2(r){const e=await l2(r),n=oi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:d2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h2,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=jn(r,"network-request-failed"),m=oi().setTimeout(()=>{u(f)},o2.get());function g(){oi().clearTimeout(m),l(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g2=500,y2=600,_2="_blank",v2="http://localhost";class Fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E2(r,e,n,s=g2,l=y2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},p2),{width:s.toString(),height:l.toString(),top:u,left:f}),y=$t().toLowerCase();n&&(m=o0(y)?_2:n),a0(y)&&(e=e||v2,g.scrollbars="yes");const T=Object.entries(g).reduce((C,[P,B])=>`${C}${P}=${B},`,"");if(tD(y)&&m!=="_self")return T2(e||"",m),new Fv(null);const b=window.open(e||"",m,T);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new Fv(b)}function T2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="__/auth/handler",S2="emulator/auth/handler",b2=encodeURIComponent("fac");async function Gv(r,e,n,s,l,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ja,eventId:l};if(e instanceof lp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",sw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof Qo){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await r._getAppCheckToken(),y=g?`#${b2}=${encodeURIComponent(g)}`:"";return`${w2(r)}?${Bo(m).slice(1)}${y}`}function w2({config:r}){return r.emulator?np(r,S2):`https://${r.authDomain}/${A2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="webStorageSupport";class R2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T0,this._completeRedirectFn=XD,this._overrideRedirectResult=KD}async _openPopup(e,n,s,l){var u;Xi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Gv(e,n,s,om(),l);return E2(e,f,up())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await Gv(e,n,s,om(),l);return DD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Xi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await m2(e),s=new ZD(e);return n.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ud,{type:Ud},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Ud];f!==void 0&&n(!!f),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return d0()||l0()||sp()}}const C2=R2;var Qv="@firebase/auth",Kv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O2(r){ja(new Ps("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m0(r)},y=new lD(s,l,u,g);return dD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ja(new Ps("auth-internal",e=>{const n=yh(e.getProvider("auth").getImmediate());return(s=>new I2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(Qv,Kv,D2(r)),qr(Qv,Kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=5*60,V2=gE("authIdTokenMaxAge")||N2;let Yv=null;const M2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>V2)return;const l=n==null?void 0:n.token;Yv!==l&&(Yv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function x2(r=EE()){const e=Em(r,"auth");if(e.isInitialized())return e.getImmediate();const n=fD(r,{popupRedirectResolver:C2,persistence:[LD,RD,T0]}),s=gE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=M2(u.toString());AD(n,f,()=>f(n.currentUser)),TD(n,m=>f(m))}}const l=mE("auth");return l&&mD(n,`http://${l}`),n}function P2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}oD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=jn("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",P2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O2("Browser");const k2={apiKey:"AIzaSyB9D4TEfh51wkouAney3bGYWs-qZy0BO0o",authDomain:"pcoin-4b4b5.firebaseapp.com",projectId:"pcoin-4b4b5",storageBucket:"pcoin-4b4b5.firebasestorage.app",messagingSenderId:"927446081534",appId:"1:927446081534:web:4764b8300b0415d8556aaf",measurementId:"G-SNS37JZF7Y"},D0=vE(k2),O0=gI(D0),Yo=x2(D0),U2=new Hi,L2=async()=>{try{const e=(await qD(Yo,U2)).user;return console.log("User signed in: ",e),e}catch(r){throw console.error("Error signing in with Google: ",r.message),r}},z2=async()=>{try{await SD(Yo),console.log("User logged out")}catch(r){throw console.error("Error logging out: ",r.message),r}},hm=async r=>{try{const e=zT(O0,"users",r),n=await NI(e);return n.exists()?n.data().balance||0:(await WT(e,{balance:0}),0)}catch(e){return console.error("Ошибка при получении баланса:",e),0}},B2=async(r,e)=>{try{const n=zT(O0,"users",r);return await WT(n,{balance:e},{merge:!0}),e}catch(n){return console.error("Ошибка при обновлении баланса:",n),null}},H2=()=>{const[r,e]=Q.useState(null),[n,s]=Q.useState(0),l=nh();Q.useEffect(()=>{const f=op(Yo,async m=>{if(m){e(m);const g=await hm(m.uid);s(g)}else l("/PCoin/auth")});return()=>f()},[l]);const u=async()=>{try{await z2(),l("/PCoin/auth")}catch(f){console.error("Ошибка выхода:",f.message)}};return _e.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:r?_e.jsxs("div",{className:"text-center",children:[_e.jsxs("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:[_e.jsx("img",{src:r.photoURL,alt:"Profile",className:"w-18 h-18 rounded-full mb-4 inline-block mr-5"}),r.displayName]}),_e.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["Email: ",r.email]}),_e.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:["Баланс: ",n," PencilCoins"]}),_e.jsx("button",{onClick:u,className:"bg-red-500 text-white py-2 px-6 rounded-lg hover:bg-red-400 transition duration-300",children:"Выйти"})]}):_e.jsx("div",{children:_e.jsx("p",{className:"text-lg text-gray-600",children:"Загрузка данных..."})})})},j2=()=>{const[r,e]=Q.useState(null),n=nh();Q.useEffect(()=>{const l=op(Yo,u=>{e(u),u&&n("/PCoin/profile")});return()=>l()},[n]);const s=async()=>{try{await L2()}catch(l){console.error("Ошибка входа:",l.message)}};return _e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:[_e.jsx("h2",{className:"text-4xl font-bold text-center text-gray-800 mb-6",children:"Войдите в PencilCoin"}),_e.jsx("button",{onClick:s,className:"bg-blue-500 text-white py-3 px-8 rounded-lg hover:bg-blue-400 transition duration-300",children:"Войти через Google"})]})},q2=()=>{const[r,e]=Q.useState(null),[n,s]=Q.useState(0),[l,u]=Q.useState(0),[f,m]=Q.useState(!1),g=nh();Q.useEffect(()=>{const T=op(Yo,async b=>{if(b){e(b);const C=await hm(b.uid);s(C),u(C)}else g("/PCoin/auth")});return()=>T()},[g]);const y=async()=>{if(r&&!f){m(!0);const T=await hm(r.uid);for(let b=1;b<=5;b++)setTimeout(()=>{u(C=>C+1)},b*100);setTimeout(async()=>{const b=T+5,C=await B2(r.uid,b);s(C),m(!1)},500)}};return _e.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:r?_e.jsxs("div",{className:"text-center",children:[_e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Привет! Кликайте по PencilCoin, чтобы получить монеты!"}),_e.jsx("img",{src:"PencilCoin.png",alt:"Pencil Coin",onClick:y,className:"cursor-pointer mb-6 transition-transform transform hover:scale- ml-auto mr-auto w-1/4 h-1/2"}),_e.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:["Ваш баланс:",_e.jsxs("span",{className:`coin-animation ${f?"coin-animation":""}`,children:[l," PencilCoins"]})]})]}):_e.jsx("p",{className:"text-lg text-gray-600",children:"Загрузка данных..."})})},F2=()=>_e.jsxs("div",{className:"h-screen bg-gray-900 text-white flex flex-col",children:[_e.jsxs("nav",{className:"p-4 bg-gray-800 flex justify-between items-center pl-40 pr-40",children:[_e.jsx("h1",{className:"text-xl font-bold",children:"PencilCoin"}),_e.jsxs("div",{className:"flex space-x-6",children:[_e.jsxs(vo,{to:"/PCoin/",className:"flex items-center hover:text-yellow-400 transform transition-transform hover:scale-105",children:[_e.jsx("img",{src:"home.png",className:"w-6 h-6 rounded-full transition-transform duration-300 filter invert",alt:"Home Icon"}),_e.jsx("span",{className:"ml-2",children:"Home"})]}),_e.jsxs(vo,{to:"/PCoin/profile",className:"flex items-center hover:text-yellow-400 transform transition-transform hover:scale-105",children:[_e.jsx("img",{src:"profile.png",className:"w-6 h-6 rounded-full transition-transform duration-300 filter invert",alt:"Profile Icon"}),_e.jsx("span",{className:"ml-2",children:"Profile"})]}),_e.jsxs(vo,{to:"/PCoin/mining",className:"flex items-center hover:text-yellow-400 transform transition-transform hover:scale-105",children:[_e.jsx("img",{src:"mine.png",className:"w-6 h-6 rounded-full transition-transform duration-300 filter invert",alt:"Get Coins Icon"}),_e.jsx("span",{className:"ml-2",children:"Get Coins"})]})]})]}),_e.jsx("main",{className:"flex-grow",children:_e.jsxs(nb,{children:[_e.jsx(po,{path:"/PCoin/",element:_e.jsx(kb,{})}),_e.jsx(po,{path:"/PCoin/profile",element:_e.jsx(H2,{})}),_e.jsx(po,{path:"/PCoin/auth",element:_e.jsx(j2,{})}),_e.jsx(po,{path:"/PCoin/mining",element:_e.jsx(q2,{})})]})})]});fS.createRoot(document.getElementById("root")).render(_e.jsx(rS.StrictMode,{basename:"/PCoin",children:_e.jsx(Rb,{children:_e.jsx(F2,{})})}));
