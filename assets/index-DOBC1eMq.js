var fx=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var I9=fx((O9,Kp)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jv={exports:{}},qm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oA;function hx(){if(oA)return qm;oA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var h=null;if(l!==void 0&&(h=""+l),a.key!==void 0&&(h=""+a.key),"key"in a){l={};for(var p in a)p!=="key"&&(l[p]=a[p])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:h,ref:a!==void 0?a:null,props:l}}return qm.Fragment=e,qm.jsx=t,qm.jsxs=t,qm}var uA;function dx(){return uA||(uA=1,Jv.exports=hx()),Jv.exports}var Ie=dx(),e0={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA;function mx(){if(lA)return ct;lA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,j={};function B(x,L,ge){this.props=x,this.context=L,this.refs=j,this.updater=ge||N}B.prototype.isReactComponent={},B.prototype.setState=function(x,L){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,L,"setState")},B.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function $(){}$.prototype=B.prototype;function re(x,L,ge){this.props=x,this.context=L,this.refs=j,this.updater=ge||N}var ne=re.prototype=new $;ne.constructor=re,U(ne,B.prototype),ne.isPureReactComponent=!0;var Ae=Array.isArray,ce={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function q(x,L,ge,he,ve,Se){return ge=Se.ref,{$$typeof:n,type:x,key:L,ref:ge!==void 0?ge:null,props:Se}}function D(x,L){return q(x.type,L,void 0,void 0,void 0,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function k(x){var L={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ge){return L[ge]})}var G=/\/+/g;function Z(x,L){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):L.toString(36)}function H(){}function zt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(H,H):(x.status="pending",x.then(function(L){x.status==="pending"&&(x.status="fulfilled",x.value=L)},function(L){x.status==="pending"&&(x.status="rejected",x.reason=L)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Qt(x,L,ge,he,ve){var Se=typeof x;(Se==="undefined"||Se==="boolean")&&(x=null);var Re=!1;if(x===null)Re=!0;else switch(Se){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(x.$$typeof){case n:case e:Re=!0;break;case A:return Re=x._init,Qt(Re(x._payload),L,ge,he,ve)}}if(Re)return ve=ve(x),Re=he===""?"."+Z(x,0):he,Ae(ve)?(ge="",Re!=null&&(ge=Re.replace(G,"$&/")+"/"),Qt(ve,L,ge,"",function(He){return He})):ve!=null&&(O(ve)&&(ve=D(ve,ge+(ve.key==null||x&&x.key===ve.key?"":(""+ve.key).replace(G,"$&/")+"/")+Re)),L.push(ve)),1;Re=0;var Pe=he===""?".":he+":";if(Ae(x))for(var xe=0;xe<x.length;xe++)he=x[xe],Se=Pe+Z(he,xe),Re+=Qt(he,L,ge,Se,ve);else if(xe=C(x),typeof xe=="function")for(x=xe.call(x),xe=0;!(he=x.next()).done;)he=he.value,Se=Pe+Z(he,xe++),Re+=Qt(he,L,ge,Se,ve);else if(Se==="object"){if(typeof x.then=="function")return Qt(zt(x),L,ge,he,ve);throw L=String(x),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Ce(x,L,ge){if(x==null)return x;var he=[],ve=0;return Qt(x,he,"","",function(Se){return L.call(ge,Se,ve++)}),he}function Oe(x){if(x._status===-1){var L=x._result;L=L(),L.then(function(ge){(x._status===0||x._status===-1)&&(x._status=1,x._result=ge)},function(ge){(x._status===0||x._status===-1)&&(x._status=2,x._result=ge)}),x._status===-1&&(x._status=0,x._result=L)}if(x._status===1)return x._result.default;throw x._result}var Me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function mt(){}return ct.Children={map:Ce,forEach:function(x,L,ge){Ce(x,function(){L.apply(this,arguments)},ge)},count:function(x){var L=0;return Ce(x,function(){L++}),L},toArray:function(x){return Ce(x,function(L){return L})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ct.Component=B,ct.Fragment=t,ct.Profiler=a,ct.PureComponent=re,ct.StrictMode=r,ct.Suspense=y,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,ct.act=function(){throw Error("act(...) is not supported in production builds of React.")},ct.cache=function(x){return function(){return x.apply(null,arguments)}},ct.cloneElement=function(x,L,ge){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var he=U({},x.props),ve=x.key,Se=void 0;if(L!=null)for(Re in L.ref!==void 0&&(Se=void 0),L.key!==void 0&&(ve=""+L.key),L)!be.call(L,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&L.ref===void 0||(he[Re]=L[Re]);var Re=arguments.length-2;if(Re===1)he.children=ge;else if(1<Re){for(var Pe=Array(Re),xe=0;xe<Re;xe++)Pe[xe]=arguments[xe+2];he.children=Pe}return q(x.type,ve,void 0,void 0,Se,he)},ct.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},ct.createElement=function(x,L,ge){var he,ve={},Se=null;if(L!=null)for(he in L.key!==void 0&&(Se=""+L.key),L)be.call(L,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ve[he]=L[he]);var Re=arguments.length-2;if(Re===1)ve.children=ge;else if(1<Re){for(var Pe=Array(Re),xe=0;xe<Re;xe++)Pe[xe]=arguments[xe+2];ve.children=Pe}if(x&&x.defaultProps)for(he in Re=x.defaultProps,Re)ve[he]===void 0&&(ve[he]=Re[he]);return q(x,Se,void 0,void 0,null,ve)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(x){return{$$typeof:p,render:x}},ct.isValidElement=O,ct.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:Oe}},ct.memo=function(x,L){return{$$typeof:_,type:x,compare:L===void 0?null:L}},ct.startTransition=function(x){var L=ce.T,ge={};ce.T=ge;try{var he=x(),ve=ce.S;ve!==null&&ve(ge,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(mt,Me)}catch(Se){Me(Se)}finally{ce.T=L}},ct.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},ct.use=function(x){return ce.H.use(x)},ct.useActionState=function(x,L,ge){return ce.H.useActionState(x,L,ge)},ct.useCallback=function(x,L){return ce.H.useCallback(x,L)},ct.useContext=function(x){return ce.H.useContext(x)},ct.useDebugValue=function(){},ct.useDeferredValue=function(x,L){return ce.H.useDeferredValue(x,L)},ct.useEffect=function(x,L){return ce.H.useEffect(x,L)},ct.useId=function(){return ce.H.useId()},ct.useImperativeHandle=function(x,L,ge){return ce.H.useImperativeHandle(x,L,ge)},ct.useInsertionEffect=function(x,L){return ce.H.useInsertionEffect(x,L)},ct.useLayoutEffect=function(x,L){return ce.H.useLayoutEffect(x,L)},ct.useMemo=function(x,L){return ce.H.useMemo(x,L)},ct.useOptimistic=function(x,L){return ce.H.useOptimistic(x,L)},ct.useReducer=function(x,L,ge){return ce.H.useReducer(x,L,ge)},ct.useRef=function(x){return ce.H.useRef(x)},ct.useState=function(x){return ce.H.useState(x)},ct.useSyncExternalStore=function(x,L,ge){return ce.H.useSyncExternalStore(x,L,ge)},ct.useTransition=function(){return ce.H.useTransition()},ct.version="19.0.0",ct}var cA;function TT(){return cA||(cA=1,e0.exports=mx()),e0.exports}var X=TT();const px=fb(X);var t0={exports:{}},jm={},n0={exports:{}},i0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function gx(){return fA||(fA=1,function(n){function e(Ce,Oe){var Me=Ce.length;Ce.push(Oe);e:for(;0<Me;){var mt=Me-1>>>1,x=Ce[mt];if(0<a(x,Oe))Ce[mt]=Oe,Ce[Me]=x,Me=mt;else break e}}function t(Ce){return Ce.length===0?null:Ce[0]}function r(Ce){if(Ce.length===0)return null;var Oe=Ce[0],Me=Ce.pop();if(Me!==Oe){Ce[0]=Me;e:for(var mt=0,x=Ce.length,L=x>>>1;mt<L;){var ge=2*(mt+1)-1,he=Ce[ge],ve=ge+1,Se=Ce[ve];if(0>a(he,Me))ve<x&&0>a(Se,he)?(Ce[mt]=Se,Ce[ve]=Me,mt=ve):(Ce[mt]=he,Ce[ge]=Me,mt=ge);else if(ve<x&&0>a(Se,Me))Ce[mt]=Se,Ce[ve]=Me,mt=ve;else break e}}return Oe}function a(Ce,Oe){var Me=Ce.sortIndex-Oe.sortIndex;return Me!==0?Me:Ce.id-Oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var y=[],_=[],A=1,w=null,C=3,N=!1,U=!1,j=!1,B=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ne(Ce){for(var Oe=t(_);Oe!==null;){if(Oe.callback===null)r(_);else if(Oe.startTime<=Ce)r(_),Oe.sortIndex=Oe.expirationTime,e(y,Oe);else break;Oe=t(_)}}function Ae(Ce){if(j=!1,ne(Ce),!U)if(t(y)!==null)U=!0,zt();else{var Oe=t(_);Oe!==null&&Qt(Ae,Oe.startTime-Ce)}}var ce=!1,be=-1,q=5,D=-1;function O(){return!(n.unstable_now()-D<q)}function k(){if(ce){var Ce=n.unstable_now();D=Ce;var Oe=!0;try{e:{U=!1,j&&(j=!1,$(be),be=-1),N=!0;var Me=C;try{t:{for(ne(Ce),w=t(y);w!==null&&!(w.expirationTime>Ce&&O());){var mt=w.callback;if(typeof mt=="function"){w.callback=null,C=w.priorityLevel;var x=mt(w.expirationTime<=Ce);if(Ce=n.unstable_now(),typeof x=="function"){w.callback=x,ne(Ce),Oe=!0;break t}w===t(y)&&r(y),ne(Ce)}else r(y);w=t(y)}if(w!==null)Oe=!0;else{var L=t(_);L!==null&&Qt(Ae,L.startTime-Ce),Oe=!1}}break e}finally{w=null,C=Me,N=!1}Oe=void 0}}finally{Oe?G():ce=!1}}}var G;if(typeof re=="function")G=function(){re(k)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,H=Z.port2;Z.port1.onmessage=k,G=function(){H.postMessage(null)}}else G=function(){B(k,0)};function zt(){ce||(ce=!0,G())}function Qt(Ce,Oe){be=B(function(){Ce(n.unstable_now())},Oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Ce){Ce.callback=null},n.unstable_continueExecution=function(){U||N||(U=!0,zt())},n.unstable_forceFrameRate=function(Ce){0>Ce||125<Ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Ce?Math.floor(1e3/Ce):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return t(y)},n.unstable_next=function(Ce){switch(C){case 1:case 2:case 3:var Oe=3;break;default:Oe=C}var Me=C;C=Oe;try{return Ce()}finally{C=Me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Ce,Oe){switch(Ce){case 1:case 2:case 3:case 4:case 5:break;default:Ce=3}var Me=C;C=Ce;try{return Oe()}finally{C=Me}},n.unstable_scheduleCallback=function(Ce,Oe,Me){var mt=n.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?mt+Me:mt):Me=mt,Ce){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=Me+x,Ce={id:A++,callback:Oe,priorityLevel:Ce,startTime:Me,expirationTime:x,sortIndex:-1},Me>mt?(Ce.sortIndex=Me,e(_,Ce),t(y)===null&&Ce===t(_)&&(j?($(be),be=-1):j=!0,Qt(Ae,Me-mt))):(Ce.sortIndex=x,e(y,Ce),U||N||(U=!0,zt())),Ce},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(Ce){var Oe=C;return function(){var Me=C;C=Oe;try{return Ce.apply(this,arguments)}finally{C=Me}}}}(i0)),i0}var hA;function yx(){return hA||(hA=1,n0.exports=gx()),n0.exports}var r0={exports:{}},Vi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA;function _x(){if(dA)return Vi;dA=1;var n=TT();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(y,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:y,containerInfo:_,implementation:A}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vi.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return l(y,_,null,A)},Vi.flushSync=function(y){var _=h.T,A=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=_,r.p=A,r.d.f()}},Vi.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Vi.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Vi.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,w=p(A,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,N=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:N}):A==="script"&&r.d.X(y,{crossOrigin:w,integrity:C,fetchPriority:N,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Vi.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Vi.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=p(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Vi.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Vi.requestFormReset=function(y){r.d.r(y)},Vi.unstable_batchedUpdates=function(y,_){return y(_)},Vi.useFormState=function(y,_,A){return h.H.useFormState(y,_,A)},Vi.useFormStatus=function(){return h.H.useHostTransitionStatus()},Vi.version="19.0.0",Vi}var mA;function vx(){if(mA)return r0.exports;mA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),r0.exports=_x(),r0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA;function Tx(){if(pA)return jm;pA=1;var n=yx(),e=TT(),t=vx();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Ae=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function be(i){return i===null||typeof i!="object"?null:(i=ce&&i[ce]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function D(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case y:return"Fragment";case p:return"Portal";case A:return"Profiler";case _:return"StrictMode";case j:return"Suspense";case B:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case N:return(i.displayName||"Context")+".Provider";case C:return(i._context.displayName||"Context")+".Consumer";case U:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return s=i.displayName||null,s!==null?s:D(i.type)||"Memo";case re:s=i._payload,i=i._init;try{return D(i(s))}catch{}}return null}var O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Object.assign,G,Z;function H(i){if(G===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);G=s&&s[1]||"",Z=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+i+Z}var zt=!1;function Qt(i,s){if(!i||zt)return"";zt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(le){var se=le}Reflect.construct(i,[],Te)}else{try{Te.call()}catch(le){se=le}i.call(Te.prototype)}}else{try{throw Error()}catch(le){se=le}(Te=i())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(le){if(le&&se&&typeof le.stack=="string")return[le.stack,se.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),b=v[0],M=v[1];if(b&&M){var z=b.split(`
`),Y=M.split(`
`);for(m=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(f===z.length||m===Y.length)for(f=z.length-1,m=Y.length-1;1<=f&&0<=m&&z[f]!==Y[m];)m--;for(;1<=f&&0<=m;f--,m--)if(z[f]!==Y[m]){if(f!==1||m!==1)do if(f--,m--,0>m||z[f]!==Y[m]){var fe=`
`+z[f].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=f&&0<=m);break}}}finally{zt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?H(o):""}function Ce(i){switch(i.tag){case 26:case 27:case 5:return H(i.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 15:return i=Qt(i.type,!1),i;case 11:return i=Qt(i.type.render,!1),i;case 1:return i=Qt(i.type,!0),i;default:return""}}function Oe(i){try{var s="";do s+=Ce(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Me(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function mt(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function x(i){if(Me(i)!==i)throw Error(r(188))}function L(i){var s=i.alternate;if(!s){if(s=Me(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,f=s;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){o=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return x(m),i;if(v===f)return x(m),s;v=v.sibling}throw Error(r(188))}if(o.return!==f.return)o=m,f=v;else{for(var b=!1,M=m.child;M;){if(M===o){b=!0,o=m,f=v;break}if(M===f){b=!0,f=m,o=v;break}M=M.sibling}if(!b){for(M=v.child;M;){if(M===o){b=!0,o=v,f=m;break}if(M===f){b=!0,f=v,o=m;break}M=M.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==f)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function ge(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=ge(i),s!==null)return s;i=i.sibling}return null}var he=Array.isArray,ve=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},Re=[],Pe=-1;function xe(i){return{current:i}}function He(i){0>Pe||(i.current=Re[Pe],Re[Pe]=null,Pe--)}function qe(i,s){Pe++,Re[Pe]=i.current,i.current=s}var et=xe(null),yt=xe(null),Pt=xe(null),je=xe(null);function jt(i,s){switch(qe(Pt,s),qe(yt,i),qe(et,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?ly(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=ly(i),s=cy(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}He(et),qe(et,s)}function gn(){He(et),He(yt),He(Pt)}function Xt(i){i.memoizedState!==null&&qe(je,i);var s=et.current,o=cy(s,i.type);s!==o&&(qe(yt,i),qe(et,o))}function Kn(i){yt.current===i&&(He(et),He(yt)),je.current===i&&(He(je),Oc._currentValue=Se)}var Ri=Object.prototype.hasOwnProperty,cn=n.unstable_scheduleCallback,Un=n.unstable_cancelCallback,Rs=n.unstable_shouldYield,Xr=n.unstable_requestPaint,$n=n.unstable_now,Zr=n.unstable_getCurrentPriorityLevel,fn=n.unstable_ImmediatePriority,Zt=n.unstable_UserBlockingPriority,ii=n.unstable_NormalPriority,Cs=n.unstable_LowPriority,Jr=n.unstable_IdlePriority,Is=n.log,Sr=n.unstable_setDisableYieldValue,or=null,kn=null;function co(i){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(or,i,void 0,(i.current.flags&128)===128)}catch{}}function ur(i){if(typeof Is=="function"&&Sr(i),kn&&typeof kn.setStrictMode=="function")try{kn.setStrictMode(or,i)}catch{}}var Wn=Math.clz32?Math.clz32:rf,Pl=Math.log,nf=Math.LN2;function rf(i){return i>>>=0,i===0?32:31-(Pl(i)/nf|0)|0}var br=128,xs=4194304;function Rr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function lr(i,s){var o=i.pendingLanes;if(o===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,b=i.warmLanes;i=i.finishedLanes!==0;var M=o&134217727;return M!==0?(o=M&~m,o!==0?f=Rr(o):(v&=M,v!==0?f=Rr(v):i||(b=M&~b,b!==0&&(f=Rr(b))))):(M=o&~m,M!==0?f=Rr(M):v!==0?f=Rr(v):i||(b=o&~b,b!==0&&(f=Rr(b)))),f===0?0:s!==0&&s!==f&&!(s&m)&&(m=f&-f,b=s&-s,m>=b||m===32&&(b&4194176)!==0)?s:f}function ya(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function cu(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var i=br;return br<<=1,!(br&4194176)&&(br=128),i}function _a(){var i=xs;return xs<<=1,!(xs&62914560)&&(xs=4194304),i}function hu(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function yn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function du(i,s,o,f,m,v){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var M=i.entanglements,z=i.expirationTimes,Y=i.hiddenUpdates;for(o=b&~o;0<o;){var fe=31-Wn(o),Te=1<<fe;M[fe]=0,z[fe]=-1;var se=Y[fe];if(se!==null)for(Y[fe]=null,fe=0;fe<se.length;fe++){var le=se[fe];le!==null&&(le.lane&=-536870913)}o&=~Te}f!==0&&va(i,f,0),v!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=v&~(b&~s))}function va(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-Wn(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|o&4194218}function es(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var f=31-Wn(o),m=1<<f;m&s|i[f]&s&&(i[f]|=s),o&=~m}}function sf(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function af(){var i=ve.p;return i!==0?i:(i=window.event,i===void 0?32:Ay(i.type))}function Ta(i,s){var o=ve.p;try{return ve.p=i,s()}finally{ve.p=o}}var ts=Math.random().toString(36).slice(2),Bn="__reactFiber$"+ts,In="__reactProps$"+ts,Ds="__reactContainer$"+ts,fo="__reactEvents$"+ts,ho="__reactListeners$"+ts,ns="__reactHandles$"+ts,Vl="__reactResources$"+ts,Ea="__reactMarker$"+ts;function mo(i){delete i[Bn],delete i[In],delete i[fo],delete i[ho],delete i[ns]}function Cr(i){var s=i[Bn];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ds]||o[Bn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=hy(i);i!==null;){if(o=i[Bn])return o;i=hy(i)}return s}i=o,o=i.parentNode}return null}function Ms(i){if(i=i[Bn]||i[Ds]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ir(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Aa(i){var s=i[Vl];return s||(s=i[Vl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function $t(i){i[Ea]=!0}var Nl=new Set,mu={};function Fi(i,s){hi(i,s),hi(i+"Capture",s)}function hi(i,s){for(mu[i]=s,i=0;i<s.length;i++)Nl.add(s[i])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),of=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},Ul={};function uf(i){return Ri.call(Ul,i)?!0:Ri.call(Ll,i)?!1:of.test(i)?Ul[i]=!0:(Ll[i]=!0,!1)}function wa(i,s,o){if(uf(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Os(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Hi(i,s,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+f)}}function ri(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function pu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function sd(i){var s=pu(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(b){f=""+b,v.call(this,b)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Sa(i){i._valueTracker||(i._valueTracker=sd(i))}function ba(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),f="";return i&&(f=pu(i)?i.checked?"true":"false":i.value),i=f,i!==o?(s.setValue(i),!0):!1}function po(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ps=/[\n"\\]/g;function rn(i){return i.replace(Ps,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vs(i,s,o,f,m,v,b,M){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ri(s)):i.value!==""+ri(s)&&(i.value=""+ri(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?gu(i,b,ri(s)):o!=null?gu(i,b,ri(o)):f!=null&&i.removeAttribute("value"),m==null&&v!=null&&(i.defaultChecked=!!v),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+ri(M):i.removeAttribute("name")}function Ns(i,s,o,f,m,v,b,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;o=o!=null?""+ri(o):"",s=s!=null?""+ri(s):o,M||s===i.value||(i.value=s),i.defaultValue=s}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=M?i.checked:!!f,i.defaultChecked=!!f,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function gu(i,s,o){s==="number"&&po(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function xt(i,s,o,f){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&f&&(i[o].defaultSelected=!0)}else{for(o=""+ri(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Ls(i,s,o){if(s!=null&&(s=""+ri(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+ri(o):""}function is(i,s,o,f){if(s==null){if(f!=null){if(o!=null)throw Error(r(92));if(he(f)){if(1<f.length)throw Error(r(93));f=f[0]}o=f}o==null&&(o=""),s=o}o=ri(s),i.defaultValue=o,f=i.textContent,f===o&&f!==""&&f!==null&&(i.value=f)}function Yn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var lf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(i,s,o){var f=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,o):typeof o!="number"||o===0||lf.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function cf(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var m in s)f=s[m],s.hasOwnProperty(m)&&o[m]!==f&&yu(i,m,f)}else for(var v in s)s.hasOwnProperty(v)&&yu(i,v,s[v])}function _u(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(i){return hf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var cr=null;function vu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Us=null,rs=null;function ks(i){var s=Ms(i);if(s&&(i=s.stateNode)){var o=i[In]||null;e:switch(i=s.stateNode,s.type){case"input":if(Vs(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+rn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var f=o[s];if(f!==i&&f.form===i.form){var m=f[In]||null;if(!m)throw Error(r(90));Vs(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)f=o[s],f.form===i.form&&ba(f)}break e;case"textarea":Ls(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&xt(i,!!o.multiple,s,!1)}}}var kl=!1;function df(i,s,o){if(kl)return i(s,o);kl=!0;try{var f=i(s);return f}finally{if(kl=!1,(Us!==null||rs!==null)&&(th(),Us&&(s=Us,i=rs,rs=Us=null,ks(s),i)))for(s=0;s<i.length;s++)ks(i[s])}}function go(i,s){var o=i.stateNode;if(o===null)return null;var f=o[In]||null;if(f===null)return null;o=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Ii=!1;if(Ci)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){Ii=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{Ii=!1}var ss=null,Ra=null,Bs=null;function Bl(){if(Bs)return Bs;var i,s=Ra,o=s.length,f,m="value"in ss?ss.value:ss.textContent,v=m.length;for(i=0;i<o&&s[i]===m[i];i++);var b=o-i;for(f=1;f<=b&&s[o-f]===m[v-f];f++);return Bs=m.slice(i,1<f?1-f:void 0)}function wt(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function _t(){return!0}function zl(){return!1}function zn(i){function s(o,f,m,v,b){this._reactName=o,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(o=i[M],this[M]=o?o(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?_t:zl,this.isPropagationStopped=zl,this}return k(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_t)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_t)},persist:function(){},isPersistent:_t}),s}var Nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=zn(Nt),_o=k({},Nt,{view:0,detail:0}),mf=zn(_o),vo,Eu,Wt,zs=k({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Wt&&(Wt&&i.type==="mousemove"?(vo=i.screenX-Wt.screenX,Eu=i.screenY-Wt.screenY):Eu=vo=0,Wt=i),vo)},movementY:function(i){return"movementY"in i?i.movementY:Eu}}),Fn=zn(zs),Fl=k({},zs,{dataTransfer:0}),Hl=zn(Fl),Hn=k({},_o,{relatedTarget:0}),To=zn(Hn),Au=k({},Nt,{animationName:0,elapsedTime:0,pseudoElement:0}),Eo=zn(Au),ql=k({},Nt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ao=zn(ql),pf=k({},Nt,{data:0}),Qn=zn(pf),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},di={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=gf[i])?!!s[i]:!1}function xi(){return wu}var So=k({},_o,{key:function(i){if(i.key){var s=wo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=wt(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?di[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(i){return i.type==="keypress"?wt(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?wt(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ca=zn(So),Gt=k({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fr=zn(Gt),Dr=k({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),yf=zn(Dr),Su=k({},Nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_f=zn(Su),vf=k({},zs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),bu=zn(vf),si=k({},Nt,{newState:0,oldState:0}),bo=zn(si),Fs=[9,13,27,32],as=Ci&&"CompositionEvent"in window,d=null;Ci&&"documentMode"in document&&(d=document.documentMode);var T=Ci&&"TextEvent"in window&&!d,S=Ci&&(!as||d&&8<d&&11>=d),P=" ",te=!1;function oe(i,s){switch(i){case"keyup":return Fs.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var pt=!1;function xn(i,s){switch(i){case"compositionend":return we(s);case"keypress":return s.which!==32?null:(te=!0,P);case"textInput":return i=s.data,i===P&&te?null:i;default:return null}}function vt(i,s){if(pt)return i==="compositionend"||!as&&oe(i,s)?(i=Bl(),Bs=Ra=ss=null,pt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return S&&s.locale!=="ko"?null:s.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Lt[i.type]:s==="textarea"}function qi(i,s,o,f){Us?rs?rs.push(f):rs=[f]:Us=f,s=sh(s,"onChange"),0<s.length&&(o=new Tu("onChange","change",null,o,f),i.push({event:o,listeners:s}))}var qn=null,Mr=null;function jl(i){oy(i,0)}function Tf(i){var s=Ir(i);if(ba(s))return i}function $p(i,s){if(i==="change")return s}var Wp=!1;if(Ci){var ad;if(Ci){var Ia="oninput"in document;if(!Ia){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),Ia=typeof Yp.oninput=="function"}ad=Ia}else ad=!1;Wp=ad&&(!document.documentMode||9<document.documentMode)}function Qp(){qn&&(qn.detachEvent("onpropertychange",Ef),Mr=qn=null)}function Ef(i){if(i.propertyName==="value"&&Tf(Mr)){var s=[];qi(s,Mr,i,vu(i)),df(jl,s)}}function Xp(i,s,o){i==="focusin"?(Qp(),qn=s,Mr=o,qn.attachEvent("onpropertychange",Ef)):i==="focusout"&&Qp()}function xa(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tf(Mr)}function Af(i,s){if(i==="click")return Tf(s)}function tv(i,s){if(i==="input"||i==="change")return Tf(s)}function nv(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ji=typeof Object.is=="function"?Object.is:nv;function os(i,s){if(ji(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),f=Object.keys(s);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var m=o[f];if(!Ri.call(s,m)||!ji(i[m],s[m]))return!1}return!0}function hr(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function od(i,s){var o=hr(i);i=0;for(var f;o;){if(o.nodeType===3){if(f=i+o.textContent.length,i<=s&&f>=s)return{node:o,offset:s-i};i=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=hr(o)}}function Zp(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Zp(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Jp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=po(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=po(i.document)}return s}function ud(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function iv(i,s){var o=Jp(s);s=i.focusedElem;var f=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Zp(s.ownerDocument.documentElement,s)){if(f!==null&&ud(s)){if(i=f.start,o=f.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var m=s.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!o.extend&&v>f&&(m=f,f=v,v=m),m=od(s,v);var b=od(s,f);m&&b&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),o.removeAllRanges(),v>f?(o.addRange(i),o.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var rv=Ci&&"documentMode"in document&&11>=document.documentMode,Or=null,Q=null,ue=null,ae=!1;function Ve(i,s,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ae||Or==null||Or!==po(f)||(f=Or,"selectionStart"in f&&ud(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ue&&os(ue,f)||(ue=f,f=sh(Q,"onSelect"),0<f.length&&(s=new Tu("onSelect","select",null,s,o),i.push({event:s,listeners:f}),s.target=Or)))}function Ke(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var gt={animationend:Ke("Animation","AnimationEnd"),animationiteration:Ke("Animation","AnimationIteration"),animationstart:Ke("Animation","AnimationStart"),transitionrun:Ke("Transition","TransitionRun"),transitionstart:Ke("Transition","TransitionStart"),transitioncancel:Ke("Transition","TransitionCancel"),transitionend:Ke("Transition","TransitionEnd")},vn={},Ft={};Ci&&(Ft=document.createElement("div").style,"AnimationEvent"in window||(delete gt.animationend.animation,delete gt.animationiteration.animation,delete gt.animationstart.animation),"TransitionEvent"in window||delete gt.transitionend.transition);function Hs(i){if(vn[i])return vn[i];if(!gt[i])return i;var s=gt[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ft)return vn[i]=s[o];return i}var eg=Hs("animationend"),Gi=Hs("animationiteration"),Gl=Hs("animationstart"),sv=Hs("transitionrun"),Ru=Hs("transitionstart"),wf=Hs("transitioncancel"),Kl=Hs("transitionend"),Ut=new Map,tg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function dr(i,s){Ut.set(i,s),Fi(s,[i])}var mi=[],Cu=0,ld=0;function Sf(){for(var i=Cu,s=ld=Cu=0;s<i;){var o=mi[s];mi[s++]=null;var f=mi[s];mi[s++]=null;var m=mi[s];mi[s++]=null;var v=mi[s];if(mi[s++]=null,f!==null&&m!==null){var b=f.pending;b===null?m.next=m:(m.next=b.next,b.next=m),f.pending=m}v!==0&&cd(o,m,v)}}function Ro(i,s,o,f){mi[Cu++]=i,mi[Cu++]=s,mi[Cu++]=o,mi[Cu++]=f,ld|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function us(i,s,o,f){return Ro(i,s,o,f),Co(i)}function Pr(i,s){return Ro(i,null,null,s),Co(i)}function cd(i,s,o){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o);for(var m=!1,v=i.return;v!==null;)v.childLanes|=o,f=v.alternate,f!==null&&(f.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(m=!0)),i=v,v=v.return;m&&s!==null&&i.tag===3&&(v=i.stateNode,m=31-Wn(o),v=v.hiddenUpdates,i=v[m],i===null?v[m]=[s]:i.push(s),s.lane=o|536870912)}function Co(i){if(50<Sc)throw Sc=0,lm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Io={},fd=new WeakMap;function pi(i,s){if(typeof i=="object"&&i!==null){var o=fd.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Oe(s)},fd.set(i,s),s)}return{value:i,source:s,stack:Oe(s)}}var xo=[],ls=0,cs=null,Do=0,mr=[],pr=0,Mo=null,gr=1,yr="";function qs(i,s){xo[ls++]=Do,xo[ls++]=cs,cs=i,Do=s}function ng(i,s,o){mr[pr++]=gr,mr[pr++]=yr,mr[pr++]=Mo,Mo=i;var f=gr;i=yr;var m=32-Wn(f)-1;f&=~(1<<m),o+=1;var v=32-Wn(s)+m;if(30<v){var b=m-m%5;v=(f&(1<<b)-1).toString(32),f>>=b,m-=b,gr=1<<32-Wn(s)+m|o<<m|f,yr=v+i}else gr=1<<v|o<<m|f,yr=i}function bf(i){i.return!==null&&(qs(i,1),ng(i,1,0))}function hd(i){for(;i===cs;)cs=xo[--ls],xo[ls]=null,Do=xo[--ls],xo[ls]=null;for(;i===Mo;)Mo=mr[--pr],mr[pr]=null,yr=mr[--pr],mr[pr]=null,gr=mr[--pr],mr[pr]=null}var gi=null,Tt=null,Xe=!1,Vr=null,fs=!1,Rf=Error(r(519));function Oo(i){var s=Error(r(418,""));throw js(pi(s,i)),Rf}function Cf(i){var s=i.stateNode,o=i.type,f=i.memoizedProps;switch(s[Bn]=i,s[In]=f,o){case"dialog":Et("cancel",s),Et("close",s);break;case"iframe":case"object":case"embed":Et("load",s);break;case"video":case"audio":for(o=0;o<Cc.length;o++)Et(Cc[o],s);break;case"source":Et("error",s);break;case"img":case"image":case"link":Et("error",s),Et("load",s);break;case"details":Et("toggle",s);break;case"input":Et("invalid",s),Ns(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Sa(s);break;case"select":Et("invalid",s);break;case"textarea":Et("invalid",s),is(s,f.value,f.defaultValue,f.children),Sa(s)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||f.suppressHydrationWarning===!0||tt(s.textContent,o)?(f.popover!=null&&(Et("beforetoggle",s),Et("toggle",s)),f.onScroll!=null&&Et("scroll",s),f.onScrollEnd!=null&&Et("scrollend",s),f.onClick!=null&&(s.onclick=ah),s=!0):s=!1,s||Oo(i)}function Iu(i){for(gi=i.return;gi;)switch(gi.tag){case 3:case 27:fs=!0;return;case 5:case 13:fs=!1;return;default:gi=gi.return}}function Po(i){if(i!==gi)return!1;if(!Xe)return Iu(i),Xe=!0,!1;var s=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||xc(i.type,i.memoizedProps)),o=!o),o&&(s=!0),s&&Tt&&Oo(i),Iu(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){Tt=Gr(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}Tt=null}}else Tt=gi?Gr(i.stateNode.nextSibling):null;return!0}function hs(){Tt=gi=null,Xe=!1}function js(i){Vr===null?Vr=[i]:Vr.push(i)}var Gs=Error(r(460)),$l=Error(r(474)),Da={then:function(){}};function ig(i){return i=i.status,i==="fulfilled"||i==="rejected"}function If(){}function rg(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(If,If),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Gs?Error(r(483)):i;default:if(typeof s.status=="string")s.then(If,If);else{if(i=Ht,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=f}},function(f){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Gs?Error(r(483)):i}throw Wl=s,Gs}}var Wl=null;function sg(){if(Wl===null)throw Error(r(459));var i=Wl;return Wl=null,i}var Ks=null,$s=0;function Yl(i){var s=$s;return $s+=1,Ks===null&&(Ks=[]),rg(Ks,i,s)}function I(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ws(i,s){throw s.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Ql(i){var s=i._init;return s(i._payload)}function Ki(i){function s(ee,W){if(i){var ie=ee.deletions;ie===null?(ee.deletions=[W],ee.flags|=16):ie.push(W)}}function o(ee,W){if(!i)return null;for(;W!==null;)s(ee,W),W=W.sibling;return null}function f(ee){for(var W=new Map;ee!==null;)ee.key!==null?W.set(ee.key,ee):W.set(ee.index,ee),ee=ee.sibling;return W}function m(ee,W){return ee=Ka(ee,W),ee.index=0,ee.sibling=null,ee}function v(ee,W,ie){return ee.index=ie,i?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<W?(ee.flags|=33554434,W):ie):(ee.flags|=33554434,W)):(ee.flags|=1048576,W)}function b(ee){return i&&ee.alternate===null&&(ee.flags|=33554434),ee}function M(ee,W,ie,me){return W===null||W.tag!==6?(W=tm(ie,ee.mode,me),W.return=ee,W):(W=m(W,ie),W.return=ee,W)}function z(ee,W,ie,me){var Ne=ie.type;return Ne===y?fe(ee,W,ie.props.children,me,ie.key):W!==null&&(W.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===re&&Ql(Ne)===W.type)?(W=m(W,ie.props),I(W,ie),W.return=ee,W):(W=vc(ie.type,ie.key,ie.props,null,ee.mode,me),I(W,ie),W.return=ee,W)}function Y(ee,W,ie,me){return W===null||W.tag!==4||W.stateNode.containerInfo!==ie.containerInfo||W.stateNode.implementation!==ie.implementation?(W=nm(ie,ee.mode,me),W.return=ee,W):(W=m(W,ie.children||[]),W.return=ee,W)}function fe(ee,W,ie,me,Ne){return W===null||W.tag!==7?(W=Fo(ie,ee.mode,me,Ne),W.return=ee,W):(W=m(W,ie),W.return=ee,W)}function Te(ee,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=tm(""+W,ee.mode,ie),W.return=ee,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return ie=vc(W.type,W.key,W.props,null,ee.mode,ie),I(ie,W),ie.return=ee,ie;case p:return W=nm(W,ee.mode,ie),W.return=ee,W;case re:var me=W._init;return W=me(W._payload),Te(ee,W,ie)}if(he(W)||be(W))return W=Fo(W,ee.mode,ie,null),W.return=ee,W;if(typeof W.then=="function")return Te(ee,Yl(W),ie);if(W.$$typeof===N)return Te(ee,Wf(ee,W),ie);Ws(ee,W)}return null}function se(ee,W,ie,me){var Ne=W!==null?W.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ne!==null?null:M(ee,W,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case h:return ie.key===Ne?z(ee,W,ie,me):null;case p:return ie.key===Ne?Y(ee,W,ie,me):null;case re:return Ne=ie._init,ie=Ne(ie._payload),se(ee,W,ie,me)}if(he(ie)||be(ie))return Ne!==null?null:fe(ee,W,ie,me,null);if(typeof ie.then=="function")return se(ee,W,Yl(ie),me);if(ie.$$typeof===N)return se(ee,W,Wf(ee,ie),me);Ws(ee,ie)}return null}function le(ee,W,ie,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return ee=ee.get(ie)||null,M(W,ee,""+me,Ne);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case h:return ee=ee.get(me.key===null?ie:me.key)||null,z(W,ee,me,Ne);case p:return ee=ee.get(me.key===null?ie:me.key)||null,Y(W,ee,me,Ne);case re:var ft=me._init;return me=ft(me._payload),le(ee,W,ie,me,Ne)}if(he(me)||be(me))return ee=ee.get(ie)||null,fe(W,ee,me,Ne,null);if(typeof me.then=="function")return le(ee,W,ie,Yl(me),Ne);if(me.$$typeof===N)return le(ee,W,ie,Wf(W,me),Ne);Ws(W,me)}return null}function ke(ee,W,ie,me){for(var Ne=null,ft=null,ze=W,$e=W=0,Vt=null;ze!==null&&$e<ie.length;$e++){ze.index>$e?(Vt=ze,ze=null):Vt=ze.sibling;var bt=se(ee,ze,ie[$e],me);if(bt===null){ze===null&&(ze=Vt);break}i&&ze&&bt.alternate===null&&s(ee,ze),W=v(bt,W,$e),ft===null?Ne=bt:ft.sibling=bt,ft=bt,ze=Vt}if($e===ie.length)return o(ee,ze),Xe&&qs(ee,$e),Ne;if(ze===null){for(;$e<ie.length;$e++)ze=Te(ee,ie[$e],me),ze!==null&&(W=v(ze,W,$e),ft===null?Ne=ze:ft.sibling=ze,ft=ze);return Xe&&qs(ee,$e),Ne}for(ze=f(ze);$e<ie.length;$e++)Vt=le(ze,ee,$e,ie[$e],me),Vt!==null&&(i&&Vt.alternate!==null&&ze.delete(Vt.key===null?$e:Vt.key),W=v(Vt,W,$e),ft===null?Ne=Vt:ft.sibling=Vt,ft=Vt);return i&&ze.forEach(function(Ja){return s(ee,Ja)}),Xe&&qs(ee,$e),Ne}function Ze(ee,W,ie,me){if(ie==null)throw Error(r(151));for(var Ne=null,ft=null,ze=W,$e=W=0,Vt=null,bt=ie.next();ze!==null&&!bt.done;$e++,bt=ie.next()){ze.index>$e?(Vt=ze,ze=null):Vt=ze.sibling;var Ja=se(ee,ze,bt.value,me);if(Ja===null){ze===null&&(ze=Vt);break}i&&ze&&Ja.alternate===null&&s(ee,ze),W=v(Ja,W,$e),ft===null?Ne=Ja:ft.sibling=Ja,ft=Ja,ze=Vt}if(bt.done)return o(ee,ze),Xe&&qs(ee,$e),Ne;if(ze===null){for(;!bt.done;$e++,bt=ie.next())bt=Te(ee,bt.value,me),bt!==null&&(W=v(bt,W,$e),ft===null?Ne=bt:ft.sibling=bt,ft=bt);return Xe&&qs(ee,$e),Ne}for(ze=f(ze);!bt.done;$e++,bt=ie.next())bt=le(ze,ee,$e,bt.value,me),bt!==null&&(i&&bt.alternate!==null&&ze.delete(bt.key===null?$e:bt.key),W=v(bt,W,$e),ft===null?Ne=bt:ft.sibling=bt,ft=bt);return i&&ze.forEach(function(Wv){return s(ee,Wv)}),Xe&&qs(ee,$e),Ne}function un(ee,W,ie,me){if(typeof ie=="object"&&ie!==null&&ie.type===y&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case h:e:{for(var Ne=ie.key;W!==null;){if(W.key===Ne){if(Ne=ie.type,Ne===y){if(W.tag===7){o(ee,W.sibling),me=m(W,ie.props.children),me.return=ee,ee=me;break e}}else if(W.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===re&&Ql(Ne)===W.type){o(ee,W.sibling),me=m(W,ie.props),I(me,ie),me.return=ee,ee=me;break e}o(ee,W);break}else s(ee,W);W=W.sibling}ie.type===y?(me=Fo(ie.props.children,ee.mode,me,ie.key),me.return=ee,ee=me):(me=vc(ie.type,ie.key,ie.props,null,ee.mode,me),I(me,ie),me.return=ee,ee=me)}return b(ee);case p:e:{for(Ne=ie.key;W!==null;){if(W.key===Ne)if(W.tag===4&&W.stateNode.containerInfo===ie.containerInfo&&W.stateNode.implementation===ie.implementation){o(ee,W.sibling),me=m(W,ie.children||[]),me.return=ee,ee=me;break e}else{o(ee,W);break}else s(ee,W);W=W.sibling}me=nm(ie,ee.mode,me),me.return=ee,ee=me}return b(ee);case re:return Ne=ie._init,ie=Ne(ie._payload),un(ee,W,ie,me)}if(he(ie))return ke(ee,W,ie,me);if(be(ie)){if(Ne=be(ie),typeof Ne!="function")throw Error(r(150));return ie=Ne.call(ie),Ze(ee,W,ie,me)}if(typeof ie.then=="function")return un(ee,W,Yl(ie),me);if(ie.$$typeof===N)return un(ee,W,Wf(ee,ie),me);Ws(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,W!==null&&W.tag===6?(o(ee,W.sibling),me=m(W,ie),me.return=ee,ee=me):(o(ee,W),me=tm(ie,ee.mode,me),me.return=ee,ee=me),b(ee)):o(ee,W)}return function(ee,W,ie,me){try{$s=0;var Ne=un(ee,W,ie,me);return Ks=null,Ne}catch(ze){if(ze===Gs)throw ze;var ft=Ji(29,ze,null,ee.mode);return ft.lanes=me,ft.return=ee,ft}finally{}}}var rt=Ki(!0),ag=Ki(!1),xu=xe(null),xf=xe(0);function Ma(i,s){i=sa,qe(xf,i),qe(xu,s),sa=i|s.baseLanes}function dd(){qe(xf,sa),qe(xu,xu.current)}function md(){sa=xf.current,He(xu),He(xf)}var _r=xe(null),ds=null;function Oa(i){var s=i.alternate;qe(Dn,Dn.current&1),qe(_r,i),ds===null&&(s===null||xu.current!==null||s.memoizedState!==null)&&(ds=i)}function ms(i){if(i.tag===22){if(qe(Dn,Dn.current),qe(_r,i),ds===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(ds=i)}}else Pa()}function Pa(){qe(Dn,Dn.current),qe(_r,_r.current)}function Ys(i){He(_r),ds===i&&(ds=null),He(Dn)}var Dn=xe(0);function Df(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var av=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},Qs=n.unstable_scheduleCallback,ov=n.unstable_NormalPriority,Mn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new av,data:new Map,refCount:0}}function Xl(i){i.refCount--,i.refCount===0&&Qs(ov,function(){i.controller.abort()})}var Zl=null,Xs=0,Du=0,Mu=null;function Nr(i,s){if(Zl===null){var o=Zl=[];Xs=0,Du=vm(),Mu={status:"pending",value:void 0,then:function(f){o.push(f)}}}return Xs++,s.then(og,og),s}function og(){if(--Xs===0&&Zl!==null){Mu!==null&&(Mu.status="fulfilled");var i=Zl;Zl=null,Du=0,Mu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function uv(i,s){var o=[],f={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(f.status="rejected",f.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),f}var ug=O.S;O.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Nr(i,s),ug!==null&&ug(i,s)};var Vo=xe(null);function gd(){var i=Vo.current;return i!==null?i:Ht.pooledCache}function Jl(i,s){s===null?qe(Vo,Vo.current):qe(Vo,s.pool)}function yd(){var i=gd();return i===null?null:{parent:Mn._currentValue,pool:i}}var Va=0,lt=null,kt=null,Jt=null,No=!1,Ou=!1,Na=!1,Mf=0,$i=0,La=null,Lo=0;function Mt(){throw Error(r(321))}function _d(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!ji(i[o],s[o]))return!1;return!0}function Of(i,s,o,f,m,v){return Va=v,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,O.H=i===null||i.memoizedState===null?Mi:ps,Na=!1,v=o(f,m),Na=!1,Ou&&(v=Pu(s,o,f,m)),vd(i),v}function vd(i){O.H=hn;var s=kt!==null&&kt.next!==null;if(Va=0,Jt=kt=lt=null,No=!1,$i=0,La=null,s)throw Error(r(300));i===null||On||(i=i.dependencies,i!==null&&$f(i)&&(On=!0))}function Pu(i,s,o,f){lt=i;var m=0;do{if(Ou&&(La=null),$i=0,Ou=!1,25<=m)throw Error(r(301));if(m+=1,Jt=kt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}O.H=Ba,v=s(o,f)}while(Ou);return v}function Ua(){var i=O.H,s=i.useState()[0];return s=typeof s.then=="function"?Uo(s):s,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(lt.flags|=1024),s}function Pf(){var i=Mf!==0;return Mf=0,i}function Td(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Vu(i){if(No){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}No=!1}Va=0,Jt=kt=lt=null,Ou=!1,$i=Mf=0,La=null}function Di(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?lt.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function Tn(){if(kt===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var s=Jt===null?lt.memoizedState:Jt.next;if(s!==null)Jt=s,kt=i;else{if(i===null)throw lt.alternate===null?Error(r(467)):Error(r(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Jt===null?lt.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}var Sn;Sn=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Uo(i){var s=$i;return $i+=1,La===null&&(La=[]),i=rg(La,i,s),s=lt,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,O.H=s===null||s.memoizedState===null?Mi:ps),i}function ec(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Uo(i);if(i.$$typeof===N)return oi(i)}throw Error(r(438,String(i)))}function vr(i){var s=null,o=lt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var f=lt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Sn(),lt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),f=0;f<i;f++)o[f]=Ae;return s.index++,o}function Lr(i,s){return typeof s=="function"?s(i):s}function ko(i){var s=Tn();return Zs(s,kt,i)}function Zs(i,s,o){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var m=i.baseQueue,v=f.pending;if(v!==null){if(m!==null){var b=m.next;m.next=v.next,v.next=b}s.baseQueue=m=v,f.pending=null}if(v=i.baseState,m===null)i.memoizedState=v;else{s=m.next;var M=b=null,z=null,Y=s,fe=!1;do{var Te=Y.lane&-536870913;if(Te!==Y.lane?(St&Te)===Te:(Va&Te)===Te){var se=Y.revertLane;if(se===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),Te===Du&&(fe=!0);else if((Va&se)===se){Y=Y.next,se===Du&&(fe=!0);continue}else Te={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(M=z=Te,b=v):z=z.next=Te,lt.lanes|=se,$a|=se;Te=Y.action,Na&&o(v,Te),v=Y.hasEagerState?Y.eagerState:o(v,Te)}else se={lane:Te,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(M=z=se,b=v):z=z.next=se,lt.lanes|=Te,$a|=Te;Y=Y.next}while(Y!==null&&Y!==s);if(z===null?b=v:z.next=M,!ji(v,i.memoizedState)&&(On=!0,fe&&(o=Mu,o!==null)))throw o;i.memoizedState=v,i.baseState=b,i.baseQueue=z,f.lastRenderedState=v}return m===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Vf(i){var s=Tn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var f=o.dispatch,m=o.pending,v=s.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do v=i(v,b.action),b=b.next;while(b!==m);ji(v,s.memoizedState)||(On=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,f]}function ai(i,s,o){var f=lt,m=Tn(),v=Xe;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!ji((kt||m).memoizedState,o);if(b&&(m.memoizedState=o,On=!0),m=m.queue,kf(cg.bind(null,f,m,i),[i]),m.getSnapshot!==s||b||Jt!==null&&Jt.memoizedState.tag&1){if(f.flags|=2048,ka(9,lg.bind(null,f,m,o,s),{destroy:void 0},null),Ht===null)throw Error(r(349));v||Va&60||Nf(f,s,o)}return o}function Nf(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=lt.updateQueue,s===null?(s=Sn(),lt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function lg(i,s,o,f){s.value=o,s.getSnapshot=f,fg(s)&&Lf(i)}function cg(i,s,o){return o(function(){fg(s)&&Lf(i)})}function fg(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!ji(i,o)}catch{return!0}}function Lf(i){var s=Pr(i,2);s!==null&&li(s,i,2)}function Ed(i){var s=Di();if(typeof i=="function"){var o=i;if(i=o(),Na){ur(!0);try{o()}finally{ur(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:i},s}function Nu(i,s,o,f){return i.baseState=o,Zs(i,kt,typeof f=="function"?f:Lr)}function hg(i,s,o,f,m){if(zu(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){v.listeners.push(b)}};O.T!==null?o(!0):v.isTransition=!1,f(v),o=s.pending,o===null?(v.next=s.pending=v,dg(s,v)):(v.next=o.next,s.pending=o.next=v)}}function dg(i,s){var o=s.action,f=s.payload,m=i.state;if(s.isTransition){var v=O.T,b={};O.T=b;try{var M=o(m,f),z=O.S;z!==null&&z(b,M),mg(i,s,M)}catch(Y){Ad(i,s,Y)}finally{O.T=v}}else try{v=o(m,f),mg(i,s,v)}catch(Y){Ad(i,s,Y)}}function mg(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){Lu(i,s,f)},function(f){return Ad(i,s,f)}):Lu(i,s,o)}function Lu(i,s,o){s.status="fulfilled",s.value=o,pg(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,dg(i,o)))}function Ad(i,s,o){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=o,pg(s),s=s.next;while(s!==f)}i.action=null}function pg(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Uf(i,s){return s}function wd(i,s){if(Xe){var o=Ht.formState;if(o!==null){e:{var f=lt;if(Xe){if(Tt){t:{for(var m=Tt,v=fs;m.nodeType!==8;){if(!v){m=null;break t}if(m=Gr(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Tt=Gr(m.nextSibling),f=m.data==="F!";break e}}Oo(f)}f=!1}f&&(s=o[0])}}return o=Di(),o.memoizedState=o.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:s},o.queue=f,o=Wi.bind(null,lt,f),f.dispatch=o,f=Ed(!1),v=Bu.bind(null,lt,!1,f.queue),f=Di(),m={state:s,dispatch:null,action:i,pending:null},f.queue=m,o=hg.bind(null,lt,m,v,o),m.dispatch=o,f.memoizedState=i,[s,o,!1]}function gg(i){var s=Tn();return yg(s,kt,i)}function yg(i,s,o){s=Zs(i,s,Uf)[0],i=ko(Lr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Uo(s):s;var f=Tn(),m=f.queue,v=m.dispatch;return o!==f.memoizedState&&(lt.flags|=2048,ka(9,lv.bind(null,m,o),{destroy:void 0},null)),[s,v,i]}function lv(i,s){i.action=s}function Sd(i){var s=Tn(),o=kt;if(o!==null)return yg(s,o,i);Tn(),s=s.memoizedState,o=Tn();var f=o.queue.dispatch;return o.memoizedState=i,[s,f,!1]}function ka(i,s,o,f){return i={tag:i,create:s,inst:o,deps:f,next:null},s=lt.updateQueue,s===null&&(s=Sn(),lt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(f=o.next,o.next=i,i.next=f,s.lastEffect=i),i}function _g(){return Tn().memoizedState}function Uu(i,s,o,f){var m=Di();lt.flags|=i,m.memoizedState=ka(1|s,o,{destroy:void 0},f===void 0?null:f)}function tc(i,s,o,f){var m=Tn();f=f===void 0?null:f;var v=m.memoizedState.inst;kt!==null&&f!==null&&_d(f,kt.memoizedState.deps)?m.memoizedState=ka(s,o,v,f):(lt.flags|=i,m.memoizedState=ka(1|s,o,v,f))}function bd(i,s){Uu(8390656,8,i,s)}function kf(i,s){tc(2048,8,i,s)}function nc(i,s){return tc(4,2,i,s)}function vg(i,s){return tc(4,4,i,s)}function Rd(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Cd(i,s,o){o=o!=null?o.concat([i]):null,tc(4,4,Rd.bind(null,s,i),o)}function Id(){}function xd(i,s){var o=Tn();s=s===void 0?null:s;var f=o.memoizedState;return s!==null&&_d(s,f[1])?f[0]:(o.memoizedState=[i,s],i)}function Tg(i,s){var o=Tn();s=s===void 0?null:s;var f=o.memoizedState;if(s!==null&&_d(s,f[1]))return f[0];if(f=i(),Na){ur(!0);try{i()}finally{ur(!1)}}return o.memoizedState=[f,s],f}function ic(i,s,o){return o===void 0||Va&1073741824?i.memoizedState=s:(i.memoizedState=o,i=Gg(),lt.lanes|=i,$a|=i,o)}function Dd(i,s,o,f){return ji(o,s)?o:xu.current!==null?(i=ic(i,o,f),ji(i,s)||(On=!0),i):Va&42?(i=Gg(),lt.lanes|=i,$a|=i,s):(On=!0,i.memoizedState=o)}function Bf(i,s,o,f,m){var v=ve.p;ve.p=v!==0&&8>v?v:8;var b=O.T,M={};O.T=M,Bu(i,!1,s,o);try{var z=m(),Y=O.S;if(Y!==null&&Y(M,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var fe=uv(z,f);sc(i,s,fe,tr(i))}else sc(i,s,f,tr(i))}catch(Te){sc(i,s,{then:function(){},status:"rejected",reason:Te},tr())}finally{ve.p=v,O.T=b}}function cv(){}function rc(i,s,o,f){if(i.tag!==5)throw Error(r(476));var m=ut(i).queue;Bf(i,m,s,Se,o===null?cv:function(){return Eg(i),o(f)})}function ut(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:Se},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Eg(i){var s=ut(i).next.queue;sc(i,s,{},tr())}function Md(){return oi(Oc)}function ku(){return Tn().memoizedState}function Od(){return Tn().memoizedState}function fv(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=tr();i=Fr(o);var f=Yi(s,i,o);f!==null&&(li(f,s,o),Fe(f,s,o)),s={cache:pd()},i.payload=s;return}s=s.return}}function hv(i,s,o){var f=tr();o={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},zu(i)?Pd(s,o):(o=us(i,s,o,f),o!==null&&(li(o,i,f),Vd(o,s,f)))}function Wi(i,s,o){var f=tr();sc(i,s,o,f)}function sc(i,s,o,f){var m={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(zu(i))Pd(s,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var b=s.lastRenderedState,M=v(b,o);if(m.hasEagerState=!0,m.eagerState=M,ji(M,b))return Ro(i,s,m,0),Ht===null&&Sf(),!1}catch{}finally{}if(o=us(i,s,m,f),o!==null)return li(o,i,f),Vd(o,s,f),!0}return!1}function Bu(i,s,o,f){if(f={lane:2,revertLane:vm(),action:f,hasEagerState:!1,eagerState:null,next:null},zu(i)){if(s)throw Error(r(479))}else s=us(i,o,f,2),s!==null&&li(s,i,2)}function zu(i){var s=i.alternate;return i===lt||s!==null&&s===lt}function Pd(i,s){Ou=No=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Vd(i,s,o){if(o&4194176){var f=s.lanes;f&=i.pendingLanes,o|=f,s.lanes=o,es(i,o)}}var hn={readContext:oi,use:ec,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt};hn.useCacheRefresh=Mt,hn.useMemoCache=Mt,hn.useHostTransitionStatus=Mt,hn.useFormState=Mt,hn.useActionState=Mt,hn.useOptimistic=Mt;var Mi={readContext:oi,use:ec,useCallback:function(i,s){return Di().memoizedState=[i,s===void 0?null:s],i},useContext:oi,useEffect:bd,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Uu(4194308,4,Rd.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Uu(4194308,4,i,s)},useInsertionEffect:function(i,s){Uu(4,2,i,s)},useMemo:function(i,s){var o=Di();s=s===void 0?null:s;var f=i();if(Na){ur(!0);try{i()}finally{ur(!1)}}return o.memoizedState=[f,s],f},useReducer:function(i,s,o){var f=Di();if(o!==void 0){var m=o(s);if(Na){ur(!0);try{o(s)}finally{ur(!1)}}}else m=s;return f.memoizedState=f.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},f.queue=i,i=i.dispatch=hv.bind(null,lt,i),[f.memoizedState,i]},useRef:function(i){var s=Di();return i={current:i},s.memoizedState=i},useState:function(i){i=Ed(i);var s=i.queue,o=Wi.bind(null,lt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Id,useDeferredValue:function(i,s){var o=Di();return ic(o,i,s)},useTransition:function(){var i=Ed(!1);return i=Bf.bind(null,lt,i.queue,!0,!1),Di().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var f=lt,m=Di();if(Xe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Ht===null)throw Error(r(349));St&60||Nf(f,s,o)}m.memoizedState=o;var v={value:o,getSnapshot:s};return m.queue=v,bd(cg.bind(null,f,v,i),[i]),f.flags|=2048,ka(9,lg.bind(null,f,v,o,s),{destroy:void 0},null),o},useId:function(){var i=Di(),s=Ht.identifierPrefix;if(Xe){var o=yr,f=gr;o=(f&~(1<<32-Wn(f)-1)).toString(32)+o,s=":"+s+"R"+o,o=Mf++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Lo++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Di().memoizedState=fv.bind(null,lt)}};Mi.useMemoCache=vr,Mi.useHostTransitionStatus=Md,Mi.useFormState=wd,Mi.useActionState=wd,Mi.useOptimistic=function(i){var s=Di();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Bu.bind(null,lt,!0,o),o.dispatch=s,[i,s]};var ps={readContext:oi,use:ec,useCallback:xd,useContext:oi,useEffect:kf,useImperativeHandle:Cd,useInsertionEffect:nc,useLayoutEffect:vg,useMemo:Tg,useReducer:ko,useRef:_g,useState:function(){return ko(Lr)},useDebugValue:Id,useDeferredValue:function(i,s){var o=Tn();return Dd(o,kt.memoizedState,i,s)},useTransition:function(){var i=ko(Lr)[0],s=Tn().memoizedState;return[typeof i=="boolean"?i:Uo(i),s]},useSyncExternalStore:ai,useId:ku};ps.useCacheRefresh=Od,ps.useMemoCache=vr,ps.useHostTransitionStatus=Md,ps.useFormState=gg,ps.useActionState=gg,ps.useOptimistic=function(i,s){var o=Tn();return Nu(o,kt,i,s)};var Ba={readContext:oi,use:ec,useCallback:xd,useContext:oi,useEffect:kf,useImperativeHandle:Cd,useInsertionEffect:nc,useLayoutEffect:vg,useMemo:Tg,useReducer:Vf,useRef:_g,useState:function(){return Vf(Lr)},useDebugValue:Id,useDeferredValue:function(i,s){var o=Tn();return kt===null?ic(o,i,s):Dd(o,kt.memoizedState,i,s)},useTransition:function(){var i=Vf(Lr)[0],s=Tn().memoizedState;return[typeof i=="boolean"?i:Uo(i),s]},useSyncExternalStore:ai,useId:ku};Ba.useCacheRefresh=Od,Ba.useMemoCache=vr,Ba.useHostTransitionStatus=Md,Ba.useFormState=Sd,Ba.useActionState=Sd,Ba.useOptimistic=function(i,s){var o=Tn();return kt!==null?Nu(o,kt,i,s):(o.baseState=i,[i,o.queue.dispatch])};function Fu(i,s,o,f){s=i.memoizedState,o=o(f,s),o=o==null?s:k({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var zf={isMounted:function(i){return(i=i._reactInternals)?Me(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var f=tr(),m=Fr(f);m.payload=s,o!=null&&(m.callback=o),s=Yi(i,m,f),s!==null&&(li(s,i,f),Fe(s,i,f))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var f=tr(),m=Fr(f);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Yi(i,m,f),s!==null&&(li(s,i,f),Fe(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=tr(),f=Fr(o);f.tag=2,s!=null&&(f.callback=s),s=Yi(i,f,o),s!==null&&(li(s,i,o),Fe(s,i,o))}};function Ff(i,s,o,f,m,v,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,b):s.prototype&&s.prototype.isPureReactComponent?!os(o,f)||!os(m,v):!0}function Nd(i,s,o,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,f),s.state!==i&&zf.enqueueReplaceState(s,s.state,null)}function Js(i,s){var o=s;if("ref"in s){o={};for(var f in s)f!=="ref"&&(o[f]=s[f])}if(i=i.defaultProps){o===s&&(o=k({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var Hu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function ea(i){Hu(i)}function Ag(i){console.error(i)}function ta(i){Hu(i)}function ac(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Ld(i,s,o){try{var f=i.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function oc(i,s,o){return o=Fr(o),o.tag=3,o.payload={element:null},o.callback=function(){ac(i,s)},o}function wg(i){return i=Fr(i),i.tag=3,i}function Sg(i,s,o,f){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=f.value;i.payload=function(){return m(v)},i.callback=function(){Ld(s,o,f)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Ld(s,o,f),typeof m!="function"&&(As===null?As=new Set([this]):As.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function dv(i,s,o,f,m){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=o.alternate,s!==null&&$u(s,o,m,!0),o=_r.current,o!==null){switch(o.tag){case 13:return ds===null?fm():o.alternate===null&&mn===0&&(mn=3),o.flags&=-257,o.flags|=65536,o.lanes=m,f===Da?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([f]):s.add(f),dm(i,f,m)),!1;case 22:return o.flags|=65536,f===Da?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([f]):o.add(f)),dm(i,f,m)),!1}throw Error(r(435,o.tag))}return dm(i,f,m),fm(),!1}if(Xe)return s=_r.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=m,f!==Rf&&(i=Error(r(422),{cause:f}),js(pi(i,o)))):(f!==Rf&&(s=Error(r(423),{cause:f}),js(pi(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,f=pi(f,o),m=oc(i.stateNode,f,m),Wu(i,m),mn!==4&&(mn=2)),!1;var v=Error(r(520),{cause:f});if(v=pi(v,o),Ec===null?Ec=[v]:Ec.push(v),mn!==4&&(mn=2),s===null)return!0;f=pi(f,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=oc(o.stateNode,f,i),Wu(o,i),!1;case 1:if(s=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(As===null||!As.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=wg(m),Sg(m,i,o,f),Wu(o,m),!1}o=o.return}while(o!==null);return!1}var Ud=Error(r(461)),On=!1;function Xn(i,s,o,f){s.child=i===null?ag(s,null,o,f):rt(s,i.child,o,f)}function kd(i,s,o,f,m){o=o.render;var v=s.ref;if("ref"in f){var b={};for(var M in f)M!=="ref"&&(b[M]=f[M])}else b=f;return qa(s),f=Of(i,s,o,b,v,m),M=Pf(),i!==null&&!On?(Td(i,s,m),kr(i,s,m)):(Xe&&M&&bf(s),s.flags|=1,Xn(i,s,f,m),s.child)}function Bd(i,s,o,f,m){if(i===null){var v=o.type;return typeof v=="function"&&!em(v)&&v.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=v,yi(i,s,v,f,m)):(i=vc(o.type,null,f,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!Gu(i,m)){var b=v.memoizedProps;if(o=o.compare,o=o!==null?o:os,o(b,f)&&i.ref===s.ref)return kr(i,s,m)}return s.flags|=1,i=Ka(v,f),i.ref=s.ref,i.return=s,s.child=i}function yi(i,s,o,f,m){if(i!==null){var v=i.memoizedProps;if(os(v,f)&&i.ref===s.ref)if(On=!1,s.pendingProps=f=v,Gu(i,m))i.flags&131072&&(On=!0);else return s.lanes=i.lanes,kr(i,s,m)}return qu(i,s,o,f,m)}function Ur(i,s,o){var f=s.pendingProps,m=f.children,v=(s.stateNode._pendingVisibility&2)!==0,b=i!==null?i.memoizedState:null;if(uc(i,s),f.mode==="hidden"||v){if(s.flags&128){if(f=b!==null?b.baseLanes|o:o,i!==null){for(m=s.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;s.childLanes=v&~f}else s.childLanes=0,s.child=null;return bg(i,s,f,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Jl(s,b!==null?b.cachePool:null),b!==null?Ma(s,b):dd(),ms(s);else return s.lanes=s.childLanes=536870912,bg(i,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(Jl(s,b.cachePool),Ma(s,b),Pa(),s.memoizedState=null):(i!==null&&Jl(s,null),dd(),Pa());return Xn(i,s,m,o),s.child}function bg(i,s,o,f){var m=gd();return m=m===null?null:{parent:Mn._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&Jl(s,null),dd(),ms(s),i!==null&&$u(i,s,f,!0),null}function uc(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=2097664)}}function qu(i,s,o,f,m){return qa(s),o=Of(i,s,o,f,void 0,m),f=Pf(),i!==null&&!On?(Td(i,s,m),kr(i,s,m)):(Xe&&f&&bf(s),s.flags|=1,Xn(i,s,o,m),s.child)}function Bo(i,s,o,f,m,v){return qa(s),s.updateQueue=null,o=Pu(s,f,o,m),vd(i),f=Pf(),i!==null&&!On?(Td(i,s,v),kr(i,s,v)):(Xe&&f&&bf(s),s.flags|=1,Xn(i,s,o,v),s.child)}function zd(i,s,o,f,m){if(qa(s),s.stateNode===null){var v=Io,b=o.contextType;typeof b=="object"&&b!==null&&(v=oi(b)),v=new o(f,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=zf,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=f,v.state=s.memoizedState,v.refs={},fc(s),b=o.contextType,v.context=typeof b=="object"&&b!==null?oi(b):Io,v.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Fu(s,o,b,f),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(b=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),b!==v.state&&zf.enqueueReplaceState(v,v.state,null),mc(s,f,v,m),Hr(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){v=s.stateNode;var M=s.memoizedProps,z=Js(o,M);v.props=z;var Y=v.context,fe=o.contextType;b=Io,typeof fe=="object"&&fe!==null&&(b=oi(fe));var Te=o.getDerivedStateFromProps;fe=typeof Te=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,fe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||Y!==b)&&Nd(s,v,f,b),_s=!1;var se=s.memoizedState;v.state=se,mc(s,f,v,m),Hr(),Y=s.memoizedState,M||se!==Y||_s?(typeof Te=="function"&&(Fu(s,o,Te,f),Y=s.memoizedState),(z=_s||Ff(s,o,z,f,se,Y,b))?(fe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=Y),v.props=f,v.state=Y,v.context=b,f=z):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{v=s.stateNode,hc(i,s),b=s.memoizedProps,fe=Js(o,b),v.props=fe,Te=s.pendingProps,se=v.context,Y=o.contextType,z=Io,typeof Y=="object"&&Y!==null&&(z=oi(Y)),M=o.getDerivedStateFromProps,(Y=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b!==Te||se!==z)&&Nd(s,v,f,z),_s=!1,se=s.memoizedState,v.state=se,mc(s,f,v,m),Hr();var le=s.memoizedState;b!==Te||se!==le||_s||i!==null&&i.dependencies!==null&&$f(i.dependencies)?(typeof M=="function"&&(Fu(s,o,M,f),le=s.memoizedState),(fe=_s||Ff(s,o,fe,f,se,le,z)||i!==null&&i.dependencies!==null&&$f(i.dependencies))?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,le,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,le,z)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||b===i.memoizedProps&&se===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&se===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=le),v.props=f,v.state=le,v.context=z,f=fe):(typeof v.componentDidUpdate!="function"||b===i.memoizedProps&&se===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&se===i.memoizedState||(s.flags|=1024),f=!1)}return v=f,uc(i,s),f=(s.flags&128)!==0,v||f?(v=s.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&f?(s.child=rt(s,i.child,null,m),s.child=rt(s,null,o,m)):Xn(i,s,o,m),s.memoizedState=v.state,i=s.child):i=kr(i,s,m),i}function Fd(i,s,o,f){return hs(),s.flags|=256,Xn(i,s,o,f),s.child}var Hd={dehydrated:null,treeContext:null,retryLane:0};function Hf(i){return{baseLanes:i,cachePool:yd()}}function za(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Tr),i}function ju(i,s,o){var f=s.pendingProps,m=!1,v=(s.flags&128)!==0,b;if((b=v)||(b=i!==null&&i.memoizedState===null?!1:(Dn.current&2)!==0),b&&(m=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(Xe){if(m?Oa(s):Pa(),Xe){var M=Tt,z;if(z=M){e:{for(z=M,M=fs;z.nodeType!==8;){if(!M){M=null;break e}if(z=Gr(z.nextSibling),z===null){M=null;break e}}M=z}M!==null?(s.memoizedState={dehydrated:M,treeContext:Mo!==null?{id:gr,overflow:yr}:null,retryLane:536870912},z=Ji(18,null,null,0),z.stateNode=M,z.return=s,s.child=z,gi=s,Tt=null,z=!0):z=!1}z||Oo(s)}if(M=s.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return M.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ys(s)}return M=f.children,f=f.fallback,m?(Pa(),m=s.mode,M=qf({mode:"hidden",children:M},m),f=Fo(f,m,o,null),M.return=s,f.return=s,M.sibling=f,s.child=M,m=s.child,m.memoizedState=Hf(o),m.childLanes=za(i,b,o),s.memoizedState=Hd,f):(Oa(s),qd(s,M))}if(z=i.memoizedState,z!==null&&(M=z.dehydrated,M!==null)){if(v)s.flags&256?(Oa(s),s.flags&=-257,s=jf(i,s,o)):s.memoizedState!==null?(Pa(),s.child=i.child,s.flags|=128,s=null):(Pa(),m=f.fallback,M=s.mode,f=qf({mode:"visible",children:f.children},M),m=Fo(m,M,o,null),m.flags|=2,f.return=s,m.return=s,f.sibling=m,s.child=f,rt(s,i.child,null,o),f=s.child,f.memoizedState=Hf(o),f.childLanes=za(i,b,o),s.memoizedState=Hd,s=m);else if(Oa(s),M.data==="$!"){if(b=M.nextSibling&&M.nextSibling.dataset,b)var Y=b.dgst;b=Y,f=Error(r(419)),f.stack="",f.digest=b,js({value:f,source:null,stack:null}),s=jf(i,s,o)}else if(On||$u(i,s,o,!1),b=(o&i.childLanes)!==0,On||b){if(b=Ht,b!==null){if(f=o&-o,f&42)f=1;else switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=64;break;case 268435456:f=134217728;break;default:f=0}if(f=f&(b.suspendedLanes|o)?0:f,f!==0&&f!==z.retryLane)throw z.retryLane=f,Pr(i,f),li(b,i,f),Ud}M.data==="$?"||fm(),s=jf(i,s,o)}else M.data==="$?"?(s.flags|=128,s.child=i.child,s=Sv.bind(null,i),M._reactRetry=s,s=null):(i=z.treeContext,Tt=Gr(M.nextSibling),gi=s,Xe=!0,Vr=null,fs=!1,i!==null&&(mr[pr++]=gr,mr[pr++]=yr,mr[pr++]=Mo,gr=i.id,yr=i.overflow,Mo=s),s=qd(s,f.children),s.flags|=4096);return s}return m?(Pa(),m=f.fallback,M=s.mode,z=i.child,Y=z.sibling,f=Ka(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&31457280,Y!==null?m=Ka(Y,m):(m=Fo(m,M,o,null),m.flags|=2),m.return=s,f.return=s,f.sibling=m,s.child=f,f=m,m=s.child,M=i.child.memoizedState,M===null?M=Hf(o):(z=M.cachePool,z!==null?(Y=Mn._currentValue,z=z.parent!==Y?{parent:Y,pool:Y}:z):z=yd(),M={baseLanes:M.baseLanes|o,cachePool:z}),m.memoizedState=M,m.childLanes=za(i,b,o),s.memoizedState=Hd,f):(Oa(s),o=i.child,i=o.sibling,o=Ka(o,{mode:"visible",children:f.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function qd(i,s){return s=qf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function qf(i,s){return Fg(i,s,0,null)}function jf(i,s,o){return rt(s,i.child,null,o),i=qd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function lc(i,s,o){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),zr(i.return,s,o)}function Gf(i,s,o,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=o,v.tailMode=m)}function cc(i,s,o){var f=s.pendingProps,m=f.revealOrder,v=f.tail;if(Xn(i,s,f.children,o),f=Dn.current,f&2)f=f&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lc(i,o,s);else if(i.tag===19)lc(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(qe(Dn,f),m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&Df(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Gf(s,!1,m,o,v);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Df(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Gf(s,!0,o,null,v);break;case"together":Gf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function kr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),$a|=s.lanes,!(o&s.childLanes))if(i!==null){if($u(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Ka(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Ka(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Gu(i,s){return i.lanes&s?!0:(i=i.dependencies,!!(i!==null&&$f(i)))}function mv(i,s,o){switch(s.tag){case 3:jt(s,s.stateNode.containerInfo),Ha(s,Mn,i.memoizedState.cache),hs();break;case 27:case 5:Xt(s);break;case 4:jt(s,s.stateNode.containerInfo);break;case 10:Ha(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Oa(s),s.flags|=128,null):o&s.child.childLanes?ju(i,s,o):(Oa(s),i=kr(i,s,o),i!==null?i.sibling:null);Oa(s);break;case 19:var m=(i.flags&128)!==0;if(f=(o&s.childLanes)!==0,f||($u(i,s,o,!1),f=(o&s.childLanes)!==0),m){if(f)return cc(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),qe(Dn,Dn.current),f)break;return null;case 22:case 23:return s.lanes=0,Ur(i,s,o);case 24:Ha(s,Mn,i.memoizedState.cache)}return kr(i,s,o)}function jd(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)On=!0;else{if(!Gu(i,o)&&!(s.flags&128))return On=!1,mv(i,s,o);On=!!(i.flags&131072)}else On=!1,Xe&&s.flags&1048576&&ng(s,Do,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,m=f._init;if(f=m(f._payload),s.type=f,typeof f=="function")em(f)?(i=Js(f,i),s.tag=1,s=zd(null,s,f,i,o)):(s.tag=0,s=qu(null,s,f,i,o));else{if(f!=null){if(m=f.$$typeof,m===U){s.tag=11,s=kd(null,s,f,i,o);break e}else if(m===$){s.tag=14,s=Bd(null,s,f,i,o);break e}}throw s=D(f)||f,Error(r(306,s,""))}}return s;case 0:return qu(i,s,s.type,s.pendingProps,o);case 1:return f=s.type,m=Js(f,s.pendingProps),zd(i,s,f,m,o);case 3:e:{if(jt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var v=s.pendingProps;m=s.memoizedState,f=m.element,hc(i,s),mc(s,v,null,o);var b=s.memoizedState;if(v=b.cache,Ha(s,Mn,v),v!==m.cache&&Kf(s,[Mn],o,!0),Hr(),v=b.element,m.isDehydrated)if(m={element:v,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Fd(i,s,v,o);break e}else if(v!==f){f=pi(Error(r(424)),s),js(f),s=Fd(i,s,v,o);break e}else for(Tt=Gr(s.stateNode.containerInfo.firstChild),gi=s,Xe=!0,Vr=null,fs=!0,o=ag(s,null,v,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(hs(),v===f){s=kr(i,s,o);break e}Xn(i,s,v,o)}s=s.child}return s;case 26:return uc(i,s),i===null?(o=Pm(s.type,null,s.pendingProps,null))?s.memoizedState=o:Xe||(o=s.type,i=s.pendingProps,f=oh(Pt.current).createElement(o),f[Bn]=s,f[In]=i,Jn(f,o,i),$t(f),s.stateNode=f):s.memoizedState=Pm(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Xt(s),i===null&&Xe&&(f=s.stateNode=Om(s.type,s.pendingProps,Pt.current),gi=s,fs=!0,Tt=Gr(f.firstChild)),f=s.pendingProps.children,i!==null||Xe?Xn(i,s,f,o):s.child=rt(s,null,f,o),uc(i,s),s.child;case 5:return i===null&&Xe&&((m=f=Tt)&&(f=Mv(f,s.type,s.pendingProps,fs),f!==null?(s.stateNode=f,gi=s,Tt=Gr(f.firstChild),fs=!1,m=!0):m=!1),m||Oo(s)),Xt(s),m=s.type,v=s.pendingProps,b=i!==null?i.memoizedProps:null,f=v.children,xc(m,v)?f=null:b!==null&&xc(m,b)&&(s.flags|=32),s.memoizedState!==null&&(m=Of(i,s,Ua,null,null,o),Oc._currentValue=m),uc(i,s),Xn(i,s,f,o),s.child;case 6:return i===null&&Xe&&((i=o=Tt)&&(o=Ov(o,s.pendingProps,fs),o!==null?(s.stateNode=o,gi=s,Tt=null,i=!0):i=!1),i||Oo(s)),null;case 13:return ju(i,s,o);case 4:return jt(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=rt(s,null,f,o):Xn(i,s,f,o),s.child;case 11:return kd(i,s,s.type,s.pendingProps,o);case 7:return Xn(i,s,s.pendingProps,o),s.child;case 8:return Xn(i,s,s.pendingProps.children,o),s.child;case 12:return Xn(i,s,s.pendingProps.children,o),s.child;case 10:return f=s.pendingProps,Ha(s,s.type,f.value),Xn(i,s,f.children,o),s.child;case 9:return m=s.type._context,f=s.pendingProps.children,qa(s),m=oi(m),f=f(m),s.flags|=1,Xn(i,s,f,o),s.child;case 14:return Bd(i,s,s.type,s.pendingProps,o);case 15:return yi(i,s,s.type,s.pendingProps,o);case 19:return cc(i,s,o);case 22:return Ur(i,s,o);case 24:return qa(s),f=oi(Mn),i===null?(m=gd(),m===null&&(m=Ht,v=pd(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),s.memoizedState={parent:f,cache:m},fc(s),Ha(s,Mn,m)):(i.lanes&o&&(hc(i,s),mc(s,null,null,o),Hr()),m=i.memoizedState,v=s.memoizedState,m.parent!==f?(m={parent:f,cache:f},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ha(s,Mn,f)):(f=v.cache,Ha(s,Mn,f),f!==m.cache&&Kf(s,[Mn],o,!0))),Xn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Ku=xe(null),Fa=null,Br=null;function Ha(i,s,o){qe(Ku,s._currentValue),s._currentValue=o}function gs(i){i._currentValue=Ku.current,He(Ku)}function zr(i,s,o){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===o)break;i=i.return}}function Kf(i,s,o,f){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var v=m.dependencies;if(v!==null){var b=m.child;v=v.firstContext;e:for(;v!==null;){var M=v;v=m;for(var z=0;z<s.length;z++)if(M.context===s[z]){v.lanes|=o,M=v.alternate,M!==null&&(M.lanes|=o),zr(v.return,o,i),f||(b=null);break e}v=M.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(r(341));b.lanes|=o,v=b.alternate,v!==null&&(v.lanes|=o),zr(b,o,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function $u(i,s,o,f){i=null;for(var m=s,v=!1;m!==null;){if(!v){if(m.flags&524288)v=!0;else if(m.flags&262144)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var M=m.type;ji(m.pendingProps.value,b.value)||(i!==null?i.push(M):i=[M])}}else if(m===je.current){if(b=m.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Oc):i=[Oc])}m=m.return}i!==null&&Kf(s,i,o,f),s.flags|=262144}function $f(i){for(i=i.firstContext;i!==null;){if(!ji(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function qa(i){Fa=i,Br=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function oi(i){return ys(Fa,i)}function Wf(i,s){return Fa===null&&qa(i),ys(i,s)}function ys(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Br===null){if(i===null)throw Error(r(308));Br=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Br=Br.next=s;return o}var _s=!1;function fc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hc(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Yi(i,s,o){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,an&2){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,s=Co(i),cd(i,null,o),s}return Ro(i,f,s,o),Co(i)}function Fe(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var f=s.lanes;f&=i.pendingLanes,o|=f,s.lanes=o,es(i,o)}}function Wu(i,s){var o=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=b:v=v.next=b,o=o.next}while(o!==null);v===null?m=v=s:v=v.next=s}else m=v=s;o={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var dc=!1;function Hr(){if(dc){var i=Mu;if(i!==null)throw i}}function mc(i,s,o,f){dc=!1;var m=i.updateQueue;_s=!1;var v=m.firstBaseUpdate,b=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var z=M,Y=z.next;z.next=null,b===null?v=Y:b.next=Y,b=z;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,M=fe.lastBaseUpdate,M!==b&&(M===null?fe.firstBaseUpdate=Y:M.next=Y,fe.lastBaseUpdate=z))}if(v!==null){var Te=m.baseState;b=0,fe=Y=z=null,M=v;do{var se=M.lane&-536870913,le=se!==M.lane;if(le?(St&se)===se:(f&se)===se){se!==0&&se===Du&&(dc=!0),fe!==null&&(fe=fe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ke=i,Ze=M;se=s;var un=o;switch(Ze.tag){case 1:if(ke=Ze.payload,typeof ke=="function"){Te=ke.call(un,Te,se);break e}Te=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ze.payload,se=typeof ke=="function"?ke.call(un,Te,se):ke,se==null)break e;Te=k({},Te,se);break e;case 2:_s=!0}}se=M.callback,se!==null&&(i.flags|=64,le&&(i.flags|=8192),le=m.callbacks,le===null?m.callbacks=[se]:le.push(se))}else le={lane:se,tag:M.tag,payload:M.payload,callback:M.callback,next:null},fe===null?(Y=fe=le,z=Te):fe=fe.next=le,b|=se;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;le=M,M=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);fe===null&&(z=Te),m.baseState=z,m.firstBaseUpdate=Y,m.lastBaseUpdate=fe,v===null&&(m.shared.lanes=0),$a|=b,i.lanes=b,i.memoizedState=Te}}function Yf(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Gd(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Yf(o[i],s)}function bn(i,s){try{var o=s.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&i)===i){f=void 0;var v=o.create,b=o.inst;f=v(),b.destroy=f}o=o.next}while(o!==m)}}catch(M){Kt(s,s.return,M)}}function ja(i,s,o){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var v=m.next;f=v;do{if((f.tag&i)===i){var b=f.inst,M=b.destroy;if(M!==void 0){b.destroy=void 0,m=s;var z=o;try{M()}catch(Y){Kt(m,z,Y)}}}f=f.next}while(f!==v)}}catch(Y){Kt(s,s.return,Y)}}function Rg(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Gd(s,o)}catch(f){Kt(i,i.return,f)}}}function Kd(i,s,o){o.props=Js(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(f){Kt(i,s,f)}}function zo(i,s){try{var o=i.ref;if(o!==null){var f=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=f;break;default:m=f}typeof o=="function"?i.refCleanup=o(m):o.current=m}}catch(v){Kt(i,s,v)}}function Oi(i,s){var o=i.ref,f=i.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(m){Kt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Kt(i,s,m)}else o.current=null}function Cg(i){var s=i.type,o=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(m){Kt(i,i.return,m)}}function Ig(i,s,o){try{var f=i.stateNode;Qa(f,i.type,o,s),f[In]=s}catch(m){Kt(i,i.return,m)}}function xg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function qr(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||xg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zn(i,s,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ah));else if(f!==4&&f!==27&&(i=i.child,i!==null))for(Zn(i,s,o),i=i.sibling;i!==null;)Zn(i,s,o),i=i.sibling}function Yu(i,s,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(f!==4&&f!==27&&(i=i.child,i!==null))for(Yu(i,s,o),i=i.sibling;i!==null;)Yu(i,s,o),i=i.sibling}var na=!1,en=!1,$d=!1,Dg=typeof WeakSet=="function"?WeakSet:Set,dn=null,Wd=!1;function Mg(i,s){if(i=i.containerInfo,Rm=Pc,i=Jp(i),ud(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var b=0,M=-1,z=-1,Y=0,fe=0,Te=i,se=null;t:for(;;){for(var le;Te!==o||m!==0&&Te.nodeType!==3||(M=b+m),Te!==v||f!==0&&Te.nodeType!==3||(z=b+f),Te.nodeType===3&&(b+=Te.nodeValue.length),(le=Te.firstChild)!==null;)se=Te,Te=le;for(;;){if(Te===i)break t;if(se===o&&++Y===m&&(M=b),se===v&&++fe===f&&(z=b),(le=Te.nextSibling)!==null)break;Te=se,se=Te.parentNode}Te=le}o=M===-1||z===-1?null:{start:M,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cm={focusedElem:i,selectionRange:o},Pc=!1,dn=s;dn!==null;)if(s=dn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,dn=i;else for(;dn!==null;){switch(s=dn,v=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&v!==null){i=void 0,o=s,m=v.memoizedProps,v=v.memoizedState,f=o.stateNode;try{var ke=Js(o.type,m,o.elementType===o.type);i=f.getSnapshotBeforeUpdate(ke,v),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ze){Kt(o,o.return,Ze)}}break;case 3:if(i&1024){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Mm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,dn=i;break}dn=s.return}return ke=Wd,Wd=!1,ke}function Og(i,s,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:Ts(i,o),f&4&&bn(5,o);break;case 1:if(Ts(i,o),f&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(M){Kt(o,o.return,M)}else{var m=Js(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(M){Kt(o,o.return,M)}}f&64&&Rg(o),f&512&&zo(o,o.return);break;case 3:if(Ts(i,o),f&64&&(f=o.updateQueue,f!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Gd(f,i)}catch(M){Kt(o,o.return,M)}}break;case 26:Ts(i,o),f&512&&zo(o,o.return);break;case 27:case 5:Ts(i,o),s===null&&f&4&&Cg(o),f&512&&zo(o,o.return);break;case 12:Ts(i,o);break;case 13:Ts(i,o),f&4&&Vg(i,o);break;case 22:if(m=o.memoizedState!==null||na,!m){s=s!==null&&s.memoizedState!==null||en;var v=na,b=en;na=m,(en=s)&&!b?Pi(i,o,(o.subtreeFlags&8772)!==0):Ts(i,o),na=v,en=b}f&512&&(o.memoizedProps.mode==="manual"?zo(o,o.return):Oi(o,o.return));break;default:Ts(i,o)}}function Pg(i){var s=i.alternate;s!==null&&(i.alternate=null,Pg(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&mo(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rn=null,Qi=!1;function vs(i,s,o){for(o=o.child;o!==null;)Yd(i,s,o),o=o.sibling}function Yd(i,s,o){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(or,o)}catch{}switch(o.tag){case 26:en||Oi(o,s),vs(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:en||Oi(o,s);var f=Rn,m=Qi;for(Rn=o.stateNode,vs(i,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);mo(o),Rn=f,Qi=m;break;case 5:en||Oi(o,s);case 6:m=Rn;var v=Qi;if(Rn=null,vs(i,s,o),Rn=m,Qi=v,Rn!==null)if(Qi)try{i=Rn,f=o.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)}catch(b){Kt(o,s,b)}else try{Rn.removeChild(o.stateNode)}catch(b){Kt(o,s,b)}break;case 18:Rn!==null&&(Qi?(s=Rn,o=o.stateNode,s.nodeType===8?Dm(s.parentNode,o):s.nodeType===1&&Dm(s,o),kc(s)):Dm(Rn,o.stateNode));break;case 4:f=Rn,m=Qi,Rn=o.stateNode.containerInfo,Qi=!0,vs(i,s,o),Rn=f,Qi=m;break;case 0:case 11:case 14:case 15:en||ja(2,o,s),en||ja(4,o,s),vs(i,s,o);break;case 1:en||(Oi(o,s),f=o.stateNode,typeof f.componentWillUnmount=="function"&&Kd(o,s,f)),vs(i,s,o);break;case 21:vs(i,s,o);break;case 22:en||Oi(o,s),en=(f=en)||o.memoizedState!==null,vs(i,s,o),en=f;break;default:vs(i,s,o)}}function Vg(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{kc(i)}catch(o){Kt(s,s.return,o)}}function Qd(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Dg),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Dg),s;default:throw Error(r(435,i.tag))}}function Qf(i,s){var o=Qd(i);s.forEach(function(f){var m=bv.bind(null,i,f);o.has(f)||(o.add(f),f.then(m,m))})}function ui(i,s){var o=s.deletions;if(o!==null)for(var f=0;f<o.length;f++){var m=o[f],v=i,b=s,M=b;e:for(;M!==null;){switch(M.tag){case 27:case 5:Rn=M.stateNode,Qi=!1;break e;case 3:Rn=M.stateNode.containerInfo,Qi=!0;break e;case 4:Rn=M.stateNode.containerInfo,Qi=!0;break e}M=M.return}if(Rn===null)throw Error(r(160));Yd(v,b,m),Rn=null,Qi=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Xd(s,i),s=s.sibling}var Xi=null;function Xd(i,s){var o=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ui(s,i),Zi(i),f&4&&(ja(3,i,i.return),bn(3,i),ja(5,i,i.return));break;case 1:ui(s,i),Zi(i),f&512&&(en||o===null||Oi(o,o.return)),f&64&&na&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var m=Xi;if(ui(s,i),Zi(i),f&512&&(en||o===null||Oi(o,o.return)),f&4){var v=o!==null?o.memoizedState:null;if(f=i.memoizedState,o===null)if(f===null)if(i.stateNode===null){e:{f=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Ea]||v[Bn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(f),m.head.insertBefore(v,m.querySelector("head > title"))),Jn(v,f,o),v[Bn]=i,$t(v),f=v;break e;case"link":var b=gy("link","href",m).get(f+(o.href||""));if(b){for(var M=0;M<b.length;M++)if(v=b[M],v.getAttribute("href")===(o.href==null?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(M,1);break t}}v=m.createElement(f),Jn(v,f,o),m.head.appendChild(v);break;case"meta":if(b=gy("meta","content",m).get(f+(o.content||""))){for(M=0;M<b.length;M++)if(v=b[M],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(M,1);break t}}v=m.createElement(f),Jn(v,f,o),m.head.appendChild(v);break;default:throw Error(r(468,f))}v[Bn]=i,$t(v),f=v}i.stateNode=f}else yy(m,i.type,i.stateNode);else i.stateNode=Dc(m,f,i.memoizedProps);else v!==f?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,f===null?yy(m,i.type,i.stateNode):Dc(m,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Ig(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(f&4&&i.alternate===null){m=i.stateNode,v=i.memoizedProps;try{for(var z=m.firstChild;z;){var Y=z.nextSibling,fe=z.nodeName;z[Ea]||fe==="HEAD"||fe==="BODY"||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&z.rel.toLowerCase()==="stylesheet"||m.removeChild(z),z=Y}for(var Te=i.type,se=m.attributes;se.length;)m.removeAttributeNode(se[0]);Jn(m,Te,v),m[Bn]=i,m[In]=v}catch(ke){Kt(i,i.return,ke)}}case 5:if(ui(s,i),Zi(i),f&512&&(en||o===null||Oi(o,o.return)),i.flags&32){m=i.stateNode;try{Yn(m,"")}catch(ke){Kt(i,i.return,ke)}}f&4&&i.stateNode!=null&&(m=i.memoizedProps,Ig(i,m,o!==null?o.memoizedProps:m)),f&1024&&($d=!0);break;case 6:if(ui(s,i),Zi(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,o=i.stateNode;try{o.nodeValue=f}catch(ke){Kt(i,i.return,ke)}}break;case 3:if(dh=null,m=Xi,Xi=ch(s.containerInfo),ui(s,i),Xi=m,Zi(i),f&4&&o!==null&&o.memoizedState.isDehydrated)try{kc(s.containerInfo)}catch(ke){Kt(i,i.return,ke)}$d&&($d=!1,pc(i));break;case 4:f=Xi,Xi=ch(i.stateNode.containerInfo),ui(s,i),Zi(i),Xi=f;break;case 12:ui(s,i),Zi(i);break;case 13:ui(s,i),Zi(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(am=$n()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Qf(i,f)));break;case 22:if(f&512&&(en||o===null||Oi(o,o.return)),z=i.memoizedState!==null,Y=o!==null&&o.memoizedState!==null,fe=na,Te=en,na=fe||z,en=Te||Y,ui(s,i),en=Te,na=fe,Zi(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,f&8192&&(s._visibility=z?s._visibility&-2:s._visibility|1,z&&(s=na||en,o===null||Y||s||_i(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){Y=o=s;try{if(m=Y.stateNode,z)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=Y.stateNode,M=Y.memoizedProps.style;var le=M!=null&&M.hasOwnProperty("display")?M.display:null;b.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ke){Kt(Y,Y.return,ke)}}}else if(s.tag===6){if(o===null){Y=s;try{Y.stateNode.nodeValue=z?"":Y.memoizedProps}catch(ke){Kt(Y,Y.return,ke)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,Qf(i,o))));break;case 19:ui(s,i),Zi(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Qf(i,f)));break;case 21:break;default:ui(s,i),Zi(i)}}function Zi(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(xg(o)){var f=o;break e}o=o.return}throw Error(r(160))}switch(f.tag){case 27:var m=f.stateNode,v=qr(i);Yu(i,v,m);break;case 5:var b=f.stateNode;f.flags&32&&(Yn(b,""),f.flags&=-33);var M=qr(i);Yu(i,M,b);break;case 3:case 4:var z=f.stateNode.containerInfo,Y=qr(i);Zn(i,Y,z);break;default:throw Error(r(161))}}}catch(fe){Kt(i,i.return,fe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function pc(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;pc(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ts(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Og(i,s.alternate,s),s=s.sibling}function _i(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ja(4,s,s.return),_i(s);break;case 1:Oi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Kd(s,s.return,o),_i(s);break;case 26:case 27:case 5:Oi(s,s.return),_i(s);break;case 22:Oi(s,s.return),s.memoizedState===null&&_i(s);break;default:_i(s)}i=i.sibling}}function Pi(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,m=i,v=s,b=v.flags;switch(v.tag){case 0:case 11:case 15:Pi(m,v,o),bn(4,v);break;case 1:if(Pi(m,v,o),f=v,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){Kt(f,f.return,Y)}if(f=v,m=f.updateQueue,m!==null){var M=f.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)Yf(z[m],M)}catch(Y){Kt(f,f.return,Y)}}o&&b&64&&Rg(v),zo(v,v.return);break;case 26:case 27:case 5:Pi(m,v,o),o&&f===null&&b&4&&Cg(v),zo(v,v.return);break;case 12:Pi(m,v,o);break;case 13:Pi(m,v,o),o&&b&4&&Vg(m,v);break;case 22:v.memoizedState===null&&Pi(m,v,o),zo(v,v.return);break;default:Pi(m,v,o)}s=s.sibling}}function Zd(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Xl(o))}function Xf(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Xl(i))}function Ga(i,s,o,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ng(i,s,o,f),s=s.sibling}function Ng(i,s,o,f){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(i,s,o,f),m&2048&&bn(9,s);break;case 3:Ga(i,s,o,f),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Xl(i)));break;case 12:if(m&2048){Ga(i,s,o,f),i=s.stateNode;try{var v=s.memoizedProps,b=v.id,M=v.onPostCommit;typeof M=="function"&&M(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Kt(s,s.return,z)}}else Ga(i,s,o,f);break;case 23:break;case 22:v=s.stateNode,s.memoizedState!==null?v._visibility&4?Ga(i,s,o,f):gc(i,s):v._visibility&4?Ga(i,s,o,f):(v._visibility|=4,Qu(i,s,o,f,(s.subtreeFlags&10256)!==0)),m&2048&&Zd(s.alternate,s);break;case 24:Ga(i,s,o,f),m&2048&&Xf(s.alternate,s);break;default:Ga(i,s,o,f)}}function Qu(i,s,o,f,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=i,b=s,M=o,z=f,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Qu(v,b,M,z,m),bn(8,b);break;case 23:break;case 22:var fe=b.stateNode;b.memoizedState!==null?fe._visibility&4?Qu(v,b,M,z,m):gc(v,b):(fe._visibility|=4,Qu(v,b,M,z,m)),m&&Y&2048&&Zd(b.alternate,b);break;case 24:Qu(v,b,M,z,m),m&&Y&2048&&Xf(b.alternate,b);break;default:Qu(v,b,M,z,m)}s=s.sibling}}function gc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,f=s,m=f.flags;switch(f.tag){case 22:gc(o,f),m&2048&&Zd(f.alternate,f);break;case 24:gc(o,f),m&2048&&Xf(f.alternate,f);break;default:gc(o,f)}s=s.sibling}}var yc=8192;function Xu(i){if(i.subtreeFlags&yc)for(i=i.child;i!==null;)Lg(i),i=i.sibling}function Lg(i){switch(i.tag){case 26:Xu(i),i.flags&yc&&i.memoizedState!==null&&Bv(Xi,i.memoizedState,i.memoizedProps);break;case 5:Xu(i);break;case 3:case 4:var s=Xi;Xi=ch(i.stateNode.containerInfo),Xu(i),Xi=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=yc,yc=16777216,Xu(i),yc=s):Xu(i));break;default:Xu(i)}}function Ug(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function _c(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var f=s[o];dn=f,Jd(f,i)}Ug(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kg(i),i=i.sibling}function kg(i){switch(i.tag){case 0:case 11:case 15:_c(i),i.flags&2048&&ja(9,i,i.return);break;case 3:_c(i);break;case 12:_c(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Zf(i)):_c(i);break;default:_c(i)}}function Zf(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var f=s[o];dn=f,Jd(f,i)}Ug(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ja(8,s,s.return),Zf(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Zf(s));break;default:Zf(s)}i=i.sibling}}function Jd(i,s){for(;dn!==null;){var o=dn;switch(o.tag){case 0:case 11:case 15:ja(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Xl(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,dn=f;else e:for(o=i;dn!==null;){f=dn;var m=f.sibling,v=f.return;if(Pg(f),f===o){dn=null;break e}if(m!==null){m.return=v,dn=m;break e}dn=v}}}function Bg(i,s,o,f){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(i,s,o,f){return new Bg(i,s,o,f)}function em(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ka(i,s){var o=i.alternate;return o===null?(o=Ji(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function zg(i,s){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function vc(i,s,o,f,m,v){var b=0;if(f=i,typeof i=="function")em(i)&&(b=1);else if(typeof i=="string")b=Uv(i,o,et.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case y:return Fo(o.children,m,v,s);case _:b=8,m|=24;break;case A:return i=Ji(12,o,s,m|2),i.elementType=A,i.lanes=v,i;case j:return i=Ji(13,o,s,m),i.elementType=j,i.lanes=v,i;case B:return i=Ji(19,o,s,m),i.elementType=B,i.lanes=v,i;case ne:return Fg(o,m,v,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case w:case N:b=10;break e;case C:b=9;break e;case U:b=11;break e;case $:b=14;break e;case re:b=16,f=null;break e}b=29,o=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=Ji(b,o,s,m),s.elementType=i,s.type=f,s.lanes=v,s}function Fo(i,s,o,f){return i=Ji(7,i,f,s),i.lanes=o,i}function Fg(i,s,o,f){i=Ji(22,i,f,s),i.elementType=ne,i.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var v=m._current;if(v===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var b=Pr(v,2);b!==null&&(m._pendingVisibility|=2,li(b,v,2))}},attach:function(){var v=m._current;if(v===null)throw Error(r(456));if(m._pendingVisibility&2){var b=Pr(v,2);b!==null&&(m._pendingVisibility&=-3,li(b,v,2))}}};return i.stateNode=m,i}function tm(i,s,o){return i=Ji(6,i,null,s),i.lanes=o,i}function nm(i,s,o){return s=Ji(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function ia(i){i.flags|=4}function Hg(i,s){if(s.type!=="stylesheet"||s.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!_y(s)){if(s=_r.current,s!==null&&((St&4194176)===St?ds!==null:(St&62914560)!==St&&!(St&536870912)||s!==ds))throw Wl=Da,$l;i.flags|=8192}}function vi(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?_a():536870912,i.lanes|=s,Ju|=s)}function Tc(i,s){if(!Xe)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function sn(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,f=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,f|=m.subtreeFlags&31457280,f|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=o,s}function pv(i,s,o){var f=s.pendingProps;switch(hd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(s),null;case 1:return sn(s),null;case 3:return o=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),gs(Mn),gn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Po(s)?ia(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Vr!==null&&(el(Vr),Vr=null))),sn(s),null;case 26:return o=s.memoizedState,i===null?(ia(s),o!==null?(sn(s),Hg(s,o)):(sn(s),s.flags&=-16777217)):o?o!==i.memoizedState?(ia(s),sn(s),Hg(s,o)):(sn(s),s.flags&=-16777217):(i.memoizedProps!==f&&ia(s),sn(s),s.flags&=-16777217),null;case 27:Kn(s),o=Pt.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&ia(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return sn(s),null}i=et.current,Po(s)?Cf(s):(i=Om(m,f,o),s.stateNode=i,ia(s))}return sn(s),null;case 5:if(Kn(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&ia(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return sn(s),null}if(i=et.current,Po(s))Cf(s);else{switch(m=oh(Pt.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?m.createElement(o,{is:f.is}):m.createElement(o)}}i[Bn]=s,i[In]=f;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(Jn(i,o,f),o){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ia(s)}}return sn(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&ia(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Pt.current,Po(s)){if(i=s.stateNode,o=s.memoizedProps,f=null,m=gi,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}i[Bn]=s,i=!!(i.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||tt(i.nodeValue,o)),i||Oo(s)}else i=oh(i).createTextNode(f),i[Bn]=s,s.stateNode=i}return sn(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Po(s),f!==null&&f.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Bn]=s}else hs(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;sn(s),m=!1}else Vr!==null&&(el(Vr),Vr=null),m=!0;if(!m)return s.flags&256?(Ys(s),s):(Ys(s),null)}if(Ys(s),s.flags&128)return s.lanes=o,s;if(o=f!==null,i=i!==null&&i.memoizedState!==null,o){f=s.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==m&&(f.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),vi(s,s.updateQueue),sn(s),null;case 4:return gn(),i===null&&Sm(s.stateNode.containerInfo),sn(s),null;case 10:return gs(s.type),sn(s),null;case 19:if(He(Dn),m=s.memoizedState,m===null)return sn(s),null;if(f=(s.flags&128)!==0,v=m.rendering,v===null)if(f)Tc(m,!1);else{if(mn!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(v=Df(i),v!==null){for(s.flags|=128,Tc(m,!1),i=v.updateQueue,s.updateQueue=i,vi(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)zg(o,i),o=o.sibling;return qe(Dn,Dn.current&1|2),s.child}i=i.sibling}m.tail!==null&&$n()>Jf&&(s.flags|=128,f=!0,Tc(m,!1),s.lanes=4194304)}else{if(!f)if(i=Df(v),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,vi(s,i),Tc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Xe)return sn(s),null}else 2*$n()-m.renderingStartTime>Jf&&o!==536870912&&(s.flags|=128,f=!0,Tc(m,!1),s.lanes=4194304);m.isBackwards?(v.sibling=s.child,s.child=v):(i=m.last,i!==null?i.sibling=v:s.child=v,m.last=v)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=$n(),s.sibling=null,i=Dn.current,qe(Dn,f?i&1|2:i&1),s):(sn(s),null);case 22:case 23:return Ys(s),md(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?o&536870912&&!(s.flags&128)&&(sn(s),s.subtreeFlags&6&&(s.flags|=8192)):sn(s),o=s.updateQueue,o!==null&&vi(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==o&&(s.flags|=2048),i!==null&&He(Vo),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),gs(Mn),sn(s),null;case 25:return null}throw Error(r(156,s.tag))}function qg(i,s){switch(hd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return gs(Mn),gn(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Kn(s),null;case 13:if(Ys(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));hs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return He(Dn),null;case 4:return gn(),null;case 10:return gs(s.type),null;case 22:case 23:return Ys(s),md(),i!==null&&He(Vo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return gs(Mn),null;case 25:return null;default:return null}}function jg(i,s){switch(hd(s),s.tag){case 3:gs(Mn),gn();break;case 26:case 27:case 5:Kn(s);break;case 4:gn();break;case 13:Ys(s);break;case 19:He(Dn);break;case 10:gs(s.type);break;case 22:case 23:Ys(s),md(),i!==null&&He(Vo);break;case 24:gs(Mn)}}var gv={getCacheForType:function(i){var s=oi(Mn),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},yv=typeof WeakMap=="function"?WeakMap:Map,an=0,Ht=null,dt=null,St=0,Yt=0,er=null,ra=!1,Zu=!1,im=!1,sa=0,mn=0,$a=0,Ho=0,rm=0,Tr=0,Ju=0,Ec=null,Es=null,sm=!1,am=0,Jf=1/0,eh=null,As=null,Ac=!1,qo=null,wc=0,om=0,um=null,Sc=0,lm=null;function tr(){if(an&2&&St!==0)return St&-St;if(O.T!==null){var i=Du;return i!==0?i:vm()}return af()}function Gg(){Tr===0&&(Tr=!(St&536870912)||Xe?fu():536870912);var i=_r.current;return i!==null&&(i.flags|=32),Tr}function li(i,s,o){(i===Ht&&Yt===2||i.cancelPendingCommit!==null)&&(tl(i,0),aa(i,St,Tr,!1)),yn(i,o),(!(an&2)||i!==Ht)&&(i===Ht&&(!(an&2)&&(Ho|=o),mn===4&&aa(i,St,Tr,!1)),jr(i))}function Kg(i,s,o){if(an&6)throw Error(r(327));var f=!o&&(s&60)===0&&(s&i.expiredLanes)===0||ya(i,s),m=f?Tv(i,s):hm(i,s,!0),v=f;do{if(m===0){Zu&&!f&&aa(i,s,0,!1);break}else if(m===6)aa(i,s,0,!ra);else{if(o=i.current.alternate,v&&!_v(o)){m=hm(i,s,!1),v=!1;continue}if(m===2){if(v=s,i.errorRecoveryDisabledLanes&v)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var M=i;m=Ec;var z=M.current.memoizedState.isDehydrated;if(z&&(tl(M,b).flags|=256),b=hm(M,b,!1),b!==2){if(im&&!z){M.errorRecoveryDisabledLanes|=v,Ho|=v,m=4;break e}v=Es,Es=m,v!==null&&el(v)}m=b}if(v=!1,m!==2)continue}}if(m===1){tl(i,0),aa(i,s,0,!0);break}e:{switch(f=i,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){aa(f,s,Tr,!ra);break e}break;case 2:Es=null;break;case 3:case 5:break;default:throw Error(r(329))}if(f.finishedWork=o,f.finishedLanes=s,(s&62914560)===s&&(v=am+300-$n(),10<v)){if(aa(f,s,Tr,!ra),lr(f,0)!==0)break e;f.timeoutHandle=xm($g.bind(null,f,o,Es,eh,sm,s,Tr,Ho,Ju,ra,2,-0,0),v);break e}$g(f,o,Es,eh,sm,s,Tr,Ho,Ju,ra,0,-0,0)}}break}while(!0);jr(i)}function el(i){Es===null?Es=i:Es.push.apply(Es,i)}function $g(i,s,o,f,m,v,b,M,z,Y,fe,Te,se){var le=s.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(Mc={stylesheets:null,count:0,unsuspend:kv},Lg(s),s=zv(),s!==null)){i.cancelPendingCommit=s(ey.bind(null,i,o,f,m,b,M,z,1,Te,se)),aa(i,v,b,!Y);return}ey(i,o,f,m,b,M,z,fe,Te,se)}function _v(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var m=o[f],v=m.getSnapshot;m=m.value;try{if(!ji(v(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function aa(i,s,o,f){s&=~rm,s&=~Ho,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var m=s;0<m;){var v=31-Wn(m),b=1<<v;f[v]=-1,m&=~b}o!==0&&va(i,o,s)}function th(){return an&6?!0:(Ko(0),!1)}function cm(){if(dt!==null){if(Yt===0)var i=dt.return;else i=dt,Br=Fa=null,Vu(i),Ks=null,$s=0,i=dt;for(;i!==null;)jg(i.alternate,i),i=i.return;dt=null}}function tl(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,uh(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),cm(),Ht=i,dt=o=Ka(i.current,null),St=s,Yt=0,er=null,ra=!1,Zu=ya(i,s),im=!1,Ju=Tr=rm=Ho=$a=mn=0,Es=Ec=null,sm=!1,s&8&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var m=31-Wn(f),v=1<<m;s|=i[m],f&=~v}return sa=s,Sf(),o}function Wg(i,s){lt=null,O.H=hn,s===Gs?(s=sg(),Yt=3):s===$l?(s=sg(),Yt=4):Yt=s===Ud?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,er=s,dt===null&&(mn=1,ac(i,pi(s,i.current)))}function Yg(){var i=O.H;return O.H=hn,i===null?hn:i}function Qg(){var i=O.A;return O.A=gv,i}function fm(){mn=4,ra||(St&4194176)!==St&&_r.current!==null||(Zu=!0),!($a&134217727)&&!(Ho&134217727)||Ht===null||aa(Ht,St,Tr,!1)}function hm(i,s,o){var f=an;an|=2;var m=Yg(),v=Qg();(Ht!==i||St!==s)&&(eh=null,tl(i,s)),s=!1;var b=mn;e:do try{if(Yt!==0&&dt!==null){var M=dt,z=er;switch(Yt){case 8:cm(),b=6;break e;case 3:case 2:case 6:_r.current===null&&(s=!0);var Y=Yt;if(Yt=0,er=null,jo(i,M,z,Y),o&&Zu){b=0;break e}break;default:Y=Yt,Yt=0,er=null,jo(i,M,z,Y)}}vv(),b=mn;break}catch(fe){Wg(i,fe)}while(!0);return s&&i.shellSuspendCounter++,Br=Fa=null,an=f,O.H=m,O.A=v,dt===null&&(Ht=null,St=0,Sf()),b}function vv(){for(;dt!==null;)Xg(dt)}function Tv(i,s){var o=an;an|=2;var f=Yg(),m=Qg();Ht!==i||St!==s?(eh=null,Jf=$n()+500,tl(i,s)):Zu=ya(i,s);e:do try{if(Yt!==0&&dt!==null){s=dt;var v=er;t:switch(Yt){case 1:Yt=0,er=null,jo(i,s,v,1);break;case 2:if(ig(v)){Yt=0,er=null,Zg(s);break}s=function(){Yt===2&&Ht===i&&(Yt=7),jr(i)},v.then(s,s);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:ig(v)?(Yt=0,er=null,Zg(s)):(Yt=0,er=null,jo(i,s,v,7));break;case 5:var b=null;switch(dt.tag){case 26:b=dt.memoizedState;case 5:case 27:var M=dt;if(!b||_y(b)){Yt=0,er=null;var z=M.sibling;if(z!==null)dt=z;else{var Y=M.return;Y!==null?(dt=Y,bc(Y)):dt=null}break t}}Yt=0,er=null,jo(i,s,v,5);break;case 6:Yt=0,er=null,jo(i,s,v,6);break;case 8:cm(),mn=6;break e;default:throw Error(r(462))}}Ev();break}catch(fe){Wg(i,fe)}while(!0);return Br=Fa=null,O.H=f,O.A=m,an=o,dt!==null?0:(Ht=null,St=0,Sf(),mn)}function Ev(){for(;dt!==null&&!Rs();)Xg(dt)}function Xg(i){var s=jd(i.alternate,i,sa);i.memoizedProps=i.pendingProps,s===null?bc(i):dt=s}function Zg(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Bo(o,s,s.pendingProps,s.type,void 0,St);break;case 11:s=Bo(o,s,s.pendingProps,s.type.render,s.ref,St);break;case 5:Vu(s);default:jg(o,s),s=dt=zg(s,sa),s=jd(o,s,sa)}i.memoizedProps=i.pendingProps,s===null?bc(i):dt=s}function jo(i,s,o,f){Br=Fa=null,Vu(s),Ks=null,$s=0;var m=s.return;try{if(dv(i,m,s,o,St)){mn=1,ac(i,pi(o,i.current)),dt=null;return}}catch(v){if(m!==null)throw dt=m,v;mn=1,ac(i,pi(o,i.current)),dt=null;return}s.flags&32768?(Xe||f===1?i=!0:Zu||St&536870912?i=!1:(ra=i=!0,(f===2||f===3||f===6)&&(f=_r.current,f!==null&&f.tag===13&&(f.flags|=16384))),Jg(s,i)):bc(s)}function bc(i){var s=i;do{if(s.flags&32768){Jg(s,ra);return}i=s.return;var o=pv(s.alternate,s,sa);if(o!==null){dt=o;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=i}while(s!==null);mn===0&&(mn=5)}function Jg(i,s){do{var o=qg(i.alternate,i);if(o!==null){o.flags&=32767,dt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){dt=i;return}dt=i=o}while(i!==null);mn=6,dt=null}function ey(i,s,o,f,m,v,b,M,z,Y){var fe=O.T,Te=ve.p;try{ve.p=2,O.T=null,Av(i,s,o,f,Te,m,v,b,M,z,Y)}finally{O.T=fe,ve.p=Te}}function Av(i,s,o,f,m,v,b,M){do oa();while(qo!==null);if(an&6)throw Error(r(327));var z=i.finishedWork;if(f=i.finishedLanes,z===null)return null;if(i.finishedWork=null,i.finishedLanes=0,z===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var Y=z.lanes|z.childLanes;if(Y|=ld,du(i,f,Y,v,b,M),i===Ht&&(dt=Ht=null,St=0),!(z.subtreeFlags&10256)&&!(z.flags&10256)||Ac||(Ac=!0,om=Y,um=o,Rv(ii,function(){return oa(),null})),o=(z.flags&15990)!==0,z.subtreeFlags&15990||o?(o=O.T,O.T=null,v=ve.p,ve.p=2,b=an,an|=4,Mg(i,z),Xd(z,i),iv(Cm,i.containerInfo),Pc=!!Rm,Cm=Rm=null,i.current=z,Og(i,z.alternate,z),Xr(),an=b,ve.p=v,O.T=o):i.current=z,Ac?(Ac=!1,qo=i,wc=f):ty(i,Y),Y=i.pendingLanes,Y===0&&(As=null),co(z.stateNode),jr(i),s!==null)for(m=i.onRecoverableError,z=0;z<s.length;z++)Y=s[z],m(Y.value,{componentStack:Y.stack});return wc&3&&oa(),Y=i.pendingLanes,f&4194218&&Y&42?i===lm?Sc++:(Sc=0,lm=i):Sc=0,Ko(0),null}function ty(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Xl(s)))}function oa(){if(qo!==null){var i=qo,s=om;om=0;var o=sf(wc),f=O.T,m=ve.p;try{if(ve.p=32>o?32:o,O.T=null,qo===null)var v=!1;else{o=um,um=null;var b=qo,M=wc;if(qo=null,wc=0,an&6)throw Error(r(331));var z=an;if(an|=4,kg(b.current),Ng(b,b.current,M,o),an=z,Ko(0,!1),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(or,b)}catch{}v=!0}return v}finally{ve.p=m,O.T=f,ty(i,s)}}return!1}function ny(i,s,o){s=pi(o,s),s=oc(i.stateNode,s,2),i=Yi(i,s,2),i!==null&&(yn(i,2),jr(i))}function Kt(i,s,o){if(i.tag===3)ny(i,i,o);else for(;s!==null;){if(s.tag===3){ny(s,i,o);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(As===null||!As.has(f))){i=pi(o,i),o=wg(2),f=Yi(s,o,2),f!==null&&(Sg(o,f,s,i),yn(f,2),jr(f));break}}s=s.return}}function dm(i,s,o){var f=i.pingCache;if(f===null){f=i.pingCache=new yv;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(o)||(im=!0,m.add(o),i=wv.bind(null,i,s,o),s.then(i,i))}function wv(i,s,o){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Ht===i&&(St&o)===o&&(mn===4||mn===3&&(St&62914560)===St&&300>$n()-am?!(an&2)&&tl(i,0):rm|=o,Ju===St&&(Ju=0)),jr(i)}function iy(i,s){s===0&&(s=_a()),i=Pr(i,s),i!==null&&(yn(i,s),jr(i))}function Sv(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),iy(i,o)}function bv(i,s){var o=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),iy(i,o)}function Rv(i,s){return cn(i,s)}var nh=null,nl=null,mm=!1,Go=!1,pm=!1,Wa=0;function jr(i){i!==nl&&i.next===null&&(nl===null?nh=nl=i:nl=nl.next=i),Go=!0,mm||(mm=!0,Cv(ry))}function Ko(i,s){if(!pm&&Go){pm=!0;do for(var o=!1,f=nh;f!==null;){if(i!==0){var m=f.pendingLanes;if(m===0)var v=0;else{var b=f.suspendedLanes,M=f.pingedLanes;v=(1<<31-Wn(42|i)+1)-1,v&=m&~(b&~M),v=v&201326677?v&201326677|1:v?v|2:0}v!==0&&(o=!0,_m(f,v))}else v=St,v=lr(f,f===Ht?v:0),!(v&3)||ya(f,v)||(o=!0,_m(f,v));f=f.next}while(o);pm=!1}}function ry(){Go=mm=!1;var i=0;Wa!==0&&(ua()&&(i=Wa),Wa=0);for(var s=$n(),o=null,f=nh;f!==null;){var m=f.next,v=gm(f,s);v===0?(f.next=null,o===null?nh=m:o.next=m,m===null&&(nl=o)):(o=f,(i!==0||v&3)&&(Go=!0)),f=m}Ko(i)}function gm(i,s){for(var o=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var b=31-Wn(v),M=1<<b,z=m[b];z===-1?(!(M&o)||M&f)&&(m[b]=cu(M,s)):z<=s&&(i.expiredLanes|=M),v&=~M}if(s=Ht,o=St,o=lr(i,i===s?o:0),f=i.callbackNode,o===0||i===s&&Yt===2||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Un(f),i.callbackNode=null,i.callbackPriority=0;if(!(o&3)||ya(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(f!==null&&Un(f),sf(o)){case 2:case 8:o=Zt;break;case 32:o=ii;break;case 268435456:o=Jr;break;default:o=ii}return f=ym.bind(null,i),o=cn(o,f),i.callbackPriority=s,i.callbackNode=o,s}return f!==null&&f!==null&&Un(f),i.callbackPriority=2,i.callbackNode=null,2}function ym(i,s){var o=i.callbackNode;if(oa()&&i.callbackNode!==o)return null;var f=St;return f=lr(i,i===Ht?f:0),f===0?null:(Kg(i,f,s),gm(i,$n()),i.callbackNode!=null&&i.callbackNode===o?ym.bind(null,i):null)}function _m(i,s){if(oa())return null;Kg(i,s,!0)}function Cv(i){pn(function(){an&6?cn(fn,i):i()})}function vm(){return Wa===0&&(Wa=fu()),Wa}function sy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:xr(""+i)}function Rc(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function ih(i,s,o,f,m){if(s==="submit"&&o&&o.stateNode===m){var v=sy((m[In]||null).action),b=f.submitter;b&&(s=(s=b[In]||null)?sy(s.formAction):b.getAttribute("formAction"),s!==null&&(v=s,b=null));var M=new Tu("action","action",null,f,m);i.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Wa!==0){var z=b?Rc(m,b):new FormData(m);rc(o,{pending:!0,data:z,method:m.method,action:v},null,z)}}else typeof v=="function"&&(M.preventDefault(),z=b?Rc(m,b):new FormData(m),rc(o,{pending:!0,data:z,method:m.method,action:v},v,z))},currentTarget:m}]})}}for(var Tm=0;Tm<tg.length;Tm++){var Em=tg[Tm],Am=Em.toLowerCase(),ay=Em[0].toUpperCase()+Em.slice(1);dr(Am,"on"+ay)}dr(eg,"onAnimationEnd"),dr(Gi,"onAnimationIteration"),dr(Gl,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(sv,"onTransitionRun"),dr(Ru,"onTransitionStart"),dr(wf,"onTransitionCancel"),dr(Kl,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cc));function oy(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var f=i[o],m=f.event;f=f.listeners;e:{var v=void 0;if(s)for(var b=f.length-1;0<=b;b--){var M=f[b],z=M.instance,Y=M.currentTarget;if(M=M.listener,z!==v&&m.isPropagationStopped())break e;v=M,m.currentTarget=Y;try{v(m)}catch(fe){Hu(fe)}m.currentTarget=null,v=z}else for(b=0;b<f.length;b++){if(M=f[b],z=M.instance,Y=M.currentTarget,M=M.listener,z!==v&&m.isPropagationStopped())break e;v=M,m.currentTarget=Y;try{v(m)}catch(fe){Hu(fe)}m.currentTarget=null,v=z}}}}function Et(i,s){var o=s[fo];o===void 0&&(o=s[fo]=new Set);var f=i+"__bubble";o.has(f)||(uy(s,i,2,!1),o.add(f))}function wm(i,s,o){var f=0;s&&(f|=4),uy(o,i,f,s)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Sm(i){if(!i[rh]){i[rh]=!0,Nl.forEach(function(o){o!=="selectionchange"&&(Iv.has(o)||wm(o,!1,i),wm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rh]||(s[rh]=!0,wm("selectionchange",!1,s))}}function uy(i,s,o,f){switch(Ay(s)){case 2:var m=Hv;break;case 8:m=qv;break;default:m=Bm}o=m.bind(null,s,o,i),m=void 0,!Ii||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function bm(i,s,o,f,m){var v=f;if(!(s&1)&&!(s&2)&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var M=f.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(b===4)for(b=f.return;b!==null;){var z=b.tag;if((z===3||z===4)&&(z=b.stateNode.containerInfo,z===m||z.nodeType===8&&z.parentNode===m))return;b=b.return}for(;M!==null;){if(b=Cr(M),b===null)return;if(z=b.tag,z===5||z===6||z===26||z===27){f=v=b;continue e}M=M.parentNode}}f=f.return}df(function(){var Y=v,fe=vu(o),Te=[];e:{var se=Ut.get(i);if(se!==void 0){var le=Tu,ke=i;switch(i){case"keypress":if(wt(o)===0)break e;case"keydown":case"keyup":le=Ca;break;case"focusin":ke="focus",le=To;break;case"focusout":ke="blur",le=To;break;case"beforeblur":case"afterblur":le=To;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Hl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=yf;break;case eg:case Gi:case Gl:le=Eo;break;case Kl:le=_f;break;case"scroll":case"scrollend":le=mf;break;case"wheel":le=bu;break;case"copy":case"cut":case"paste":le=Ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=fr;break;case"toggle":case"beforetoggle":le=bo}var Ze=(s&4)!==0,un=!Ze&&(i==="scroll"||i==="scrollend"),ee=Ze?se!==null?se+"Capture":null:se;Ze=[];for(var W=Y,ie;W!==null;){var me=W;if(ie=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ie===null||ee===null||(me=go(W,ee),me!=null&&Ze.push(Ic(W,me,ie))),un)break;W=W.return}0<Ze.length&&(se=new le(se,ke,null,o,fe),Te.push({event:se,listeners:Ze}))}}if(!(s&7)){e:{if(se=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",se&&o!==cr&&(ke=o.relatedTarget||o.fromElement)&&(Cr(ke)||ke[Ds]))break e;if((le||se)&&(se=fe.window===fe?fe:(se=fe.ownerDocument)?se.defaultView||se.parentWindow:window,le?(ke=o.relatedTarget||o.toElement,le=Y,ke=ke?Cr(ke):null,ke!==null&&(un=Me(ke),Ze=ke.tag,ke!==un||Ze!==5&&Ze!==27&&Ze!==6)&&(ke=null)):(le=null,ke=Y),le!==ke)){if(Ze=Fn,me="onMouseLeave",ee="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Ze=fr,me="onPointerLeave",ee="onPointerEnter",W="pointer"),un=le==null?se:Ir(le),ie=ke==null?se:Ir(ke),se=new Ze(me,W+"leave",le,o,fe),se.target=un,se.relatedTarget=ie,me=null,Cr(fe)===Y&&(Ze=new Ze(ee,W+"enter",ke,o,fe),Ze.target=ie,Ze.relatedTarget=un,me=Ze),un=me,le&&ke)t:{for(Ze=le,ee=ke,W=0,ie=Ze;ie;ie=il(ie))W++;for(ie=0,me=ee;me;me=il(me))ie++;for(;0<W-ie;)Ze=il(Ze),W--;for(;0<ie-W;)ee=il(ee),ie--;for(;W--;){if(Ze===ee||ee!==null&&Ze===ee.alternate)break t;Ze=il(Ze),ee=il(ee)}Ze=null}else Ze=null;le!==null&&Er(Te,se,le,Ze,!1),ke!==null&&un!==null&&Er(Te,un,ke,Ze,!0)}}e:{if(se=Y?Ir(Y):window,le=se.nodeName&&se.nodeName.toLowerCase(),le==="select"||le==="input"&&se.type==="file")var Ne=$p;else if(_n(se))if(Wp)Ne=tv;else{Ne=xa;var ft=Xp}else le=se.nodeName,!le||le.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?Y&&_u(Y.elementType)&&(Ne=$p):Ne=Af;if(Ne&&(Ne=Ne(i,Y))){qi(Te,Ne,o,fe);break e}ft&&ft(i,se,Y),i==="focusout"&&Y&&se.type==="number"&&Y.memoizedProps.value!=null&&gu(se,"number",se.value)}switch(ft=Y?Ir(Y):window,i){case"focusin":(_n(ft)||ft.contentEditable==="true")&&(Or=ft,Q=Y,ue=null);break;case"focusout":ue=Q=Or=null;break;case"mousedown":ae=!0;break;case"contextmenu":case"mouseup":case"dragend":ae=!1,Ve(Te,o,fe);break;case"selectionchange":if(rv)break;case"keydown":case"keyup":Ve(Te,o,fe)}var ze;if(as)e:{switch(i){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else pt?oe(i,o)&&($e="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(S&&o.locale!=="ko"&&(pt||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&pt&&(ze=Bl()):(ss=fe,Ra="value"in ss?ss.value:ss.textContent,pt=!0)),ft=sh(Y,$e),0<ft.length&&($e=new Qn($e,i,null,o,fe),Te.push({event:$e,listeners:ft}),ze?$e.data=ze:(ze=we(o),ze!==null&&($e.data=ze)))),(ze=T?xn(i,o):vt(i,o))&&($e=sh(Y,"onBeforeInput"),0<$e.length&&(ft=new Qn("onBeforeInput","beforeinput",null,o,fe),Te.push({event:ft,listeners:$e}),ft.data=ze)),ih(Te,i,Y,o,fe)}oy(Te,s)})}function Ic(i,s,o){return{instance:i,listener:s,currentTarget:o}}function sh(i,s){for(var o=s+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=go(i,o),m!=null&&f.unshift(Ic(i,m,v)),m=go(i,s),m!=null&&f.push(Ic(i,m,v))),i=i.return}return f}function il(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Er(i,s,o,f,m){for(var v=s._reactName,b=[];o!==null&&o!==f;){var M=o,z=M.alternate,Y=M.stateNode;if(M=M.tag,z!==null&&z===f)break;M!==5&&M!==26&&M!==27||Y===null||(z=Y,m?(Y=go(o,v),Y!=null&&b.unshift(Ic(o,Y,z))):m||(Y=go(o,v),Y!=null&&b.push(Ic(o,Y,z)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var xv=/\r\n?/g,Dv=/\u0000|\uFFFD/g;function Ya(i){return(typeof i=="string"?i:""+i).replace(xv,`
`).replace(Dv,"")}function tt(i,s){return s=Ya(s),Ya(i)===s}function ah(){}function at(i,s,o,f,m,v){switch(o){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Yn(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Yn(i,""+f);break;case"className":Os(i,"class",f);break;case"tabIndex":Os(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Os(i,o,f);break;case"style":cf(i,f,v);break;case"data":if(s!=="object"){Os(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=xr(""+f),i.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(s!=="input"&&at(i,s,"name",m.name,m,null),at(i,s,"formEncType",m.formEncType,m,null),at(i,s,"formMethod",m.formMethod,m,null),at(i,s,"formTarget",m.formTarget,m,null)):(at(i,s,"encType",m.encType,m,null),at(i,s,"method",m.method,m,null),at(i,s,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=xr(""+f),i.setAttribute(o,f);break;case"onClick":f!=null&&(i.onclick=ah);break;case"onScroll":f!=null&&Et("scroll",i);break;case"onScrollEnd":f!=null&&Et("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(o=f.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}o=xr(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""+f):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":f===!0?i.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,f):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(o,f):i.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(o):i.setAttribute(o,f);break;case"popover":Et("beforetoggle",i),Et("toggle",i),wa(i,"popover",f);break;case"xlinkActuate":Hi(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Hi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Hi(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Hi(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Hi(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Hi(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Hi(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Hi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Hi(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":wa(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ff.get(o)||o,wa(i,o,f))}}function on(i,s,o,f,m,v){switch(o){case"style":cf(i,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(o=f.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof f=="string"?Yn(i,f):(typeof f=="number"||typeof f=="bigint")&&Yn(i,""+f);break;case"onScroll":f!=null&&Et("scroll",i);break;case"onScrollEnd":f!=null&&Et("scrollend",i);break;case"onClick":f!=null&&(i.onclick=ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),v=i[In]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(s,v,m),typeof f=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,f,m);break e}o in i?i[o]=f:f===!0?i.setAttribute(o,""):wa(i,o,f)}}}function Jn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",i),Et("load",i);var f=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var b=o[v];if(b!=null)switch(v){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:at(i,s,v,b,o,null)}}m&&at(i,s,"srcSet",o.srcSet,o,null),f&&at(i,s,"src",o.src,o,null);return;case"input":Et("invalid",i);var M=v=b=m=null,z=null,Y=null;for(f in o)if(o.hasOwnProperty(f)){var fe=o[f];if(fe!=null)switch(f){case"name":m=fe;break;case"type":b=fe;break;case"checked":z=fe;break;case"defaultChecked":Y=fe;break;case"value":v=fe;break;case"defaultValue":M=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:at(i,s,f,fe,o,null)}}Ns(i,v,M,z,Y,b,m,!1),Sa(i);return;case"select":Et("invalid",i),f=b=v=null;for(m in o)if(o.hasOwnProperty(m)&&(M=o[m],M!=null))switch(m){case"value":v=M;break;case"defaultValue":b=M;break;case"multiple":f=M;default:at(i,s,m,M,o,null)}s=v,o=b,i.multiple=!!f,s!=null?xt(i,!!f,s,!1):o!=null&&xt(i,!!f,o,!0);return;case"textarea":Et("invalid",i),v=m=f=null;for(b in o)if(o.hasOwnProperty(b)&&(M=o[b],M!=null))switch(b){case"value":f=M;break;case"defaultValue":m=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:at(i,s,b,M,o,null)}is(i,f,m,v),Sa(i);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(f=o[z],f!=null))switch(z){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:at(i,s,z,f,o,null)}return;case"dialog":Et("cancel",i),Et("close",i);break;case"iframe":case"object":Et("load",i);break;case"video":case"audio":for(f=0;f<Cc.length;f++)Et(Cc[f],i);break;case"image":Et("error",i),Et("load",i);break;case"details":Et("toggle",i);break;case"embed":case"source":case"link":Et("error",i),Et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(f=o[Y],f!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:at(i,s,Y,f,o,null)}return;default:if(_u(s)){for(fe in o)o.hasOwnProperty(fe)&&(f=o[fe],f!==void 0&&on(i,s,fe,f,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(f=o[M],f!=null&&at(i,s,M,f,o,null))}function Qa(i,s,o,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,b=null,M=null,z=null,Y=null,fe=null;for(le in o){var Te=o[le];if(o.hasOwnProperty(le)&&Te!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":z=Te;default:f.hasOwnProperty(le)||at(i,s,le,null,f,Te)}}for(var se in f){var le=f[se];if(Te=o[se],f.hasOwnProperty(se)&&(le!=null||Te!=null))switch(se){case"type":v=le;break;case"name":m=le;break;case"checked":Y=le;break;case"defaultChecked":fe=le;break;case"value":b=le;break;case"defaultValue":M=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:le!==Te&&at(i,s,se,le,f,Te)}}Vs(i,b,M,z,Y,fe,v,m);return;case"select":le=b=M=se=null;for(v in o)if(z=o[v],o.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":le=z;default:f.hasOwnProperty(v)||at(i,s,v,null,f,z)}for(m in f)if(v=f[m],z=o[m],f.hasOwnProperty(m)&&(v!=null||z!=null))switch(m){case"value":se=v;break;case"defaultValue":M=v;break;case"multiple":b=v;default:v!==z&&at(i,s,m,v,f,z)}s=M,o=b,f=le,se!=null?xt(i,!!o,se,!1):!!f!=!!o&&(s!=null?xt(i,!!o,s,!0):xt(i,!!o,o?[]:"",!1));return;case"textarea":le=se=null;for(M in o)if(m=o[M],o.hasOwnProperty(M)&&m!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:at(i,s,M,null,f,m)}for(b in f)if(m=f[b],v=o[b],f.hasOwnProperty(b)&&(m!=null||v!=null))switch(b){case"value":se=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==v&&at(i,s,b,m,f,v)}Ls(i,se,le);return;case"option":for(var ke in o)if(se=o[ke],o.hasOwnProperty(ke)&&se!=null&&!f.hasOwnProperty(ke))switch(ke){case"selected":i.selected=!1;break;default:at(i,s,ke,null,f,se)}for(z in f)if(se=f[z],le=o[z],f.hasOwnProperty(z)&&se!==le&&(se!=null||le!=null))switch(z){case"selected":i.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:at(i,s,z,se,f,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in o)se=o[Ze],o.hasOwnProperty(Ze)&&se!=null&&!f.hasOwnProperty(Ze)&&at(i,s,Ze,null,f,se);for(Y in f)if(se=f[Y],le=o[Y],f.hasOwnProperty(Y)&&se!==le&&(se!=null||le!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,s));break;default:at(i,s,Y,se,f,le)}return;default:if(_u(s)){for(var un in o)se=o[un],o.hasOwnProperty(un)&&se!==void 0&&!f.hasOwnProperty(un)&&on(i,s,un,void 0,f,se);for(fe in f)se=f[fe],le=o[fe],!f.hasOwnProperty(fe)||se===le||se===void 0&&le===void 0||on(i,s,fe,se,f,le);return}}for(var ee in o)se=o[ee],o.hasOwnProperty(ee)&&se!=null&&!f.hasOwnProperty(ee)&&at(i,s,ee,null,f,se);for(Te in f)se=f[Te],le=o[Te],!f.hasOwnProperty(Te)||se===le||se==null&&le==null||at(i,s,Te,se,f,le)}var Rm=null,Cm=null;function oh(i){return i.nodeType===9?i:i.ownerDocument}function ly(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cy(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function xc(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Im=null;function ua(){var i=window.event;return i&&i.type==="popstate"?i===Im?!1:(Im=i,!0):(Im=null,!1)}var xm=typeof setTimeout=="function"?setTimeout:void 0,uh=typeof clearTimeout=="function"?clearTimeout:void 0,tn=typeof Promise=="function"?Promise:void 0,pn=typeof queueMicrotask=="function"?queueMicrotask:typeof tn<"u"?function(i){return tn.resolve(null).then(i).catch(fy)}:xm;function fy(i){setTimeout(function(){throw i})}function Dm(i,s){var o=s,f=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(f===0){i.removeChild(m),kc(s);return}f--}else o!=="$"&&o!=="$?"&&o!=="$!"||f++;o=m}while(o);kc(s)}function Mm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Mm(o),mo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Mv(i,s,o,f){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Ea])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Gr(i.nextSibling),i===null)break}return null}function Ov(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Gr(i.nextSibling),i===null))return null;return i}function Gr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function hy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function Om(i,s,o){switch(s=oh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var ci=new Map,lh=new Set;function ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ws=ve.d;ve.d={f:fh,r:nr,D:Pv,C:Vv,L:Nv,m:Lv,X:la,S:my,M:ot};function fh(){var i=ws.f(),s=th();return i||s}function nr(i){var s=Ms(i);s!==null&&s.tag===5&&s.type==="form"?Eg(s):ws.r(i)}var Kr=typeof document>"u"?null:document;function dy(i,s,o){var f=Kr;if(f&&typeof s=="string"&&s){var m=rn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),lh.has(m)||(lh.add(m),i={rel:i,crossOrigin:o,href:s},f.querySelector(m)===null&&(s=f.createElement("link"),Jn(s,"link",i),$t(s),f.head.appendChild(s)))}}function Pv(i){ws.D(i),dy("dns-prefetch",i,null)}function Vv(i,s){ws.C(i,s),dy("preconnect",i,s)}function Nv(i,s,o){ws.L(i,s,o);var f=Kr;if(f&&i&&s){var m='link[rel="preload"][as="'+rn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+rn(o.imageSizes)+'"]')):m+='[href="'+rn(i)+'"]';var v=m;switch(s){case"style":v=ei(i);break;case"script":v=sl(i)}ci.has(v)||(i=k({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ci.set(v,i),f.querySelector(m)!==null||s==="style"&&f.querySelector(rl(v))||s==="script"&&f.querySelector(al(v))||(s=f.createElement("link"),Jn(s,"link",i),$t(s),f.head.appendChild(s)))}}function Lv(i,s){ws.m(i,s);var o=Kr;if(o&&i){var f=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+rn(f)+'"][href="'+rn(i)+'"]',v=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=sl(i)}if(!ci.has(v)&&(i=k({rel:"modulepreload",href:i},s),ci.set(v,i),o.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(al(v)))return}f=o.createElement("link"),Jn(f,"link",i),$t(f),o.head.appendChild(f)}}}function my(i,s,o){ws.S(i,s,o);var f=Kr;if(f&&i){var m=Aa(f).hoistableStyles,v=ei(i);s=s||"default";var b=m.get(v);if(!b){var M={loading:0,preload:null};if(b=f.querySelector(rl(v)))M.loading=5;else{i=k({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ci.get(v))&&Vm(i,o);var z=b=f.createElement("link");$t(z),Jn(z,"link",i),z._p=new Promise(function(Y,fe){z.onload=Y,z.onerror=fe}),z.addEventListener("load",function(){M.loading|=1}),z.addEventListener("error",function(){M.loading|=2}),M.loading|=4,hh(b,s,f)}b={type:"stylesheet",instance:b,count:1,state:M},m.set(v,b)}}}function la(i,s){ws.X(i,s);var o=Kr;if(o&&i){var f=Aa(o).hoistableScripts,m=sl(i),v=f.get(m);v||(v=o.querySelector(al(m)),v||(i=k({src:i,async:!0},s),(s=ci.get(m))&&Nm(i,s),v=o.createElement("script"),$t(v),Jn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function ot(i,s){ws.M(i,s);var o=Kr;if(o&&i){var f=Aa(o).hoistableScripts,m=sl(i),v=f.get(m);v||(v=o.querySelector(al(m)),v||(i=k({src:i,async:!0,type:"module"},s),(s=ci.get(m))&&Nm(i,s),v=o.createElement("script"),$t(v),Jn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function Pm(i,s,o,f){var m=(m=Pt.current)?ch(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ei(o.href),o=Aa(m).hoistableStyles,f=o.get(s),f||(f={type:"style",instance:null,count:0,state:null},o.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ei(o.href);var v=Aa(m).hoistableStyles,b=v.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,b),(v=m.querySelector(rl(i)))&&!v._p&&(b.instance=v,b.state.loading=5),ci.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ci.set(i,o),v||Bt(m,i,o,b.state))),s&&f===null)throw Error(r(528,""));return b}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sl(o),o=Aa(m).hoistableScripts,f=o.get(s),f||(f={type:"script",instance:null,count:0,state:null},o.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ei(i){return'href="'+rn(i)+'"'}function rl(i){return'link[rel="stylesheet"]['+i+"]"}function py(i){return k({},i,{"data-precedence":i.precedence,precedence:null})}function Bt(i,s,o,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Jn(s,"link",o),$t(s),i.head.appendChild(s))}function sl(i){return'[src="'+rn(i)+'"]'}function al(i){return"script[async]"+i}function Dc(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+rn(o.href)+'"]');if(f)return s.instance=f,$t(f),f;var m=k({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),$t(f),Jn(f,"style",m),hh(f,o.precedence,i),s.instance=f;case"stylesheet":m=ei(o.href);var v=i.querySelector(rl(m));if(v)return s.state.loading|=4,s.instance=v,$t(v),v;f=py(o),(m=ci.get(m))&&Vm(f,m),v=(i.ownerDocument||i).createElement("link"),$t(v);var b=v;return b._p=new Promise(function(M,z){b.onload=M,b.onerror=z}),Jn(v,"link",f),s.state.loading|=4,hh(v,o.precedence,i),s.instance=v;case"script":return v=sl(o.src),(m=i.querySelector(al(v)))?(s.instance=m,$t(m),m):(f=o,(m=ci.get(v))&&(f=k({},o),Nm(f,m)),i=i.ownerDocument||i,m=i.createElement("script"),$t(m),Jn(m,"link",f),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(f=s.instance,s.state.loading|=4,hh(f,o.precedence,i));return s.instance}function hh(i,s,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,v=m,b=0;b<f.length;b++){var M=f[b];if(M.dataset.precedence===s)v=M;else if(v!==m)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Vm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Nm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var dh=null;function gy(i,s,o){if(dh===null){var f=new Map,m=dh=new Map;m.set(o,f)}else m=dh,f=m.get(o),f||(f=new Map,m.set(o,f));if(f.has(i))return f;for(f.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var v=o[m];if(!(v[Ea]||v[Bn]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var b=v.getAttribute(s)||"";b=i+b;var M=f.get(b);M?M.push(v):f.set(b,[v])}}return f}function yy(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function Uv(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _y(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var Mc=null;function kv(){}function Bv(i,s,o){if(Mc===null)throw Error(r(475));var f=Mc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var m=ei(o.href),v=i.querySelector(rl(m));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=mh.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=v,$t(v);return}v=i.ownerDocument||i,o=py(o),(m=ci.get(m))&&Vm(o,m),v=v.createElement("link"),$t(v);var b=v;b._p=new Promise(function(M,z){b.onload=M,b.onerror=z}),Jn(v,"link",o),s.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&!(s.state.loading&3)&&(f.count++,s=mh.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function zv(){if(Mc===null)throw Error(r(475));var i=Mc;return i.stylesheets&&i.count===0&&Lm(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Lm(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ol=null;function Lm(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ol=new Map,s.forEach(Um,i),ol=null,mh.call(i))}function Um(i,s){if(!(s.state.loading&4)){var o=ol.get(i);if(o)var f=o.get(null);else{o=new Map,ol.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var b=m[v];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),f=b)}f&&o.set(null,f)}m=s.instance,b=m.getAttribute("data-precedence"),v=o.get(b)||f,v===f&&o.set(null,m),o.set(b,m),this.count++,f=mh.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),v?v.parentNode.insertBefore(m,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Oc={$$typeof:N,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function Fv(i,s,o,f,m,v,b,M){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.hiddenUpdates=hu(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function vy(i,s,o,f,m,v,b,M,z,Y,fe,Te){return i=new Fv(i,s,o,b,M,z,Y,Te),s=1,v===!0&&(s|=24),v=Ji(3,null,null,s),i.current=v,v.stateNode=i,s=pd(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:f,isDehydrated:o,cache:s},fc(v),i}function Pn(i){return i?(i=Io,i):Io}function Ti(i,s,o,f,m,v){m=Pn(m),f.context===null?f.context=m:f.pendingContext=m,f=Fr(s),f.payload={element:o},v=v===void 0?null:v,v!==null&&(f.callback=v),o=Yi(i,f,s),o!==null&&(li(o,i,s),Fe(o,i,s))}function Ty(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function km(i,s){Ty(i,s),(i=i.alternate)&&Ty(i,s)}function Ey(i){if(i.tag===13){var s=Pr(i,67108864);s!==null&&li(s,i,67108864),km(i,67108864)}}var Pc=!0;function Hv(i,s,o,f){var m=O.T;O.T=null;var v=ve.p;try{ve.p=2,Bm(i,s,o,f)}finally{ve.p=v,O.T=m}}function qv(i,s,o,f){var m=O.T;O.T=null;var v=ve.p;try{ve.p=8,Bm(i,s,o,f)}finally{ve.p=v,O.T=m}}function Bm(i,s,o,f){if(Pc){var m=ph(f);if(m===null)bm(i,s,f,gh,o),wy(i,f);else if(Gv(m,i,s,o,f))f.stopPropagation();else if(wy(i,f),s&4&&-1<jv.indexOf(i)){for(;m!==null;){var v=Ms(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var b=Rr(v.pendingLanes);if(b!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;b;){var z=1<<31-Wn(b);M.entanglements[1]|=z,b&=~z}jr(v),!(an&6)&&(Jf=$n()+500,Ko(0))}}break;case 13:M=Pr(v,2),M!==null&&li(M,v,2),th(),km(v,2)}if(v=ph(f),v===null&&bm(i,s,f,gh,o),v===m)break;m=v}m!==null&&f.stopPropagation()}else bm(i,s,f,null,o)}}function ph(i){return i=vu(i),zm(i)}var gh=null;function zm(i){if(gh=null,i=Cr(i),i!==null){var s=Me(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=mt(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return gh=i,null}function Ay(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zr()){case fn:return 2;case Zt:return 8;case ii:case Cs:return 32;case Jr:return 268435456;default:return 32}default:return 32}}var yh=!1,ca=null,Xa=null,Za=null,Vc=new Map,Nc=new Map,ir=[],jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wy(i,s){switch(i){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":Vc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(s.pointerId)}}function Lc(i,s,o,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:o,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},s!==null&&(s=Ms(s),s!==null&&Ey(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function Gv(i,s,o,f,m){switch(s){case"focusin":return ca=Lc(ca,i,s,o,f,m),!0;case"dragenter":return Xa=Lc(Xa,i,s,o,f,m),!0;case"mouseover":return Za=Lc(Za,i,s,o,f,m),!0;case"pointerover":var v=m.pointerId;return Vc.set(v,Lc(Vc.get(v)||null,i,s,o,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Nc.set(v,Lc(Nc.get(v)||null,i,s,o,f,m)),!0}return!1}function Sy(i){var s=Cr(i.target);if(s!==null){var o=Me(s);if(o!==null){if(s=o.tag,s===13){if(s=mt(o),s!==null){i.blockedOn=s,Ta(i.priority,function(){if(o.tag===13){var f=tr(),m=Pr(o,f);m!==null&&li(m,o,f),km(o,f)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Uc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=ph(i.nativeEvent);if(o===null){o=i.nativeEvent;var f=new o.constructor(o.type,o);cr=f,o.target.dispatchEvent(f),cr=null}else return s=Ms(o),s!==null&&Ey(s),i.blockedOn=o,!1;s.shift()}return!0}function Fm(i,s,o){Uc(i)&&o.delete(s)}function Kv(){yh=!1,ca!==null&&Uc(ca)&&(ca=null),Xa!==null&&Uc(Xa)&&(Xa=null),Za!==null&&Uc(Za)&&(Za=null),Vc.forEach(Fm),Nc.forEach(Fm)}function _h(i,s){i.blockedOn===s&&(i.blockedOn=null,yh||(yh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Kv)))}var vh=null;function by(i){vh!==i&&(vh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){vh===i&&(vh=null);for(var s=0;s<i.length;s+=3){var o=i[s],f=i[s+1],m=i[s+2];if(typeof f!="function"){if(zm(f||o)===null)continue;break}var v=Ms(o);v!==null&&(i.splice(s,3),s-=3,rc(v,{pending:!0,data:m,method:o.method,action:f},f,m))}}))}function kc(i){function s(z){return _h(z,i)}ca!==null&&_h(ca,i),Xa!==null&&_h(Xa,i),Za!==null&&_h(Za,i),Vc.forEach(s),Nc.forEach(s);for(var o=0;o<ir.length;o++){var f=ir[o];f.blockedOn===i&&(f.blockedOn=null)}for(;0<ir.length&&(o=ir[0],o.blockedOn===null);)Sy(o),o.blockedOn===null&&ir.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var m=o[f],v=o[f+1],b=m[In]||null;if(typeof v=="function")b||by(o);else if(b){var M=null;if(v&&v.hasAttribute("formAction")){if(m=v,b=v[In]||null)M=b.formAction;else if(zm(m)!==null)continue}else M=b.action;typeof M=="function"?o[f+1]=M:(o.splice(f,3),f-=3),by(o)}}}function Hm(i){this._internalRoot=i}Th.prototype.render=Hm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,f=tr();Ti(o,f,i,s,null,null)},Th.prototype.unmount=Hm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&oa(),Ti(i.current,2,null,i,null,null),th(),s[Ds]=null}};function Th(i){this._internalRoot=i}Th.prototype.unstable_scheduleHydration=function(i){if(i){var s=af();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ir.length&&s!==0&&s<ir[o].priority;o++);ir.splice(o,0,i),o===0&&Sy(i)}};var Ry=e.version;if(Ry!=="19.0.0")throw Error(r(527,Ry,"19.0.0"));ve.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=L(s),i=i!==null?ge(i):null,i=i===null?null:i.stateNode,i};var $v={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:Cr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{or=Eh.inject($v),kn=Eh}catch{}}return jm.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,f="",m=ea,v=Ag,b=ta,M=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks)),s=vy(i,1,!1,null,null,o,f,m,v,b,M,null),i[Ds]=s.current,Sm(i.nodeType===8?i.parentNode:i),new Hm(s)},jm.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var f=!1,m="",v=ea,b=Ag,M=ta,z=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=vy(i,1,!0,s,o??null,f,m,v,b,M,z,Y),s.context=Pn(null),o=s.current,f=tr(),m=Fr(f),m.callback=null,Yi(o,m,f),s.current.lanes=f,yn(s,f),jr(s),i[Ds]=s.current,Sm(i),new Th(s)},jm.version="19.0.0",jm}var gA;function Ex(){if(gA)return t0.exports;gA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),t0.exports=Tx(),t0.exports}var Ax=Ex();const wx=fb(Ax);var Gm={},yA;function Sx(){if(yA)return Gm;yA=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.parse=h,Gm.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function h(C,N){const U=new l,j=C.length;if(j<2)return U;const B=(N==null?void 0:N.decode)||A;let $=0;do{const re=C.indexOf("=",$);if(re===-1)break;const ne=C.indexOf(";",$),Ae=ne===-1?j:ne;if(re>Ae){$=C.lastIndexOf(";",re-1)+1;continue}const ce=p(C,$,re),be=y(C,re,ce),q=C.slice(ce,be);if(U[q]===void 0){let D=p(C,re+1,Ae),O=y(C,Ae,D);const k=B(C.slice(D,O));U[q]=k}$=Ae+1}while($<j);return U}function p(C,N,U){do{const j=C.charCodeAt(N);if(j!==32&&j!==9)return N}while(++N<U);return U}function y(C,N,U){for(;N>U;){const j=C.charCodeAt(--N);if(j!==32&&j!==9)return N+1}return U}function _(C,N,U){const j=(U==null?void 0:U.encode)||encodeURIComponent;if(!n.test(C))throw new TypeError(`argument name is invalid: ${C}`);const B=j(N);if(!e.test(B))throw new TypeError(`argument val is invalid: ${N}`);let $=C+"="+B;if(!U)return $;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);$+="; Max-Age="+U.maxAge}if(U.domain){if(!t.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);$+="; Domain="+U.domain}if(U.path){if(!r.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);$+="; Path="+U.path}if(U.expires){if(!w(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);$+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&($+="; HttpOnly"),U.secure&&($+="; Secure"),U.partitioned&&($+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return $}function A(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function w(C){return a.call(C)==="[object Date]"}return Gm}Sx();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _A="popstate";function bx(n={}){function e(a,l){let{pathname:h="/",search:p="",hash:y=""}=Xc(a.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),D0("",{pathname:h,search:p,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let h=a.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let y=a.location.href,_=y.indexOf("#");p=_===-1?y:y.slice(0,_)}return p+"#"+(typeof l=="string"?l:fp(l))}function r(a,l){pa(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Cx(e,t,r,n)}function An(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pa(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rx(){return Math.random().toString(36).substring(2,10)}function vA(n,e){return{usr:n.state,key:n.key,idx:e}}function D0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xc(e):e,state:t,key:e&&e.key||r||Rx()}}function fp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Cx(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,h=a.history,p="POP",y=null,_=A();_==null&&(_=0,h.replaceState({...h.state,idx:_},""));function A(){return(h.state||{idx:null}).idx}function w(){p="POP";let B=A(),$=B==null?null:B-_;_=B,y&&y({action:p,location:j.location,delta:$})}function C(B,$){p="PUSH";let re=D0(j.location,B,$);t&&t(re,B),_=A()+1;let ne=vA(re,_),Ae=j.createHref(re);try{h.pushState(ne,"",Ae)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;a.location.assign(Ae)}l&&y&&y({action:p,location:j.location,delta:1})}function N(B,$){p="REPLACE";let re=D0(j.location,B,$);t&&t(re,B),_=A();let ne=vA(re,_),Ae=j.createHref(re);h.replaceState(ne,"",Ae),l&&y&&y({action:p,location:j.location,delta:0})}function U(B){let $=a.location.origin!=="null"?a.location.origin:a.location.href,re=typeof B=="string"?B:fp(B);return re=re.replace(/ $/,"%20"),An($,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,$)}let j={get action(){return p},get location(){return n(a,h)},listen(B){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(_A,w),y=B,()=>{a.removeEventListener(_A,w),y=null}},createHref(B){return e(a,B)},createURL:U,encodeLocation(B){let $=U(B);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:C,replace:N,go(B){return h.go(B)}};return j}function hb(n,e,t="/"){return Ix(n,e,t,!1)}function Ix(n,e,t,r){let a=typeof e=="string"?Xc(e):e,l=Tl(a.pathname||"/",t);if(l==null)return null;let h=db(n);xx(h);let p=null;for(let y=0;p==null&&y<h.length;++y){let _=zx(l);p=kx(h[y],_,r)}return p}function db(n,e=[],t=[],r=""){let a=(l,h,p)=>{let y={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};y.relativePath.startsWith("/")&&(An(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length));let _=Zo([r,y.relativePath]),A=t.concat(y);l.children&&l.children.length>0&&(An(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),db(l.children,e,A,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:Lx(_,l.index),routesMeta:A})};return n.forEach((l,h)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))a(l,h);else for(let y of mb(l.path))a(l,h,y)}),e}function mb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let h=mb(r.join("/")),p=[];return p.push(...h.map(y=>y===""?l:[l,y].join("/"))),a&&p.push(...h),p.map(y=>n.startsWith("/")&&y===""?"/":y)}function xx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Ux(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Dx=/^:[\w-]+$/,Mx=3,Ox=2,Px=1,Vx=10,Nx=-2,TA=n=>n==="*";function Lx(n,e){let t=n.split("/"),r=t.length;return t.some(TA)&&(r+=Nx),e&&(r+=Ox),t.filter(a=>!TA(a)).reduce((a,l)=>a+(Dx.test(l)?Mx:l===""?Px:Vx),r)}function Ux(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function kx(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",h=[];for(let p=0;p<r.length;++p){let y=r[p],_=p===r.length-1,A=l==="/"?e:e.slice(l.length)||"/",w=e_({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},A),C=y.route;if(!w&&_&&t&&!r[r.length-1].route.index&&(w=e_({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},A)),!w)return null;Object.assign(a,w.params),h.push({params:a,pathname:Zo([l,w.pathname]),pathnameBase:jx(Zo([l,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(l=Zo([l,w.pathnameBase]))}return h}function e_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Bx(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],h=l.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:r.reduce((_,{paramName:A,isOptional:w},C)=>{if(A==="*"){let U=p[C]||"";h=l.slice(0,l.length-U.length).replace(/(.)\/+$/,"$1")}const N=p[C];return w&&!N?_[A]=void 0:_[A]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:h,pattern:n}}function Bx(n,e=!1,t=!0){pa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,y)=>(r.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function zx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pa(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Tl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Fx(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Xc(n):n;return{pathname:t?t.startsWith("/")?t:Hx(t,e):e,search:Gx(r),hash:Kx(a)}}function Hx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function s0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pb(n){let e=qx(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function gb(n,e,t,r=!1){let a;typeof n=="string"?a=Xc(n):(a={...n},An(!a.pathname||!a.pathname.includes("?"),s0("?","pathname","search",a)),An(!a.pathname||!a.pathname.includes("#"),s0("#","pathname","hash",a)),An(!a.search||!a.search.includes("#"),s0("#","search","hash",a)));let l=n===""||a.pathname==="",h=l?"/":a.pathname,p;if(h==null)p=t;else{let w=e.length-1;if(!r&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),w-=1;a.pathname=C.join("/")}p=w>=0?e[w]:"/"}let y=Fx(a,p),_=h&&h!=="/"&&h.endsWith("/"),A=(l||h===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(_||A)&&(y.pathname+="/"),y}var Zo=n=>n.join("/").replace(/\/\/+/g,"/"),jx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Gx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Kx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $x(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yb=["POST","PUT","PATCH","DELETE"];new Set(yb);var Wx=["GET",...yb];new Set(Wx);var Wh=X.createContext(null);Wh.displayName="DataRouter";var C_=X.createContext(null);C_.displayName="DataRouterState";var _b=X.createContext({isTransitioning:!1});_b.displayName="ViewTransition";var Yx=X.createContext(new Map);Yx.displayName="Fetchers";var Qx=X.createContext(null);Qx.displayName="Await";var lo=X.createContext(null);lo.displayName="Navigation";var Ip=X.createContext(null);Ip.displayName="Location";var uu=X.createContext({outlet:null,matches:[],isDataRoute:!1});uu.displayName="Route";var ET=X.createContext(null);ET.displayName="RouteError";function Xx(n,{relative:e}={}){An(xp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=X.useContext(lo),{hash:a,pathname:l,search:h}=Dp(n,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Zo([t,l])),r.createHref({pathname:p,search:h,hash:a})}function xp(){return X.useContext(Ip)!=null}function Zc(){return An(xp(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Ip).location}var vb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tb(n){X.useContext(lo).static||X.useLayoutEffect(n)}function I_(){let{isDataRoute:n}=X.useContext(uu);return n?cD():Zx()}function Zx(){An(xp(),"useNavigate() may be used only in the context of a <Router> component.");let n=X.useContext(Wh),{basename:e,navigator:t}=X.useContext(lo),{matches:r}=X.useContext(uu),{pathname:a}=Zc(),l=JSON.stringify(pb(r)),h=X.useRef(!1);return Tb(()=>{h.current=!0}),X.useCallback((y,_={})=>{if(pa(h.current,vb),!h.current)return;if(typeof y=="number"){t.go(y);return}let A=gb(y,JSON.parse(l),a,_.relative==="path");n==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Zo([e,A.pathname])),(_.replace?t.replace:t.push)(A,_.state,_)},[e,t,l,a,n])}X.createContext(null);function Dp(n,{relative:e}={}){let{matches:t}=X.useContext(uu),{pathname:r}=Zc(),a=JSON.stringify(pb(t));return X.useMemo(()=>gb(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function Jx(n,e){return Eb(n,e)}function Eb(n,e,t,r){var re;An(xp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=X.useContext(lo),{matches:h}=X.useContext(uu),p=h[h.length-1],y=p?p.params:{},_=p?p.pathname:"/",A=p?p.pathnameBase:"/",w=p&&p.route;{let ne=w&&w.path||"";Ab(_,!w||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let C=Zc(),N;if(e){let ne=typeof e=="string"?Xc(e):e;An(A==="/"||((re=ne.pathname)==null?void 0:re.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),N=ne}else N=C;let U=N.pathname||"/",j=U;if(A!=="/"){let ne=A.replace(/^\//,"").split("/");j="/"+U.replace(/^\//,"").split("/").slice(ne.length).join("/")}let B=!l&&t&&t.matches&&t.matches.length>0?t.matches:hb(n,{pathname:j});pa(w||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),pa(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=rD(B&&B.map(ne=>Object.assign({},ne,{params:Object.assign({},y,ne.params),pathname:Zo([A,a.encodeLocation?a.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?A:Zo([A,a.encodeLocation?a.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),h,t,r);return e&&$?X.createElement(Ip.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},$):$}function eD(){let n=lD(),e=$x(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:l},"ErrorBoundary")," or"," ",X.createElement("code",{style:l},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:a},t):null,h)}var tD=X.createElement(eD,null),nD=class extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?X.createElement(uu.Provider,{value:this.props.routeContext},X.createElement(ET.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iD({routeContext:n,match:e,children:t}){let r=X.useContext(Wh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(uu.Provider,{value:n},t)}function rD(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let y=a.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);An(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let h=!1,p=-1;if(t)for(let y=0;y<a.length;y++){let _=a[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:A,errors:w}=t,C=_.route.loader&&!A.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||C){h=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((y,_,A)=>{let w,C=!1,N=null,U=null;t&&(w=l&&_.route.id?l[_.route.id]:void 0,N=_.route.errorElement||tD,h&&(p<0&&A===0?(Ab("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,U=null):p===A&&(C=!0,U=_.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,A+1)),B=()=>{let $;return w?$=N:C?$=U:_.route.Component?$=X.createElement(_.route.Component,null):_.route.element?$=_.route.element:$=y,X.createElement(iD,{match:_,routeContext:{outlet:y,matches:j,isDataRoute:t!=null},children:$})};return t&&(_.route.ErrorBoundary||_.route.errorElement||A===0)?X.createElement(nD,{location:t.location,revalidation:t.revalidation,component:N,error:w,children:B(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):B()},null)}function AT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sD(n){let e=X.useContext(Wh);return An(e,AT(n)),e}function aD(n){let e=X.useContext(C_);return An(e,AT(n)),e}function oD(n){let e=X.useContext(uu);return An(e,AT(n)),e}function wT(n){let e=oD(n),t=e.matches[e.matches.length-1];return An(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function uD(){return wT("useRouteId")}function lD(){var r;let n=X.useContext(ET),e=aD("useRouteError"),t=wT("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function cD(){let{router:n}=sD("useNavigate"),e=wT("useNavigate"),t=X.useRef(!1);return Tb(()=>{t.current=!0}),X.useCallback(async(a,l={})=>{pa(t.current,vb),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var EA={};function Ab(n,e,t){!e&&!EA[n]&&(EA[n]=!0,pa(!1,t))}X.memo(fD);function fD({routes:n,future:e,state:t}){return Eb(n,void 0,t,e)}function Ah(n){An(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hD({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){An(!xp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=X.useMemo(()=>({basename:h,navigator:a,static:l,future:{}}),[h,a,l]);typeof t=="string"&&(t=Xc(t));let{pathname:y="/",search:_="",hash:A="",state:w=null,key:C="default"}=t,N=X.useMemo(()=>{let U=Tl(y,h);return U==null?null:{location:{pathname:U,search:_,hash:A,state:w,key:C},navigationType:r}},[h,y,_,A,w,C,r]);return pa(N!=null,`<Router basename="${h}"> is not able to match the URL "${y}${_}${A}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:X.createElement(lo.Provider,{value:p},X.createElement(Ip.Provider,{children:e,value:N}))}function dD({children:n,location:e}){return Jx(M0(n),e)}function M0(n,e=[]){let t=[];return X.Children.forEach(n,(r,a)=>{if(!X.isValidElement(r))return;let l=[...e,a];if(r.type===X.Fragment){t.push.apply(t,M0(r.props.children,l));return}An(r.type===Ah,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),An(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=M0(r.props.children,l)),t.push(h)}),t}var By="get",zy="application/x-www-form-urlencoded";function x_(n){return n!=null&&typeof n.tagName=="string"}function mD(n){return x_(n)&&n.tagName.toLowerCase()==="button"}function pD(n){return x_(n)&&n.tagName.toLowerCase()==="form"}function gD(n){return x_(n)&&n.tagName.toLowerCase()==="input"}function yD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _D(n,e){return n.button===0&&(!e||e==="_self")&&!yD(n)}var Iy=null;function vD(){if(Iy===null)try{new FormData(document.createElement("form"),0),Iy=!1}catch{Iy=!0}return Iy}var TD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a0(n){return n!=null&&!TD.has(n)?(pa(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zy}"`),null):n}function ED(n,e){let t,r,a,l,h;if(pD(n)){let p=n.getAttribute("action");r=p?Tl(p,e):null,t=n.getAttribute("method")||By,a=a0(n.getAttribute("enctype"))||zy,l=new FormData(n)}else if(mD(n)||gD(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||p.getAttribute("action");if(r=y?Tl(y,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||By,a=a0(n.getAttribute("formenctype"))||a0(p.getAttribute("enctype"))||zy,l=new FormData(p,n),!vD()){let{name:_,type:A,value:w}=n;if(A==="image"){let C=_?`${_}.`:"";l.append(`${C}x`,"0"),l.append(`${C}y`,"0")}else _&&l.append(_,w)}}else{if(x_(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=By,r=null,a=zy,h=n}return l&&a==="text/plain"&&(h=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:h}}function ST(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function AD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SD(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let h=await AD(l,t);return h.links?h.links():[]}return[]}));return ID(r.flat(1).filter(wD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function AA(n,e,t,r,a,l){let h=(y,_)=>t[_]?y.route.id!==t[_].route.id:!0,p=(y,_)=>{var A;return t[_].pathname!==y.pathname||((A=t[_].route.path)==null?void 0:A.endsWith("*"))&&t[_].params["*"]!==y.params["*"]};return l==="assets"?e.filter((y,_)=>h(y,_)||p(y,_)):l==="data"?e.filter((y,_)=>{var w;let A=r.routes[y.route.id];if(!A||!A.hasLoader)return!1;if(h(y,_)||p(y,_))return!0;if(y.route.shouldRevalidate){let C=y.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function bD(n,e){return RD(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function RD(n){return[...new Set(n)]}function CD(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function ID(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(CD(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function xD(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function DD(){let n=X.useContext(Wh);return ST(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MD(){let n=X.useContext(C_);return ST(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var bT=X.createContext(void 0);bT.displayName="FrameworkContext";function wb(){let n=X.useContext(bT);return ST(n,"You must render this element inside a <HydratedRouter> element"),n}function OD(n,e){let t=X.useContext(bT),[r,a]=X.useState(!1),[l,h]=X.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:_,onMouseLeave:A,onTouchStart:w}=e,C=X.useRef(null);X.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let j=$=>{$.forEach(re=>{h(re.isIntersecting)})},B=new IntersectionObserver(j,{threshold:.5});return C.current&&B.observe(C.current),()=>{B.disconnect()}}},[n]),X.useEffect(()=>{if(r){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[r]);let N=()=>{a(!0)},U=()=>{a(!1),h(!1)};return t?n!=="intent"?[l,C,{}]:[l,C,{onFocus:Km(p,N),onBlur:Km(y,U),onMouseEnter:Km(_,N),onMouseLeave:Km(A,U),onTouchStart:Km(w,N)}]:[!1,C,{}]}function Km(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function PD({page:n,...e}){let{router:t}=DD(),r=X.useMemo(()=>hb(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?X.createElement(ND,{page:n,matches:r,...e}):null}function VD(n){let{manifest:e,routeModules:t}=wb(),[r,a]=X.useState([]);return X.useEffect(()=>{let l=!1;return SD(n,e,t).then(h=>{l||a(h)}),()=>{l=!0}},[n,e,t]),r}function ND({page:n,matches:e,...t}){let r=Zc(),{manifest:a,routeModules:l}=wb(),{loaderData:h,matches:p}=MD(),y=X.useMemo(()=>AA(n,e,p,a,r,"data"),[n,e,p,a,r]),_=X.useMemo(()=>AA(n,e,p,a,r,"assets"),[n,e,p,a,r]),A=X.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,U=!1;if(e.forEach(B=>{var re;let $=a.routes[B.route.id];!$||!$.hasLoader||(!y.some(ne=>ne.route.id===B.route.id)&&B.route.id in h&&((re=l[B.route.id])!=null&&re.shouldRevalidate)||$.hasClientLoader?U=!0:N.add(B.route.id))}),N.size===0)return[];let j=xD(n);return U&&N.size>0&&j.searchParams.set("_routes",e.filter(B=>N.has(B.route.id)).map(B=>B.route.id).join(",")),[j.pathname+j.search]},[h,r,a,y,e,n,l]),w=X.useMemo(()=>bD(_,a),[_,a]),C=VD(_);return X.createElement(X.Fragment,null,A.map(N=>X.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),w.map(N=>X.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),C.map(({key:N,link:U})=>X.createElement("link",{key:N,...U})))}function LD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Sb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sb&&(window.__reactRouterVersion="7.1.5")}catch{}function UD({basename:n,children:e,window:t}){let r=X.useRef();r.current==null&&(r.current=bx({window:t,v5Compat:!0}));let a=r.current,[l,h]=X.useState({action:a.action,location:a.location}),p=X.useCallback(y=>{X.startTransition(()=>h(y))},[h]);return X.useLayoutEffect(()=>a.listen(p),[a,p]),X.createElement(hD,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ml=X.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:h,state:p,target:y,to:_,preventScrollReset:A,viewTransition:w,...C},N){let{basename:U}=X.useContext(lo),j=typeof _=="string"&&bb.test(_),B,$=!1;if(typeof _=="string"&&j&&(B=_,Sb))try{let O=new URL(window.location.href),k=_.startsWith("//")?new URL(O.protocol+_):new URL(_),G=Tl(k.pathname,U);k.origin===O.origin&&G!=null?_=G+k.search+k.hash:$=!0}catch{pa(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Xx(_,{relative:a}),[ne,Ae,ce]=OD(r,C),be=FD(_,{replace:h,state:p,target:y,preventScrollReset:A,relative:a,viewTransition:w});function q(O){e&&e(O),O.defaultPrevented||be(O)}let D=X.createElement("a",{...C,...ce,href:B||re,onClick:$||l?e:q,ref:LD(N,Ae),target:y,"data-discover":!j&&t==="render"?"true":void 0});return ne&&!j?X.createElement(X.Fragment,null,D,X.createElement(PD,{page:re})):D});ml.displayName="Link";var kD=X.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:h,viewTransition:p,children:y,..._},A){let w=Dp(h,{relative:_.relative}),C=Zc(),N=X.useContext(C_),{navigator:U,basename:j}=X.useContext(lo),B=N!=null&&KD(w)&&p===!0,$=U.encodeLocation?U.encodeLocation(w).pathname:w.pathname,re=C.pathname,ne=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(re=re.toLowerCase(),ne=ne?ne.toLowerCase():null,$=$.toLowerCase()),ne&&j&&(ne=Tl(ne,j)||ne);const Ae=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ce=re===$||!a&&re.startsWith($)&&re.charAt(Ae)==="/",be=ne!=null&&(ne===$||!a&&ne.startsWith($)&&ne.charAt($.length)==="/"),q={isActive:ce,isPending:be,isTransitioning:B},D=ce?e:void 0,O;typeof r=="function"?O=r(q):O=[r,ce?"active":null,be?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(q):l;return X.createElement(ml,{..._,"aria-current":D,className:O,ref:A,style:k,to:h,viewTransition:p},typeof y=="function"?y(q):y)});kD.displayName="NavLink";var BD=X.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:h=By,action:p,onSubmit:y,relative:_,preventScrollReset:A,viewTransition:w,...C},N)=>{let U=jD(),j=GD(p,{relative:_}),B=h.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&bb.test(p),re=ne=>{if(y&&y(ne),ne.defaultPrevented)return;ne.preventDefault();let Ae=ne.nativeEvent.submitter,ce=(Ae==null?void 0:Ae.getAttribute("formmethod"))||h;U(Ae||ne.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:a,state:l,relative:_,preventScrollReset:A,viewTransition:w})};return X.createElement("form",{ref:N,method:B,action:j,onSubmit:r?y:re,...C,"data-discover":!$&&n==="render"?"true":void 0})});BD.displayName="Form";function zD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rb(n){let e=X.useContext(Wh);return An(e,zD(n)),e}function FD(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:h}={}){let p=I_(),y=Zc(),_=Dp(n,{relative:l});return X.useCallback(A=>{if(_D(A,e)){A.preventDefault();let w=t!==void 0?t:fp(y)===fp(_);p(n,{replace:w,state:r,preventScrollReset:a,relative:l,viewTransition:h})}},[y,p,_,t,r,e,n,a,l,h])}var HD=0,qD=()=>`__${String(++HD)}__`;function jD(){let{router:n}=Rb("useSubmit"),{basename:e}=X.useContext(lo),t=uD();return X.useCallback(async(r,a={})=>{let{action:l,method:h,encType:p,formData:y,body:_}=ED(r,e);if(a.navigate===!1){let A=a.fetcherKey||qD();await n.fetch(A,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||h,formEncType:a.encType||p,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:y,body:_,formMethod:a.method||h,formEncType:a.encType||p,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function GD(n,{relative:e}={}){let{basename:t}=X.useContext(lo),r=X.useContext(uu);An(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Dp(n||".",{relative:e})},h=Zc();if(n==null){l.search=h.search;let p=new URLSearchParams(l.search),y=p.getAll("index");if(y.some(A=>A==="")){p.delete("index"),y.filter(w=>w).forEach(w=>p.append("index",w));let A=p.toString();l.search=A?`?${A}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Zo([t,l.pathname])),fp(l)}function KD(n,e={}){let t=X.useContext(_b);An(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Rb("useViewTransitionState"),a=Dp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Tl(t.currentLocation.pathname,r)||t.currentLocation.pathname,h=Tl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return e_(a.pathname,h)!=null||e_(a.pathname,l)!=null}new TextEncoder;const $D=[{top:"5%",left:"15%"},{top:"25%",left:"70%"},{top:"65%",left:"75%"},{top:"70%",left:"15%"},{top:"25%",left:"30%"}],WD=()=>{const[n,e]=X.useState(!0);return X.useEffect(()=>{const t=setTimeout(()=>e(!1),100);return()=>clearTimeout(t)},[]),n?Ie.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-900",children:Ie.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})}):Ie.jsxs("div",{className:"relative h-full flex flex-col items-center justify-center bg-gray-900 text-white overflow-hidden",children:[Ie.jsx("div",{className:"absolute z-50 text-center flex flex-col items-center",children:Ie.jsxs(ml,{to:"/PCoin/profile",className:"transition-transform transform hover:scale-110 hover:shadow-black hover:shadow-md p-4 rounded-lg",children:[Ie.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold",children:"Добро пожаловать в PencilCoin"}),Ie.jsx("p",{className:"mt-2 text-lg md:text-xl",children:"Играй и зарабатывай с нашей криптовалютой!"})]})}),Ie.jsx("div",{className:"absolute w-full h-full",children:$D.map((t,r)=>Ie.jsx("img",{src:r<3?"toncoin.png":"graf1.png",alt:"Крипто",className:"absolute object-contain opacity-80 transition-transform duration-500 z-10 animate-scale",style:{top:t.top,left:t.left,width:"min(15vw, 15vh)",height:"min(15vw, 15vh)"}},r))}),Ie.jsx("div",{className:"absolute w-full h-full overflow-hidden pointer-events-none",children:[...Array(20)].map((t,r)=>Ie.jsx("div",{className:"absolute w-32 h-32 bg-blue-500 opacity-30 blur-3xl rounded-full animate-pulse z-1",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`}},r))})]})};var wA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},YD=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],h=n[t++],p=n[t++],y=((a&7)<<18|(l&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const l=n[t++],h=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],h=a+1<n.length,p=h?n[a+1]:0,y=a+2<n.length,_=y?n[a+2]:0,A=l>>2,w=(l&3)<<4|p>>4;let C=(p&15)<<2|_>>6,N=_&63;y||(N=64,h||(C=64)),r.push(t[A],t[w],t[C],t[N])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Cb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],p=a<n.length?t[n.charAt(a)]:0;++a;const _=a<n.length?t[n.charAt(a)]:64;++a;const w=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||p==null||_==null||w==null)throw new QD;const C=l<<2|p>>4;if(r.push(C),_!==64){const N=p<<4&240|_>>2;if(r.push(N),w!==64){const U=_<<6&192|w;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XD=function(n){const e=Cb(n);return Ib.encodeByteArray(e,!0)},t_=function(n){return XD(n).replace(/\./g,"")},xb=function(n){try{return Ib.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=()=>ZD().__FIREBASE_DEFAULTS__,eM=()=>{if(typeof process>"u"||typeof wA>"u")return;const n=wA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xb(n[1]);return e&&JSON.parse(e)},D_=()=>{try{return JD()||eM()||tM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Db=n=>{var e,t;return(t=(e=D_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},nM=n=>{const e=Db(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Mb=()=>{var n;return(n=D_())===null||n===void 0?void 0:n.config},Ob=n=>{var e;return(e=D_())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[t_(JSON.stringify(t)),t_(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zi())}function aM(){var n;const e=(n=D_())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cM(){const n=zi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fM(){return!aM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hM(){try{return typeof indexedDB=="object"}catch{return!1}}function dM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="FirebaseError";class lu extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=mM,Object.setPrototypeOf(this,lu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mp.prototype.create)}}class Mp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],h=l?pM(l,r):"Error",p=`${this.serviceName}: ${h} (${a}).`;return new lu(a,p,r)}}function pM(n,e){return n.replace(gM,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const gM=/\{\$([^}]+)}/g;function yM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function n_(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],h=e[a];if(SA(l)&&SA(h)){if(!n_(l,h))return!1}else if(l!==h)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function SA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _M(n,e){const t=new vM(n,e);return t.subscribe.bind(t)}class vM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");TM(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=o0),a.error===void 0&&(a.error=o0),a.complete===void 0&&(a.complete=o0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function o0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(n){return n&&n._delegate?n._delegate:n}class $c{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new iM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wM(e))try{this.getOrInitializeService({instanceIdentifier:zc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=zc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zc){return this.instances.has(e)}getOptions(e=zc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);r===p&&h.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&e(h,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zc){return this.component?this.component.multipleInstances?e:zc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AM(n){return n===zc?void 0:n}function wM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new EM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Rt||(Rt={}));const bM={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},RM=Rt.INFO,CM={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},IM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=CM[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class RT{constructor(e){this.name=e,this._logLevel=RM,this._logHandler=IM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const xM=(n,e)=>e.some(t=>n instanceof t);let bA,RA;function DM(){return bA||(bA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MM(){return RA||(RA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,O0=new WeakMap,Vb=new WeakMap,u0=new WeakMap,CT=new WeakMap;function OM(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(pl(n.result)),a()},h=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Pb.set(t,n)}).catch(()=>{}),CT.set(e,n),e}function PM(n){if(O0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),a()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});O0.set(n,e)}let P0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return O0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Vb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function VM(n){P0=n(P0)}function NM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(l0(this),e,...t);return Vb.set(r,e.sort?e.sort():[e]),pl(r)}:MM().includes(n)?function(...e){return n.apply(l0(this),e),pl(Pb.get(this))}:function(...e){return pl(n.apply(l0(this),e))}}function LM(n){return typeof n=="function"?NM(n):(n instanceof IDBTransaction&&PM(n),xM(n,DM())?new Proxy(n,P0):n)}function pl(n){if(n instanceof IDBRequest)return OM(n);if(u0.has(n))return u0.get(n);const e=LM(n);return e!==n&&(u0.set(n,e),CT.set(e,n)),e}const l0=n=>CT.get(n);function UM(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const h=indexedDB.open(n,e),p=pl(h);return r&&h.addEventListener("upgradeneeded",y=>{r(pl(h.result),y.oldVersion,y.newVersion,pl(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),p.then(y=>{l&&y.addEventListener("close",()=>l()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const kM=["get","getKey","getAll","getAllKeys","count"],BM=["put","add","delete","clear"],c0=new Map;function CA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(c0.get(e))return c0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=BM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||kM.includes(t)))return;const l=async function(h,...p){const y=this.transaction(h,a?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[t](...p),a&&y.done]))[0]};return c0.set(e,l),l}VM(n=>({...n,get:(e,t,r)=>CA(e,t)||n.get(e,t,r),has:(e,t)=>!!CA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function FM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const V0="@firebase/app",IA="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=new RT("@firebase/app"),HM="@firebase/app-compat",qM="@firebase/analytics-compat",jM="@firebase/analytics",GM="@firebase/app-check-compat",KM="@firebase/app-check",$M="@firebase/auth",WM="@firebase/auth-compat",YM="@firebase/database",QM="@firebase/data-connect",XM="@firebase/database-compat",ZM="@firebase/functions",JM="@firebase/functions-compat",e2="@firebase/installations",t2="@firebase/installations-compat",n2="@firebase/messaging",i2="@firebase/messaging-compat",r2="@firebase/performance",s2="@firebase/performance-compat",a2="@firebase/remote-config",o2="@firebase/remote-config-compat",u2="@firebase/storage",l2="@firebase/storage-compat",c2="@firebase/firestore",f2="@firebase/vertexai",h2="@firebase/firestore-compat",d2="firebase",m2="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="[DEFAULT]",p2={[V0]:"fire-core",[HM]:"fire-core-compat",[jM]:"fire-analytics",[qM]:"fire-analytics-compat",[KM]:"fire-app-check",[GM]:"fire-app-check-compat",[$M]:"fire-auth",[WM]:"fire-auth-compat",[YM]:"fire-rtdb",[QM]:"fire-data-connect",[XM]:"fire-rtdb-compat",[ZM]:"fire-fn",[JM]:"fire-fn-compat",[e2]:"fire-iid",[t2]:"fire-iid-compat",[n2]:"fire-fcm",[i2]:"fire-fcm-compat",[r2]:"fire-perf",[s2]:"fire-perf-compat",[a2]:"fire-rc",[o2]:"fire-rc-compat",[u2]:"fire-gcs",[l2]:"fire-gcs-compat",[c2]:"fire-fst",[h2]:"fire-fst-compat",[f2]:"fire-vertex","fire-js":"fire-js",[d2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map,g2=new Map,L0=new Map;function xA(n,e){try{n.container.addComponent(e)}catch(t){nu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lh(n){const e=n.name;if(L0.has(e))return nu.debug(`There were multiple attempts to register component ${e}.`),!1;L0.set(e,n);for(const t of i_.values())xA(t,n);for(const t of g2.values())xA(t,n);return!0}function IT(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function da(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gl=new Mp("app","Firebase",y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $c("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=m2;function Nb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:N0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw gl.create("bad-app-name",{appName:String(a)});if(t||(t=Mb()),!t)throw gl.create("no-options");const l=i_.get(a);if(l){if(n_(t,l.options)&&n_(r,l.config))return l;throw gl.create("duplicate-app",{appName:a})}const h=new SM(a);for(const y of L0.values())h.addComponent(y);const p=new _2(t,r,h);return i_.set(a,p),p}function Lb(n=N0){const e=i_.get(n);if(!e&&n===N0&&Mb())return Nb();if(!e)throw gl.create("no-app",{appName:n});return e}function yl(n,e,t){var r;let a=(r=p2[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nu.warn(p.join(" "));return}Lh(new $c(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebase-heartbeat-database",T2=1,hp="firebase-heartbeat-store";let f0=null;function Ub(){return f0||(f0=UM(v2,T2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hp)}catch(t){console.warn(t)}}}}).catch(n=>{throw gl.create("idb-open",{originalErrorMessage:n.message})})),f0}async function E2(n){try{const t=(await Ub()).transaction(hp),r=await t.objectStore(hp).get(kb(n));return await t.done,r}catch(e){if(e instanceof lu)nu.warn(e.message);else{const t=gl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nu.warn(t.message)}}}async function DA(n,e){try{const r=(await Ub()).transaction(hp,"readwrite");await r.objectStore(hp).put(e,kb(n)),await r.done}catch(t){if(t instanceof lu)nu.warn(t.message);else{const r=gl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});nu.warn(r.message)}}}function kb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=1024,w2=30;class S2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new R2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=MA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>w2){const h=C2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){nu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=MA(),{heartbeatsToSend:r,unsentEntries:a}=b2(this._heartbeatsCache.heartbeats),l=t_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return nu.warn(t),""}}}function MA(){return new Date().toISOString().substring(0,10)}function b2(n,e=A2){const t=[];let r=n.slice();for(const a of n){const l=t.find(h=>h.agent===a.agent);if(l){if(l.dates.push(a.date),OA(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),OA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class R2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hM()?dM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await E2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return DA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return DA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function OA(n){return t_(JSON.stringify({version:2,heartbeats:n})).length}function C2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(n){Lh(new $c("platform-logger",e=>new zM(e),"PRIVATE")),Lh(new $c("heartbeat",e=>new S2(e),"PRIVATE")),yl(V0,IA,n),yl(V0,IA,"esm2017"),yl("fire-js","")}I2("");var PA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _l,Bb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(q,D){function O(){}O.prototype=D.prototype,q.D=D.prototype,q.prototype=new O,q.prototype.constructor=q,q.C=function(k,G,Z){for(var H=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)H[zt-2]=arguments[zt];return D.prototype[G].apply(k,H)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(q,D,O){O||(O=0);var k=Array(16);if(typeof D=="string")for(var G=0;16>G;++G)k[G]=D.charCodeAt(O++)|D.charCodeAt(O++)<<8|D.charCodeAt(O++)<<16|D.charCodeAt(O++)<<24;else for(G=0;16>G;++G)k[G]=D[O++]|D[O++]<<8|D[O++]<<16|D[O++]<<24;D=q.g[0],O=q.g[1],G=q.g[2];var Z=q.g[3],H=D+(Z^O&(G^Z))+k[0]+3614090360&4294967295;D=O+(H<<7&4294967295|H>>>25),H=Z+(G^D&(O^G))+k[1]+3905402710&4294967295,Z=D+(H<<12&4294967295|H>>>20),H=G+(O^Z&(D^O))+k[2]+606105819&4294967295,G=Z+(H<<17&4294967295|H>>>15),H=O+(D^G&(Z^D))+k[3]+3250441966&4294967295,O=G+(H<<22&4294967295|H>>>10),H=D+(Z^O&(G^Z))+k[4]+4118548399&4294967295,D=O+(H<<7&4294967295|H>>>25),H=Z+(G^D&(O^G))+k[5]+1200080426&4294967295,Z=D+(H<<12&4294967295|H>>>20),H=G+(O^Z&(D^O))+k[6]+2821735955&4294967295,G=Z+(H<<17&4294967295|H>>>15),H=O+(D^G&(Z^D))+k[7]+4249261313&4294967295,O=G+(H<<22&4294967295|H>>>10),H=D+(Z^O&(G^Z))+k[8]+1770035416&4294967295,D=O+(H<<7&4294967295|H>>>25),H=Z+(G^D&(O^G))+k[9]+2336552879&4294967295,Z=D+(H<<12&4294967295|H>>>20),H=G+(O^Z&(D^O))+k[10]+4294925233&4294967295,G=Z+(H<<17&4294967295|H>>>15),H=O+(D^G&(Z^D))+k[11]+2304563134&4294967295,O=G+(H<<22&4294967295|H>>>10),H=D+(Z^O&(G^Z))+k[12]+1804603682&4294967295,D=O+(H<<7&4294967295|H>>>25),H=Z+(G^D&(O^G))+k[13]+4254626195&4294967295,Z=D+(H<<12&4294967295|H>>>20),H=G+(O^Z&(D^O))+k[14]+2792965006&4294967295,G=Z+(H<<17&4294967295|H>>>15),H=O+(D^G&(Z^D))+k[15]+1236535329&4294967295,O=G+(H<<22&4294967295|H>>>10),H=D+(G^Z&(O^G))+k[1]+4129170786&4294967295,D=O+(H<<5&4294967295|H>>>27),H=Z+(O^G&(D^O))+k[6]+3225465664&4294967295,Z=D+(H<<9&4294967295|H>>>23),H=G+(D^O&(Z^D))+k[11]+643717713&4294967295,G=Z+(H<<14&4294967295|H>>>18),H=O+(Z^D&(G^Z))+k[0]+3921069994&4294967295,O=G+(H<<20&4294967295|H>>>12),H=D+(G^Z&(O^G))+k[5]+3593408605&4294967295,D=O+(H<<5&4294967295|H>>>27),H=Z+(O^G&(D^O))+k[10]+38016083&4294967295,Z=D+(H<<9&4294967295|H>>>23),H=G+(D^O&(Z^D))+k[15]+3634488961&4294967295,G=Z+(H<<14&4294967295|H>>>18),H=O+(Z^D&(G^Z))+k[4]+3889429448&4294967295,O=G+(H<<20&4294967295|H>>>12),H=D+(G^Z&(O^G))+k[9]+568446438&4294967295,D=O+(H<<5&4294967295|H>>>27),H=Z+(O^G&(D^O))+k[14]+3275163606&4294967295,Z=D+(H<<9&4294967295|H>>>23),H=G+(D^O&(Z^D))+k[3]+4107603335&4294967295,G=Z+(H<<14&4294967295|H>>>18),H=O+(Z^D&(G^Z))+k[8]+1163531501&4294967295,O=G+(H<<20&4294967295|H>>>12),H=D+(G^Z&(O^G))+k[13]+2850285829&4294967295,D=O+(H<<5&4294967295|H>>>27),H=Z+(O^G&(D^O))+k[2]+4243563512&4294967295,Z=D+(H<<9&4294967295|H>>>23),H=G+(D^O&(Z^D))+k[7]+1735328473&4294967295,G=Z+(H<<14&4294967295|H>>>18),H=O+(Z^D&(G^Z))+k[12]+2368359562&4294967295,O=G+(H<<20&4294967295|H>>>12),H=D+(O^G^Z)+k[5]+4294588738&4294967295,D=O+(H<<4&4294967295|H>>>28),H=Z+(D^O^G)+k[8]+2272392833&4294967295,Z=D+(H<<11&4294967295|H>>>21),H=G+(Z^D^O)+k[11]+1839030562&4294967295,G=Z+(H<<16&4294967295|H>>>16),H=O+(G^Z^D)+k[14]+4259657740&4294967295,O=G+(H<<23&4294967295|H>>>9),H=D+(O^G^Z)+k[1]+2763975236&4294967295,D=O+(H<<4&4294967295|H>>>28),H=Z+(D^O^G)+k[4]+1272893353&4294967295,Z=D+(H<<11&4294967295|H>>>21),H=G+(Z^D^O)+k[7]+4139469664&4294967295,G=Z+(H<<16&4294967295|H>>>16),H=O+(G^Z^D)+k[10]+3200236656&4294967295,O=G+(H<<23&4294967295|H>>>9),H=D+(O^G^Z)+k[13]+681279174&4294967295,D=O+(H<<4&4294967295|H>>>28),H=Z+(D^O^G)+k[0]+3936430074&4294967295,Z=D+(H<<11&4294967295|H>>>21),H=G+(Z^D^O)+k[3]+3572445317&4294967295,G=Z+(H<<16&4294967295|H>>>16),H=O+(G^Z^D)+k[6]+76029189&4294967295,O=G+(H<<23&4294967295|H>>>9),H=D+(O^G^Z)+k[9]+3654602809&4294967295,D=O+(H<<4&4294967295|H>>>28),H=Z+(D^O^G)+k[12]+3873151461&4294967295,Z=D+(H<<11&4294967295|H>>>21),H=G+(Z^D^O)+k[15]+530742520&4294967295,G=Z+(H<<16&4294967295|H>>>16),H=O+(G^Z^D)+k[2]+3299628645&4294967295,O=G+(H<<23&4294967295|H>>>9),H=D+(G^(O|~Z))+k[0]+4096336452&4294967295,D=O+(H<<6&4294967295|H>>>26),H=Z+(O^(D|~G))+k[7]+1126891415&4294967295,Z=D+(H<<10&4294967295|H>>>22),H=G+(D^(Z|~O))+k[14]+2878612391&4294967295,G=Z+(H<<15&4294967295|H>>>17),H=O+(Z^(G|~D))+k[5]+4237533241&4294967295,O=G+(H<<21&4294967295|H>>>11),H=D+(G^(O|~Z))+k[12]+1700485571&4294967295,D=O+(H<<6&4294967295|H>>>26),H=Z+(O^(D|~G))+k[3]+2399980690&4294967295,Z=D+(H<<10&4294967295|H>>>22),H=G+(D^(Z|~O))+k[10]+4293915773&4294967295,G=Z+(H<<15&4294967295|H>>>17),H=O+(Z^(G|~D))+k[1]+2240044497&4294967295,O=G+(H<<21&4294967295|H>>>11),H=D+(G^(O|~Z))+k[8]+1873313359&4294967295,D=O+(H<<6&4294967295|H>>>26),H=Z+(O^(D|~G))+k[15]+4264355552&4294967295,Z=D+(H<<10&4294967295|H>>>22),H=G+(D^(Z|~O))+k[6]+2734768916&4294967295,G=Z+(H<<15&4294967295|H>>>17),H=O+(Z^(G|~D))+k[13]+1309151649&4294967295,O=G+(H<<21&4294967295|H>>>11),H=D+(G^(O|~Z))+k[4]+4149444226&4294967295,D=O+(H<<6&4294967295|H>>>26),H=Z+(O^(D|~G))+k[11]+3174756917&4294967295,Z=D+(H<<10&4294967295|H>>>22),H=G+(D^(Z|~O))+k[2]+718787259&4294967295,G=Z+(H<<15&4294967295|H>>>17),H=O+(Z^(G|~D))+k[9]+3951481745&4294967295,q.g[0]=q.g[0]+D&4294967295,q.g[1]=q.g[1]+(G+(H<<21&4294967295|H>>>11))&4294967295,q.g[2]=q.g[2]+G&4294967295,q.g[3]=q.g[3]+Z&4294967295}r.prototype.u=function(q,D){D===void 0&&(D=q.length);for(var O=D-this.blockSize,k=this.B,G=this.h,Z=0;Z<D;){if(G==0)for(;Z<=O;)a(this,q,Z),Z+=this.blockSize;if(typeof q=="string"){for(;Z<D;)if(k[G++]=q.charCodeAt(Z++),G==this.blockSize){a(this,k),G=0;break}}else for(;Z<D;)if(k[G++]=q[Z++],G==this.blockSize){a(this,k),G=0;break}}this.h=G,this.o+=D},r.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var D=1;D<q.length-8;++D)q[D]=0;var O=8*this.o;for(D=q.length-8;D<q.length;++D)q[D]=O&255,O/=256;for(this.u(q),q=Array(16),D=O=0;4>D;++D)for(var k=0;32>k;k+=8)q[O++]=this.g[D]>>>k&255;return q};function l(q,D){var O=p;return Object.prototype.hasOwnProperty.call(O,q)?O[q]:O[q]=D(q)}function h(q,D){this.h=D;for(var O=[],k=!0,G=q.length-1;0<=G;G--){var Z=q[G]|0;k&&Z==D||(O[G]=Z,k=!1)}this.g=O}var p={};function y(q){return-128<=q&&128>q?l(q,function(D){return new h([D|0],0>D?-1:0)}):new h([q|0],0>q?-1:0)}function _(q){if(isNaN(q)||!isFinite(q))return w;if(0>q)return B(_(-q));for(var D=[],O=1,k=0;q>=O;k++)D[k]=q/O|0,O*=4294967296;return new h(D,0)}function A(q,D){if(q.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(q.charAt(0)=="-")return B(A(q.substring(1),D));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=_(Math.pow(D,8)),k=w,G=0;G<q.length;G+=8){var Z=Math.min(8,q.length-G),H=parseInt(q.substring(G,G+Z),D);8>Z?(Z=_(Math.pow(D,Z)),k=k.j(Z).add(_(H))):(k=k.j(O),k=k.add(_(H)))}return k}var w=y(0),C=y(1),N=y(16777216);n=h.prototype,n.m=function(){if(j(this))return-B(this).m();for(var q=0,D=1,O=0;O<this.g.length;O++){var k=this.i(O);q+=(0<=k?k:4294967296+k)*D,D*=4294967296}return q},n.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(U(this))return"0";if(j(this))return"-"+B(this).toString(q);for(var D=_(Math.pow(q,6)),O=this,k="";;){var G=Ae(O,D).g;O=$(O,G.j(D));var Z=((0<O.g.length?O.g[0]:O.h)>>>0).toString(q);if(O=G,U(O))return Z+k;for(;6>Z.length;)Z="0"+Z;k=Z+k}},n.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function U(q){if(q.h!=0)return!1;for(var D=0;D<q.g.length;D++)if(q.g[D]!=0)return!1;return!0}function j(q){return q.h==-1}n.l=function(q){return q=$(this,q),j(q)?-1:U(q)?0:1};function B(q){for(var D=q.g.length,O=[],k=0;k<D;k++)O[k]=~q.g[k];return new h(O,~q.h).add(C)}n.abs=function(){return j(this)?B(this):this},n.add=function(q){for(var D=Math.max(this.g.length,q.g.length),O=[],k=0,G=0;G<=D;G++){var Z=k+(this.i(G)&65535)+(q.i(G)&65535),H=(Z>>>16)+(this.i(G)>>>16)+(q.i(G)>>>16);k=H>>>16,Z&=65535,H&=65535,O[G]=H<<16|Z}return new h(O,O[O.length-1]&-2147483648?-1:0)};function $(q,D){return q.add(B(D))}n.j=function(q){if(U(this)||U(q))return w;if(j(this))return j(q)?B(this).j(B(q)):B(B(this).j(q));if(j(q))return B(this.j(B(q)));if(0>this.l(N)&&0>q.l(N))return _(this.m()*q.m());for(var D=this.g.length+q.g.length,O=[],k=0;k<2*D;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(var G=0;G<q.g.length;G++){var Z=this.i(k)>>>16,H=this.i(k)&65535,zt=q.i(G)>>>16,Qt=q.i(G)&65535;O[2*k+2*G]+=H*Qt,re(O,2*k+2*G),O[2*k+2*G+1]+=Z*Qt,re(O,2*k+2*G+1),O[2*k+2*G+1]+=H*zt,re(O,2*k+2*G+1),O[2*k+2*G+2]+=Z*zt,re(O,2*k+2*G+2)}for(k=0;k<D;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=D;k<2*D;k++)O[k]=0;return new h(O,0)};function re(q,D){for(;(q[D]&65535)!=q[D];)q[D+1]+=q[D]>>>16,q[D]&=65535,D++}function ne(q,D){this.g=q,this.h=D}function Ae(q,D){if(U(D))throw Error("division by zero");if(U(q))return new ne(w,w);if(j(q))return D=Ae(B(q),D),new ne(B(D.g),B(D.h));if(j(D))return D=Ae(q,B(D)),new ne(B(D.g),D.h);if(30<q.g.length){if(j(q)||j(D))throw Error("slowDivide_ only works with positive integers.");for(var O=C,k=D;0>=k.l(q);)O=ce(O),k=ce(k);var G=be(O,1),Z=be(k,1);for(k=be(k,2),O=be(O,2);!U(k);){var H=Z.add(k);0>=H.l(q)&&(G=G.add(O),Z=H),k=be(k,1),O=be(O,1)}return D=$(q,G.j(D)),new ne(G,D)}for(G=w;0<=q.l(D);){for(O=Math.max(1,Math.floor(q.m()/D.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),Z=_(O),H=Z.j(D);j(H)||0<H.l(q);)O-=k,Z=_(O),H=Z.j(D);U(Z)&&(Z=C),G=G.add(Z),q=$(q,H)}return new ne(G,q)}n.A=function(q){return Ae(this,q).h},n.and=function(q){for(var D=Math.max(this.g.length,q.g.length),O=[],k=0;k<D;k++)O[k]=this.i(k)&q.i(k);return new h(O,this.h&q.h)},n.or=function(q){for(var D=Math.max(this.g.length,q.g.length),O=[],k=0;k<D;k++)O[k]=this.i(k)|q.i(k);return new h(O,this.h|q.h)},n.xor=function(q){for(var D=Math.max(this.g.length,q.g.length),O=[],k=0;k<D;k++)O[k]=this.i(k)^q.i(k);return new h(O,this.h^q.h)};function ce(q){for(var D=q.g.length+1,O=[],k=0;k<D;k++)O[k]=q.i(k)<<1|q.i(k-1)>>>31;return new h(O,q.h)}function be(q,D){var O=D>>5;D%=32;for(var k=q.g.length-O,G=[],Z=0;Z<k;Z++)G[Z]=0<D?q.i(Z+O)>>>D|q.i(Z+O+1)<<32-D:q.i(Z+O);return new h(G,q.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bb=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=A,_l=h}).apply(typeof PA<"u"?PA:typeof self<"u"?self:typeof window<"u"?window:{});var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zb,Ym,Fb,Fy,U0,Hb,qb,jb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,T,S){return d==Array.prototype||d==Object.prototype||(d[T]=S.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof xy=="object"&&xy];for(var T=0;T<d.length;++T){var S=d[T];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function a(d,T){if(T)e:{var S=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var te=d[P];if(!(te in S))break e;S=S[te]}d=d[d.length-1],P=S[d],T=T(P),T!=P&&T!=null&&e(S,d,{configurable:!0,writable:!0,value:T})}}function l(d,T){d instanceof String&&(d+="");var S=0,P=!1,te={next:function(){if(!P&&S<d.length){var oe=S++;return{value:T(oe,d[oe]),done:!1}}return P=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}a("Array.prototype.values",function(d){return d||function(){return l(this,function(T,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function y(d){var T=typeof d;return T=T!="object"?T:d?Array.isArray(d)?"array":T:"null",T=="array"||T=="object"&&typeof d.length=="number"}function _(d){var T=typeof d;return T=="object"&&d!=null||T=="function"}function A(d,T,S){return d.call.apply(d.bind,arguments)}function w(d,T,S){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,P),d.apply(T,te)}}return function(){return d.apply(T,arguments)}}function C(d,T,S){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:w,C.apply(null,arguments)}function N(d,T){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function U(d,T){function S(){}S.prototype=T.prototype,d.aa=T.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(P,te,oe){for(var we=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)we[pt-2]=arguments[pt];return T.prototype[te].apply(P,we)}}function j(d){const T=d.length;if(0<T){const S=Array(T);for(let P=0;P<T;P++)S[P]=d[P];return S}return[]}function B(d,T){for(let S=1;S<arguments.length;S++){const P=arguments[S];if(y(P)){const te=d.length||0,oe=P.length||0;d.length=te+oe;for(let we=0;we<oe;we++)d[te+we]=P[we]}else d.push(P)}}class ${constructor(T,S){this.i=T,this.j=S,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function re(d){return/^[\s\xa0]*$/.test(d)}function ne(){var d=p.navigator;return d&&(d=d.userAgent)?d:""}function Ae(d){return Ae[" "](d),d}Ae[" "]=function(){};var ce=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function be(d,T,S){for(const P in d)T.call(S,d[P],P,d)}function q(d,T){for(const S in d)T.call(void 0,d[S],S,d)}function D(d){const T={};for(const S in d)T[S]=d[S];return T}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,T){let S,P;for(let te=1;te<arguments.length;te++){P=arguments[te];for(S in P)d[S]=P[S];for(let oe=0;oe<O.length;oe++)S=O[oe],Object.prototype.hasOwnProperty.call(P,S)&&(d[S]=P[S])}}function G(d){var T=1;d=d.split(":");const S=[];for(;0<T&&d.length;)S.push(d.shift()),T--;return d.length&&S.push(d.join(":")),S}function Z(d){p.setTimeout(()=>{throw d},0)}function H(){var d=mt;let T=null;return d.g&&(T=d.g,d.g=d.g.next,d.g||(d.h=null),T.next=null),T}class zt{constructor(){this.h=this.g=null}add(T,S){const P=Qt.get();P.set(T,S),this.h?this.h.next=P:this.g=P,this.h=P}}var Qt=new $(()=>new Ce,d=>d.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(T,S){this.h=T,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,Me=!1,mt=new zt,x=()=>{const d=p.Promise.resolve(void 0);Oe=()=>{d.then(L)}};var L=()=>{for(var d;d=H();){try{d.h.call(d.g)}catch(S){Z(S)}var T=Qt;T.j(d),100>T.h&&(T.h++,d.next=T.g,T.g=d)}Me=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,T){this.type=d,this.g=this.target=T,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var d=!1,T=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};p.addEventListener("test",S,T),p.removeEventListener("test",S,T)}catch{}return d}();function Se(d,T){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=T,T=d.relatedTarget){if(ce){e:{try{Ae(T.nodeName);var te=!0;break e}catch{}te=!1}te||(T=null)}}else S=="mouseover"?T=d.fromElement:S=="mouseout"&&(T=d.toElement);this.relatedTarget=T,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Re[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Se.aa.h.call(this)}}U(Se,he);var Re={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),xe=0;function He(d,T,S,P,te){this.listener=d,this.proxy=null,this.src=T,this.type=S,this.capture=!!P,this.ha=te,this.key=++xe,this.da=this.fa=!1}function qe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function et(d){this.src=d,this.g={},this.h=0}et.prototype.add=function(d,T,S,P,te){var oe=d.toString();d=this.g[oe],d||(d=this.g[oe]=[],this.h++);var we=Pt(d,T,P,te);return-1<we?(T=d[we],S||(T.fa=!1)):(T=new He(T,this.src,oe,!!P,te),T.fa=S,d.push(T)),T};function yt(d,T){var S=T.type;if(S in d.g){var P=d.g[S],te=Array.prototype.indexOf.call(P,T,void 0),oe;(oe=0<=te)&&Array.prototype.splice.call(P,te,1),oe&&(qe(T),d.g[S].length==0&&(delete d.g[S],d.h--))}}function Pt(d,T,S,P){for(var te=0;te<d.length;++te){var oe=d[te];if(!oe.da&&oe.listener==T&&oe.capture==!!S&&oe.ha==P)return te}return-1}var je="closure_lm_"+(1e6*Math.random()|0),jt={};function gn(d,T,S,P,te){if(Array.isArray(T)){for(var oe=0;oe<T.length;oe++)gn(d,T[oe],S,P,te);return null}return S=Zr(S),d&&d[Pe]?d.K(T,S,_(P)?!!P.capture:!1,te):Xt(d,T,S,!1,P,te)}function Xt(d,T,S,P,te,oe){if(!T)throw Error("Invalid event type");var we=_(te)?!!te.capture:!!te,pt=Xr(d);if(pt||(d[je]=pt=new et(d)),S=pt.add(T,S,P,we,oe),S.proxy)return S;if(P=Kn(),S.proxy=P,P.src=d,P.listener=S,d.addEventListener)ve||(te=we),te===void 0&&(te=!1),d.addEventListener(T.toString(),P,te);else if(d.attachEvent)d.attachEvent(Un(T.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Kn(){function d(S){return T.call(d.src,d.listener,S)}const T=Rs;return d}function Ri(d,T,S,P,te){if(Array.isArray(T))for(var oe=0;oe<T.length;oe++)Ri(d,T[oe],S,P,te);else P=_(P)?!!P.capture:!!P,S=Zr(S),d&&d[Pe]?(d=d.i,T=String(T).toString(),T in d.g&&(oe=d.g[T],S=Pt(oe,S,P,te),-1<S&&(qe(oe[S]),Array.prototype.splice.call(oe,S,1),oe.length==0&&(delete d.g[T],d.h--)))):d&&(d=Xr(d))&&(T=d.g[T.toString()],d=-1,T&&(d=Pt(T,S,P,te)),(S=-1<d?T[d]:null)&&cn(S))}function cn(d){if(typeof d!="number"&&d&&!d.da){var T=d.src;if(T&&T[Pe])yt(T.i,d);else{var S=d.type,P=d.proxy;T.removeEventListener?T.removeEventListener(S,P,d.capture):T.detachEvent?T.detachEvent(Un(S),P):T.addListener&&T.removeListener&&T.removeListener(P),(S=Xr(T))?(yt(S,d),S.h==0&&(S.src=null,T[je]=null)):qe(d)}}}function Un(d){return d in jt?jt[d]:jt[d]="on"+d}function Rs(d,T){if(d.da)d=!0;else{T=new Se(T,this);var S=d.listener,P=d.ha||d.src;d.fa&&cn(d),d=S.call(P,T)}return d}function Xr(d){return d=d[je],d instanceof et?d:null}var $n="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zr(d){return typeof d=="function"?d:(d[$n]||(d[$n]=function(T){return d.handleEvent(T)}),d[$n])}function fn(){ge.call(this),this.i=new et(this),this.M=this,this.F=null}U(fn,ge),fn.prototype[Pe]=!0,fn.prototype.removeEventListener=function(d,T,S,P){Ri(this,d,T,S,P)};function Zt(d,T){var S,P=d.F;if(P)for(S=[];P;P=P.F)S.push(P);if(d=d.M,P=T.type||T,typeof T=="string")T=new he(T,d);else if(T instanceof he)T.target=T.target||d;else{var te=T;T=new he(P,d),k(T,te)}if(te=!0,S)for(var oe=S.length-1;0<=oe;oe--){var we=T.g=S[oe];te=ii(we,P,!0,T)&&te}if(we=T.g=d,te=ii(we,P,!0,T)&&te,te=ii(we,P,!1,T)&&te,S)for(oe=0;oe<S.length;oe++)we=T.g=S[oe],te=ii(we,P,!1,T)&&te}fn.prototype.N=function(){if(fn.aa.N.call(this),this.i){var d=this.i,T;for(T in d.g){for(var S=d.g[T],P=0;P<S.length;P++)qe(S[P]);delete d.g[T],d.h--}}this.F=null},fn.prototype.K=function(d,T,S,P){return this.i.add(String(d),T,!1,S,P)},fn.prototype.L=function(d,T,S,P){return this.i.add(String(d),T,!0,S,P)};function ii(d,T,S,P){if(T=d.i.g[String(T)],!T)return!0;T=T.concat();for(var te=!0,oe=0;oe<T.length;++oe){var we=T[oe];if(we&&!we.da&&we.capture==S){var pt=we.listener,xn=we.ha||we.src;we.fa&&yt(d.i,we),te=pt.call(xn,P)!==!1&&te}}return te&&!P.defaultPrevented}function Cs(d,T,S){if(typeof d=="function")S&&(d=C(d,S));else if(d&&typeof d.handleEvent=="function")d=C(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:p.setTimeout(d,T||0)}function Jr(d){d.g=Cs(()=>{d.g=null,d.i&&(d.i=!1,Jr(d))},d.l);const T=d.h;d.h=null,d.m.apply(null,T)}class Is extends ge{constructor(T,S){super(),this.m=T,this.l=S,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Jr(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(d){ge.call(this),this.h=d,this.g={}}U(Sr,ge);var or=[];function kn(d){be(d.g,function(T,S){this.g.hasOwnProperty(S)&&cn(T)},d),d.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),kn(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var co=p.JSON.stringify,ur=p.JSON.parse,Wn=class{stringify(d){return p.JSON.stringify(d,void 0)}parse(d){return p.JSON.parse(d,void 0)}};function Pl(){}Pl.prototype.h=null;function nf(d){return d.h||(d.h=d.i())}function rf(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xs(){he.call(this,"d")}U(xs,he);function Rr(){he.call(this,"c")}U(Rr,he);var lr={},ya=null;function cu(){return ya=ya||new fn}lr.La="serverreachability";function fu(d){he.call(this,lr.La,d)}U(fu,he);function _a(d){const T=cu();Zt(T,new fu(T))}lr.STAT_EVENT="statevent";function hu(d,T){he.call(this,lr.STAT_EVENT,d),this.stat=T}U(hu,he);function yn(d){const T=cu();Zt(T,new hu(T,d))}lr.Ma="timingevent";function du(d,T){he.call(this,lr.Ma,d),this.size=T}U(du,he);function va(d,T){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){d()},T)}function es(){this.g=!0}es.prototype.xa=function(){this.g=!1};function sf(d,T,S,P,te,oe){d.info(function(){if(d.g)if(oe)for(var we="",pt=oe.split("&"),xn=0;xn<pt.length;xn++){var vt=pt[xn].split("=");if(1<vt.length){var Lt=vt[0];vt=vt[1];var _n=Lt.split("_");we=2<=_n.length&&_n[1]=="type"?we+(Lt+"="+vt+"&"):we+(Lt+"=redacted&")}}else we=null;else we=oe;return"XMLHTTP REQ ("+P+") [attempt "+te+"]: "+T+`
`+S+`
`+we})}function af(d,T,S,P,te,oe,we){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+te+"]: "+T+`
`+S+`
`+oe+" "+we})}function Ta(d,T,S,P){d.info(function(){return"XMLHTTP TEXT ("+T+"): "+Bn(d,S)+(P?" "+P:"")})}function ts(d,T){d.info(function(){return"TIMEOUT: "+T})}es.prototype.info=function(){};function Bn(d,T){if(!d.g)return T;if(!T)return null;try{var S=JSON.parse(T);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var P=S[d];if(!(2>P.length)){var te=P[1];if(Array.isArray(te)&&!(1>te.length)){var oe=te[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var we=1;we<te.length;we++)te[we]=""}}}}return co(S)}catch{return T}}var In={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ds={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fo;function ho(){}U(ho,Pl),ho.prototype.g=function(){return new XMLHttpRequest},ho.prototype.i=function(){return{}},fo=new ho;function ns(d,T,S,P){this.j=d,this.i=T,this.l=S,this.R=P||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}var Ea={},mo={};function Cr(d,T,S){d.L=1,d.v=Ls(rn(T)),d.m=S,d.P=!0,Ms(d,null)}function Ms(d,T){d.F=Date.now(),$t(d),d.A=rn(d.v);var S=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),rs(S.i,"t",P),d.C=0,S=d.j.J,d.h=new Vl,d.g=_f(d.j,S?T:null,!d.m),0<d.O&&(d.M=new Is(C(d.Y,d,d.g),d.O)),T=d.U,S=d.g,P=d.ca;var te="readystatechange";Array.isArray(te)||(te&&(or[0]=te.toString()),te=or);for(var oe=0;oe<te.length;oe++){var we=gn(S,te[oe],P||T.handleEvent,!1,T.h||T);if(!we)break;T.g[we.key]=we}T=d.H?D(d.H):{},d.m?(d.u||(d.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,T)):(d.u="GET",d.g.ea(d.A,d.u,null,T)),_a(),sf(d.i,d.u,d.A,d.l,d.R,d.m)}ns.prototype.ca=function(d){d=d.target;const T=this.M;T&&Fn(d)==3?T.j():this.Y(d)},ns.prototype.Y=function(d){try{if(d==this.g)e:{const _n=Fn(this.g);var T=this.g.Ba();const qi=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||Fl(this.g)))){this.J||_n!=4||T==7||(T==8||0>=qi?_a(3):_a(2)),mu(this);var S=this.g.Z();this.X=S;t:if(Ir(this)){var P=Fl(this.g);d="";var te=P.length,oe=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hi(this),Fi(this);var we="";break t}this.h.i=new p.TextDecoder}for(T=0;T<te;T++)this.h.h=!0,d+=this.h.i.decode(P[T],{stream:!(oe&&T==te-1)});P.length=0,this.h.g+=d,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=S==200,af(this.i,this.u,this.A,this.l,this.R,_n,S),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,xn=this.g;if((pt=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(pt)){var vt=pt;break t}}vt=null}if(S=vt)Ta(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ci(this,S);else{this.o=!1,this.s=3,yn(12),hi(this),Fi(this);break e}}if(this.P){S=!0;let qn;for(;!this.J&&this.C<we.length;)if(qn=Aa(this,we),qn==mo){_n==4&&(this.s=4,yn(14),S=!1),Ta(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==Ea){this.s=4,yn(15),Ta(this.i,this.l,we,"[Invalid Chunk]"),S=!1;break}else Ta(this.i,this.l,qn,null),Ci(this,qn);if(Ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||we.length!=0||this.h.h||(this.s=1,yn(16),S=!1),this.o=this.o&&S,!S)Ta(this.i,this.l,we,"[Invalid Chunked Response]"),hi(this),Fi(this);else if(0<we.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),xi(Lt),Lt.M=!0,yn(11))}}else Ta(this.i,this.l,we,null),Ci(this,we);_n==4&&hi(this),this.o&&!this.J&&(_n==4?Gt(this.j,this):(this.o=!1,$t(this)))}else Hl(this.g),S==400&&0<we.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),hi(this),Fi(this)}}}catch{}finally{}};function Ir(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Aa(d,T){var S=d.C,P=T.indexOf(`
`,S);return P==-1?mo:(S=Number(T.substring(S,P)),isNaN(S)?Ea:(P+=1,P+S>T.length?mo:(T=T.slice(P,P+S),d.C=P+S,T)))}ns.prototype.cancel=function(){this.J=!0,hi(this)};function $t(d){d.S=Date.now()+d.I,Nl(d,d.I)}function Nl(d,T){if(d.B!=null)throw Error("WatchDog timer not null");d.B=va(C(d.ba,d),T)}function mu(d){d.B&&(p.clearTimeout(d.B),d.B=null)}ns.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ts(this.i,this.A),this.L!=2&&(_a(),yn(17)),hi(this),this.s=2,Fi(this)):Nl(this,this.S-d)};function Fi(d){d.j.G==0||d.J||Gt(d.j,d)}function hi(d){mu(d);var T=d.M;T&&typeof T.ma=="function"&&T.ma(),d.M=null,kn(d.U),d.g&&(T=d.g,d.g=null,T.abort(),T.ma())}function Ci(d,T){try{var S=d.j;if(S.G!=0&&(S.g==d||wa(S.h,d))){if(!d.K&&wa(S.h,d)&&S.G==3){try{var P=S.Da.g.parse(T)}catch{P=null}if(Array.isArray(P)&&P.length==3){var te=P;if(te[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)Ca(S),Eo(S);else break e;wu(S),yn(18)}}else S.za=te[1],0<S.za-S.T&&37500>te[2]&&S.F&&S.v==0&&!S.C&&(S.C=va(C(S.Za,S),6e3));if(1>=uf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Dr(S,11)}else if((d.K||S.g==d)&&Ca(S),!re(T))for(te=S.Da.g.parse(T),T=0;T<te.length;T++){let vt=te[T];if(S.T=vt[0],vt=vt[1],S.G==2)if(vt[0]=="c"){S.K=vt[1],S.ia=vt[2];const Lt=vt[3];Lt!=null&&(S.la=Lt,S.j.info("VER="+S.la));const _n=vt[4];_n!=null&&(S.Aa=_n,S.j.info("SVER="+S.Aa));const qi=vt[5];qi!=null&&typeof qi=="number"&&0<qi&&(P=1.5*qi,S.L=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const qn=d.g;if(qn){const Mr=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var oe=P.h;oe.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Os(oe,oe.h),oe.h=null))}if(P.D){const jl=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(P.ya=jl,xt(P.I,P.D,jl))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),P=S;var we=d;if(P.qa=Su(P,P.J?P.ia:null,P.W),we.K){Hi(P.h,we);var pt=we,xn=P.L;xn&&(pt.I=xn),pt.B&&(mu(pt),$t(pt)),P.g=we}else gf(P);0<S.i.length&&Ao(S)}else vt[0]!="stop"&&vt[0]!="close"||Dr(S,7);else S.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Dr(S,7):Au(S):vt[0]!="noop"&&S.l&&S.l.ta(vt),S.v=0)}}_a(4)}catch{}}var of=class{constructor(d,T){this.g=d,this.map=T}};function Ll(d){this.l=d||10,p.PerformanceNavigationTiming?(d=p.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ul(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function uf(d){return d.h?1:d.g?d.g.size:0}function wa(d,T){return d.h?d.h==T:d.g?d.g.has(T):!1}function Os(d,T){d.g?d.g.add(T):d.h=T}function Hi(d,T){d.h&&d.h==T?d.h=null:d.g&&d.g.has(T)&&d.g.delete(T)}Ll.prototype.cancel=function(){if(this.i=ri(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ri(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let T=d.i;for(const S of d.g.values())T=T.concat(S.D);return T}return j(d.i)}function pu(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var T=[],S=d.length,P=0;P<S;P++)T.push(d[P]);return T}T=[],S=0;for(P in d)T[S++]=d[P];return T}function sd(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var T=[];d=d.length;for(var S=0;S<d;S++)T.push(S);return T}T=[],S=0;for(const P in d)T[S++]=P;return T}}}function Sa(d,T){if(d.forEach&&typeof d.forEach=="function")d.forEach(T,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,T,void 0);else for(var S=sd(d),P=pu(d),te=P.length,oe=0;oe<te;oe++)T.call(void 0,P[oe],S&&S[oe],d)}var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(d,T){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var P=d[S].indexOf("="),te=null;if(0<=P){var oe=d[S].substring(0,P);te=d[S].substring(P+1)}else oe=d[S];T(oe,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Ps(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ps){this.h=d.h,Vs(this,d.j),this.o=d.o,this.g=d.g,Ns(this,d.s),this.l=d.l;var T=d.i,S=new xr;S.i=T.i,T.g&&(S.g=new Map(T.g),S.h=T.h),gu(this,S),this.m=d.m}else d&&(T=String(d).match(ba))?(this.h=!1,Vs(this,T[1]||"",!0),this.o=is(T[2]||""),this.g=is(T[3]||"",!0),Ns(this,T[4]),this.l=is(T[5]||"",!0),gu(this,T[6]||"",!0),this.m=is(T[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}Ps.prototype.toString=function(){var d=[],T=this.j;T&&d.push(Yn(T,yu,!0),":");var S=this.g;return(S||T=="file")&&(d.push("//"),(T=this.o)&&d.push(Yn(T,yu,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Yn(S,S.charAt(0)=="/"?_u:cf,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Yn(S,hf)),d.join("")};function rn(d){return new Ps(d)}function Vs(d,T,S){d.j=S?is(T,!0):T,d.j&&(d.j=d.j.replace(/:$/,""))}function Ns(d,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);d.s=T}else d.s=null}function gu(d,T,S){T instanceof xr?(d.i=T,kl(d.i,d.h)):(S||(T=Yn(T,ff)),d.i=new xr(T,d.h))}function xt(d,T,S){d.i.set(T,S)}function Ls(d){return xt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function is(d,T){return d?T?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Yn(d,T,S){return typeof d=="string"?(d=encodeURI(d).replace(T,lf),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function lf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var yu=/[#\/\?@]/g,cf=/[#\?:]/g,_u=/[#\?]/g,ff=/[#\?@]/g,hf=/#/g;function xr(d,T){this.h=this.g=null,this.i=d||null,this.j=!!T}function cr(d){d.g||(d.g=new Map,d.h=0,d.i&&po(d.i,function(T,S){d.add(decodeURIComponent(T.replace(/\+/g," ")),S)}))}n=xr.prototype,n.add=function(d,T){cr(this),this.i=null,d=ks(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(T),this.h+=1,this};function vu(d,T){cr(d),T=ks(d,T),d.g.has(T)&&(d.i=null,d.h-=d.g.get(T).length,d.g.delete(T))}function Us(d,T){return cr(d),T=ks(d,T),d.g.has(T)}n.forEach=function(d,T){cr(this),this.g.forEach(function(S,P){S.forEach(function(te){d.call(T,te,P,this)},this)},this)},n.na=function(){cr(this);const d=Array.from(this.g.values()),T=Array.from(this.g.keys()),S=[];for(let P=0;P<T.length;P++){const te=d[P];for(let oe=0;oe<te.length;oe++)S.push(T[P])}return S},n.V=function(d){cr(this);let T=[];if(typeof d=="string")Us(this,d)&&(T=T.concat(this.g.get(ks(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)T=T.concat(d[S])}return T},n.set=function(d,T){return cr(this),this.i=null,d=ks(this,d),Us(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[T]),this.h+=1,this},n.get=function(d,T){return d?(d=this.V(d),0<d.length?String(d[0]):T):T};function rs(d,T,S){vu(d,T),0<S.length&&(d.i=null,d.g.set(ks(d,T),j(S)),d.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],T=Array.from(this.g.keys());for(var S=0;S<T.length;S++){var P=T[S];const oe=encodeURIComponent(String(P)),we=this.V(P);for(P=0;P<we.length;P++){var te=oe;we[P]!==""&&(te+="="+encodeURIComponent(String(we[P]))),d.push(te)}}return this.i=d.join("&")};function ks(d,T){return T=String(T),d.j&&(T=T.toLowerCase()),T}function kl(d,T){T&&!d.j&&(cr(d),d.i=null,d.g.forEach(function(S,P){var te=P.toLowerCase();P!=te&&(vu(this,P),rs(this,te,S))},d)),d.j=T}function df(d,T){const S=new es;if(p.Image){const P=new Image;P.onload=N(Ii,S,"TestLoadImage: loaded",!0,T,P),P.onerror=N(Ii,S,"TestLoadImage: error",!1,T,P),P.onabort=N(Ii,S,"TestLoadImage: abort",!1,T,P),P.ontimeout=N(Ii,S,"TestLoadImage: timeout",!1,T,P),p.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else T(!1)}function go(d,T){const S=new es,P=new AbortController,te=setTimeout(()=>{P.abort(),Ii(S,"TestPingServer: timeout",!1,T)},1e4);fetch(d,{signal:P.signal}).then(oe=>{clearTimeout(te),oe.ok?Ii(S,"TestPingServer: ok",!0,T):Ii(S,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(te),Ii(S,"TestPingServer: error",!1,T)})}function Ii(d,T,S,P,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),P(S)}catch{}}function yo(){this.g=new Wn}function ss(d,T,S){const P=S||"";try{Sa(d,function(te,oe){let we=te;_(te)&&(we=co(te)),T.push(P+oe+"="+encodeURIComponent(we))})}catch(te){throw T.push(P+"type="+encodeURIComponent("_badmap")),te}}function Ra(d){this.l=d.Ub||null,this.j=d.eb||!1}U(Ra,Pl),Ra.prototype.g=function(){return new Bs(this.l,this.j)},Ra.prototype.i=function(d){return function(){return d}}({});function Bs(d,T){fn.call(this),this.D=d,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Bs,fn),n=Bs.prototype,n.open=function(d,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=T,this.readyState=1,_t(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(T.body=d),(this.D||p).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wt(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,_t(this)),this.g&&(this.readyState=3,_t(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var T=d.value?d.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!d.done}))&&(this.response=this.responseText+=T)}d.done?wt(this):_t(this),this.readyState==3&&Bl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,wt(this))},n.Qa=function(d){this.g&&(this.response=d,wt(this))},n.ga=function(){this.g&&wt(this)};function wt(d){d.readyState=4,d.l=null,d.j=null,d.v=null,_t(d)}n.setRequestHeader=function(d,T){this.u.append(d,T)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],T=this.h.entries();for(var S=T.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=T.next();return d.join(`\r
`)};function _t(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function zl(d){let T="";return be(d,function(S,P){T+=P,T+=":",T+=S,T+=`\r
`}),T}function zn(d,T,S){e:{for(P in S){var P=!1;break e}P=!0}P||(S=zl(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):xt(d,T,S))}function Nt(d){fn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Nt,fn);var Tu=/^https?$/i,_o=["POST","PUT"];n=Nt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,T,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);T=T?T.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fo.g(),this.v=this.o?nf(this.o):nf(fo),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(T,String(d),!0),this.B=!1}catch(oe){mf(this,oe);return}if(d=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var te in P)S.set(te,P[te]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const oe of P.keys())S.set(oe,P.get(oe));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(oe=>oe.toLowerCase()=="content-type"),te=p.FormData&&d instanceof p.FormData,!(0<=Array.prototype.indexOf.call(_o,T,void 0))||P||te||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,we]of S)this.g.setRequestHeader(oe,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(d),this.u=!1}catch(oe){mf(this,oe)}};function mf(d,T){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=T,d.m=5,vo(d),Wt(d)}function vo(d){d.A||(d.A=!0,Zt(d,"complete"),Zt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Zt(this,"complete"),Zt(this,"abort"),Wt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Eu(this):this.bb())},n.bb=function(){Eu(this)};function Eu(d){if(d.h&&typeof h<"u"&&(!d.v[1]||Fn(d)!=4||d.Z()!=2)){if(d.u&&Fn(d)==4)Cs(d.Ea,0,d);else if(Zt(d,"readystatechange"),Fn(d)==4){d.h=!1;try{const we=d.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var S;if(!(S=T)){var P;if(P=we===0){var te=String(d.D).match(ba)[1]||null;!te&&p.self&&p.self.location&&(te=p.self.location.protocol.slice(0,-1)),P=!Tu.test(te?te.toLowerCase():"")}S=P}if(S)Zt(d,"complete"),Zt(d,"success");else{d.m=6;try{var oe=2<Fn(d)?d.g.statusText:""}catch{oe=""}d.l=oe+" ["+d.Z()+"]",vo(d)}}finally{Wt(d)}}}}function Wt(d,T){if(d.g){zs(d);const S=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,T||Zt(d,"ready");try{S.onreadystatechange=P}catch{}}}function zs(d){d.I&&(p.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Fn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var T=this.g.responseText;return d&&T.indexOf(d)==0&&(T=T.substring(d.length)),ur(T)}};function Fl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Hl(d){const T={};d=(d.g&&2<=Fn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(re(d[P]))continue;var S=G(d[P]);const te=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const oe=T[te]||[];T[te]=oe,oe.push(S)}q(T,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(d,T,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||T}function To(d){this.Aa=0,this.i=[],this.j=new es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hn("baseRetryDelayMs",5e3,d),this.cb=Hn("retryDelaySeedMs",1e4,d),this.Wa=Hn("forwardChannelMaxRetries",2,d),this.wa=Hn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ll(d&&d.concurrentRequestLimit),this.Da=new yo,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=To.prototype,n.la=8,n.G=1,n.connect=function(d,T,S,P){yn(0),this.W=d,this.H=T||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.I=Su(this,null,this.W),Ao(this)};function Au(d){if(ql(d),d.G==3){var T=d.U++,S=rn(d.I);if(xt(S,"SID",d.K),xt(S,"RID",T),xt(S,"TYPE","terminate"),wo(d,S),T=new ns(d,d.j,T),T.L=2,T.v=Ls(rn(S)),S=!1,p.navigator&&p.navigator.sendBeacon)try{S=p.navigator.sendBeacon(T.v.toString(),"")}catch{}!S&&p.Image&&(new Image().src=T.v,S=!0),S||(T.g=_f(T.j,null),T.g.ea(T.v)),T.F=Date.now(),$t(T)}yf(d)}function Eo(d){d.g&&(xi(d),d.g.cancel(),d.g=null)}function ql(d){Eo(d),d.u&&(p.clearTimeout(d.u),d.u=null),Ca(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&p.clearTimeout(d.s),d.s=null)}function Ao(d){if(!Ul(d.h)&&!d.s){d.s=!0;var T=d.Ga;Oe||x(),Me||(Oe(),Me=!0),mt.add(T,d),d.B=0}}function pf(d,T){return uf(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=T.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=va(C(d.Ga,d,T),fr(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const te=new ns(this,this.j,d);let oe=this.o;if(this.S&&(oe?(oe=D(oe),k(oe,this.S)):oe=this.S),this.m!==null||this.O||(te.H=oe,oe=null),this.P)e:{for(var T=0,S=0;S<this.i.length;S++){t:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(T+=P,4096<T){T=S;break e}if(T===4096||S===this.i.length-1){T=S+1;break e}}T=1e3}else T=1e3;T=di(this,te,T),S=rn(this.I),xt(S,"RID",d),xt(S,"CVER",22),this.D&&xt(S,"X-HTTP-Session-Id",this.D),wo(this,S),oe&&(this.O?T="headers="+encodeURIComponent(String(zl(oe)))+"&"+T:this.m&&zn(S,this.m,oe)),Os(this.h,te),this.Ua&&xt(S,"TYPE","init"),this.P?(xt(S,"$req",T),xt(S,"SID","null"),te.T=!0,Cr(te,S,null)):Cr(te,S,T),this.G=2}}else this.G==3&&(d?Qn(this,d):this.i.length==0||Ul(this.h)||Qn(this))};function Qn(d,T){var S;T?S=T.l:S=d.U++;const P=rn(d.I);xt(P,"SID",d.K),xt(P,"RID",S),xt(P,"AID",d.T),wo(d,P),d.m&&d.o&&zn(P,d.m,d.o),S=new ns(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),T&&(d.i=T.D.concat(d.i)),T=di(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Os(d.h,S),Cr(S,P,T)}function wo(d,T){d.H&&be(d.H,function(S,P){xt(T,P,S)}),d.l&&Sa({},function(S,P){xt(T,P,S)})}function di(d,T,S){S=Math.min(d.i.length,S);var P=d.l?C(d.l.Na,d.l,d):null;e:{var te=d.i;let oe=-1;for(;;){const we=["count="+S];oe==-1?0<S?(oe=te[0].g,we.push("ofs="+oe)):oe=0:we.push("ofs="+oe);let pt=!0;for(let xn=0;xn<S;xn++){let vt=te[xn].g;const Lt=te[xn].map;if(vt-=oe,0>vt)oe=Math.max(0,te[xn].g-100),pt=!1;else try{ss(Lt,we,"req"+vt+"_")}catch{P&&P(Lt)}}if(pt){P=we.join("&");break e}}}return d=d.i.splice(0,S),T.D=d,P}function gf(d){if(!d.g&&!d.u){d.Y=1;var T=d.Fa;Oe||x(),Me||(Oe(),Me=!0),mt.add(T,d),d.v=0}}function wu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=va(C(d.Fa,d),fr(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,So(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=va(C(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),Eo(this),So(this))};function xi(d){d.A!=null&&(p.clearTimeout(d.A),d.A=null)}function So(d){d.g=new ns(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var T=rn(d.qa);xt(T,"RID","rpc"),xt(T,"SID",d.K),xt(T,"AID",d.T),xt(T,"CI",d.F?"0":"1"),!d.F&&d.ja&&xt(T,"TO",d.ja),xt(T,"TYPE","xmlhttp"),wo(d,T),d.m&&d.o&&zn(T,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=Ls(rn(T)),S.m=null,S.P=!0,Ms(S,d)}n.Za=function(){this.C!=null&&(this.C=null,Eo(this),wu(this),yn(19))};function Ca(d){d.C!=null&&(p.clearTimeout(d.C),d.C=null)}function Gt(d,T){var S=null;if(d.g==T){Ca(d),xi(d),d.g=null;var P=2}else if(wa(d.h,T))S=T.D,Hi(d.h,T),P=1;else return;if(d.G!=0){if(T.o)if(P==1){S=T.m?T.m.length:0,T=Date.now()-T.F;var te=d.B;P=cu(),Zt(P,new du(P,S)),Ao(d)}else gf(d);else if(te=T.s,te==3||te==0&&0<T.X||!(P==1&&pf(d,T)||P==2&&wu(d)))switch(S&&0<S.length&&(T=d.h,T.i=T.i.concat(S)),te){case 1:Dr(d,5);break;case 4:Dr(d,10);break;case 3:Dr(d,6);break;default:Dr(d,2)}}}function fr(d,T){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*T}function Dr(d,T){if(d.j.info("Error code "+T),T==2){var S=C(d.fb,d),P=d.Xa;const te=!P;P=new Ps(P||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Vs(P,"https"),Ls(P),te?df(P.toString(),S):go(P.toString(),S)}else yn(2);d.G=0,d.l&&d.l.sa(T),yf(d),ql(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function yf(d){if(d.G=0,d.ka=[],d.l){const T=ri(d.h);(T.length!=0||d.i.length!=0)&&(B(d.ka,T),B(d.ka,d.i),d.h.i.length=0,j(d.i),d.i.length=0),d.l.ra()}}function Su(d,T,S){var P=S instanceof Ps?rn(S):new Ps(S);if(P.g!="")T&&(P.g=T+"."+P.g),Ns(P,P.s);else{var te=p.location;P=te.protocol,T=T?T+"."+te.hostname:te.hostname,te=+te.port;var oe=new Ps(null);P&&Vs(oe,P),T&&(oe.g=T),te&&Ns(oe,te),S&&(oe.l=S),P=oe}return S=d.D,T=d.ya,S&&T&&xt(P,S,T),xt(P,"VER",d.la),wo(d,P),P}function _f(d,T,S){if(T&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=d.Ca&&!d.pa?new Nt(new Ra({eb:S})):new Nt(d.pa),T.Ha(d.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vf(){}n=vf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bu(){}bu.prototype.g=function(d,T){return new si(d,T)};function si(d,T){fn.call(this),this.g=new To(T),this.l=d,this.h=T&&T.messageUrlParams||null,d=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(d?d["X-WebChannel-Content-Type"]=T.messageContentType:d={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(d?d["X-WebChannel-Client-Profile"]=T.va:d={"X-WebChannel-Client-Profile":T.va}),this.g.S=d,(d=T&&T.Sb)&&!re(d)&&(this.g.m=d),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!re(T)&&(this.g.D=T,d=this.h,d!==null&&T in d&&(d=this.h,T in d&&delete d[T])),this.j=new as(this)}U(si,fn),si.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){Au(this.g)},si.prototype.o=function(d){var T=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=co(d),d=S);T.i.push(new of(T.Ya++,d)),T.G==3&&Ao(T)},si.prototype.N=function(){this.g.l=null,delete this.j,Au(this.g),delete this.g,si.aa.N.call(this)};function bo(d){xs.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var T=d.__sm__;if(T){e:{for(const S in T){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,T=T!==null&&d in T?T[d]:void 0),this.data=T}else this.data=d}U(bo,xs);function Fs(){Rr.call(this),this.status=1}U(Fs,Rr);function as(d){this.g=d}U(as,vf),as.prototype.ua=function(){Zt(this.g,"a")},as.prototype.ta=function(d){Zt(this.g,new bo(d))},as.prototype.sa=function(d){Zt(this.g,new Fs)},as.prototype.ra=function(){Zt(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,jb=function(){return new bu},qb=function(){return cu()},Hb=lr,U0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},In.NO_ERROR=0,In.TIMEOUT=8,In.HTTP_ERROR=6,Fy=In,Ds.COMPLETE="complete",Fb=Ds,rf.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",fn.prototype.listen=fn.prototype.K,Ym=rf,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,zb=Nt}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});const VA="@firebase/firestore",NA="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid"),Ui.MOCK_USER=new Ui("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new RT("@firebase/firestore");function wh(){return Wc.logLevel}function Le(n,...e){if(Wc.logLevel<=Rt.DEBUG){const t=e.map(xT);Wc.debug(`Firestore (${Qh}): ${n}`,...t)}}function iu(n,...e){if(Wc.logLevel<=Rt.ERROR){const t=e.map(xT);Wc.error(`Firestore (${Qh}): ${n}`,...t)}}function Uh(n,...e){if(Wc.logLevel<=Rt.WARN){const t=e.map(xT);Wc.warn(`Firestore (${Qh}): ${n}`,...t)}}function xT(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(n="Unexpected state"){const e=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: `+n;throw iu(e),new Error(e)}function qt(n,e){n||Je()}function st(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends lu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ui.UNAUTHENTICATED))}shutdown(){}}class D2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class M2{constructor(e){this.t=e,this.currentUser=Ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qt(this.o===void 0);let r=this.i;const a=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let l=new Jo;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Jo,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const y=l;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},p=y=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Jo)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string"),new Gb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Ui(e)}}class O2{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ui.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class P2{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new O2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,da(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){qt(this.o===void 0);const r=l=>{l.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,Le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new LA(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qt(typeof t.token=="string"),this.R=t.token,new LA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=N2(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Ct(n,e){return n<e?-1:n>e?1:0}function B0(n,e){const t=k0().encode(n),r=k0().encode(e);for(let a=0;a<Math.min(t.length,r.length);a++){const l=Ct(t[a],r[a]);if(l!==0)return l}return Ct(t.length,r.length)}function kh(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=-62135596800,kA=1e6;class ti{static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*kA);return new ti(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<UA)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kA}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{static fromTimestamp(e){return new it(e)}static min(){return new it(new ti(0,0))}static max(){return new it(new ti(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="__name__";class eo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Je(),r===void 0?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return eo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=eo.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ct(e.length,t.length)}static compareSegments(e,t){const r=eo.isNumericId(e),a=eo.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?eo.extractNumericId(e).compare(eo.extractNumericId(t)):B0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _l.fromString(e.substring(4,e.length-2))}}class ln extends eo{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const L2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends eo{construct(e,t,r){return new wi(e,t,r)}static isValidIdentifier(e){return L2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BA}static keyField(){return new wi([BA])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new Ue(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ue(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,a+=2}else p==="`"?(h=!h,a++):p!=="."||h?(r+=p,a++):(l(),a++)}if(l(),h)throw new Ue(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wi(t)}static emptyPath(){return new wi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(ln.fromString(e))}static fromName(e){return new Ge(ln.fromString(e).popFirst(5))}static empty(){return new Ge(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new ln(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=-1;function U2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=it.fromTimestamp(r===1e9?new ti(t+1,0):new ti(t,r));return new El(a,Ge.empty(),e)}function k2(n){return new El(n.readTime,n.key,dp)}class El{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new El(it.min(),Ge.empty(),dp)}static max(){return new El(it.max(),Ge.empty(),dp)}}function B2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ge.comparator(n.documentKey,e.documentKey),t!==0?t:Ct(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==z2)throw n;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(t){return _e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,r)=>{t(e)})}static reject(e){return new _e((t,r)=>{r(e)})}static waitFor(e){return new _e((t,r)=>{let a=0,l=0,h=!1;e.forEach(p=>{++a,p.next(()=>{++l,h&&l===a&&t()},y=>r(y))}),h=!0,l===a&&t()})}static or(e){let t=_e.resolve(!1);for(const r of e)t=t.next(a=>a?_e.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new _e((r,a)=>{const l=e.length,h=new Array(l);let p=0;for(let y=0;y<l;y++){const _=y;t(e[_]).next(A=>{h[_]=A,++p,p===l&&r(h)},A=>a(A))}})}static doWhile(e,t){return new _e((r,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):r()};l()})}}function H2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}M_.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=-1;function O_(n){return n==null}function r_(n){return n===0&&1/n==-1/0}function q2(n){return typeof n=="number"&&Number.isInteger(n)&&!r_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="";function j2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zA(e)),e=G2(n.get(t),e);return zA(e)}function G2(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case $b:t+="";break;default:t+=l}}return t}function zA(n){return n+$b+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Wb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t){this.comparator=e,this.root=t||Ai.EMPTY}insert(e,t){return new wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dy(this.root,e,this.comparator,!0)}}class Dy{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ai{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Ai.RED,this.left=a??Ai.EMPTY,this.right=l??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Ai(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ai.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1;Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,t,r,a,l){return this}insert(e,t,r){return new Ai(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HA(this.data.getIterator())}getIteratorFrom(e){return new HA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ni(this.comparator);return t.data=e,t}}class HA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(wi.comparator)}static empty(){return new Yr([])}unionWith(e){let t=new ni(wi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Yb("Invalid base64 string: "+l):l}}(e);return new bi(t)}static fromUint8Array(e){const t=function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l}(e);return new bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const K2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Al(n){if(qt(!!n),typeof n=="string"){let e=0;const t=K2.exec(n);if(qt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(n.seconds),nanos:Ln(n.nanos)}}function Ln(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wl(n){return typeof n=="string"?bi.fromBase64String(n):bi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="server_timestamp",Xb="__type__",Zb="__previous_value__",Jb="__local_write_time__";function MT(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xb])===null||t===void 0?void 0:t.stringValue)===Qb}function P_(n){const e=n.mapValue.fields[Zb];return MT(e)?P_(e):e}function mp(n){const e=Al(n.mapValue.fields[Jb].timestampValue);return new ti(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t,r,a,l,h,p,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_}}const s_="(default)";class pp{constructor(e,t){this.projectId=e,this.database=t||s_}static empty(){return new pp("","")}get isDefaultDatabase(){return this.database===s_}isEqual(e){return e instanceof pp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="__type__",W2="__max__",My={mapValue:{}},t1="__vector__",a_="value";function Sl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?MT(n)?4:Q2(n)?9007199254740991:Y2(n)?10:11:Je()}function oo(n,e){if(n===e)return!0;const t=Sl(n);if(t!==Sl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mp(n).isEqual(mp(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=Al(a.timestampValue),p=Al(l.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return wl(a.bytesValue).isEqual(wl(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Ln(a.geoPointValue.latitude)===Ln(l.geoPointValue.latitude)&&Ln(a.geoPointValue.longitude)===Ln(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ln(a.integerValue)===Ln(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=Ln(a.doubleValue),p=Ln(l.doubleValue);return h===p?r_(h)===r_(p):isNaN(h)&&isNaN(p)}return!1}(n,e);case 9:return kh(n.arrayValue.values||[],e.arrayValue.values||[],oo);case 10:case 11:return function(a,l){const h=a.mapValue.fields||{},p=l.mapValue.fields||{};if(FA(h)!==FA(p))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(p[y]===void 0||!oo(h[y],p[y])))return!1;return!0}(n,e);default:return Je()}}function gp(n,e){return(n.values||[]).find(t=>oo(t,e))!==void 0}function Bh(n,e){if(n===e)return 0;const t=Sl(n),r=Sl(e);if(t!==r)return Ct(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ct(n.booleanValue,e.booleanValue);case 2:return function(l,h){const p=Ln(l.integerValue||l.doubleValue),y=Ln(h.integerValue||h.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1}(n,e);case 3:return qA(n.timestampValue,e.timestampValue);case 4:return qA(mp(n),mp(e));case 5:return B0(n.stringValue,e.stringValue);case 6:return function(l,h){const p=wl(l),y=wl(h);return p.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const p=l.split("/"),y=h.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Ct(p[_],y[_]);if(A!==0)return A}return Ct(p.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const p=Ct(Ln(l.latitude),Ln(h.latitude));return p!==0?p:Ct(Ln(l.longitude),Ln(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jA(n.arrayValue,e.arrayValue);case 10:return function(l,h){var p,y,_,A;const w=l.fields||{},C=h.fields||{},N=(p=w[a_])===null||p===void 0?void 0:p.arrayValue,U=(y=C[a_])===null||y===void 0?void 0:y.arrayValue,j=Ct(((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0,((A=U==null?void 0:U.values)===null||A===void 0?void 0:A.length)||0);return j!==0?j:jA(N,U)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===My.mapValue&&h===My.mapValue)return 0;if(l===My.mapValue)return 1;if(h===My.mapValue)return-1;const p=l.fields||{},y=Object.keys(p),_=h.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let w=0;w<y.length&&w<A.length;++w){const C=B0(y[w],A[w]);if(C!==0)return C;const N=Bh(p[y[w]],_[A[w]]);if(N!==0)return N}return Ct(y.length,A.length)}(n.mapValue,e.mapValue);default:throw Je()}}function qA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ct(n,e);const t=Al(n),r=Al(e),a=Ct(t.seconds,r.seconds);return a!==0?a:Ct(t.nanos,r.nanos)}function jA(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Bh(t[a],r[a]);if(l)return l}return Ct(t.length,r.length)}function zh(n){return z0(n)}function z0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Al(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return wl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=z0(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const h of r)l?l=!1:a+=",",a+=`${h}:${z0(t.fields[h])}`;return a+"}"}(n.mapValue):Je()}function Hy(n){switch(Sl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=P_(n);return e?16+Hy(e):16;case 5:return 2*n.stringValue.length;case 6:return wl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Hy(l),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return xl(r.fields,(l,h)=>{a+=l.length+Hy(h)}),a}(n.mapValue);default:throw Je()}}function GA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function F0(n){return!!n&&"integerValue"in n}function OT(n){return!!n&&"arrayValue"in n}function KA(n){return!!n&&"nullValue"in n}function $A(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qy(n){return!!n&&"mapValue"in n}function Y2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[e1])===null||t===void 0?void 0:t.stringValue)===t1}function np(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=np(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=np(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Q2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===W2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=np(t)}setAll(e){let t=wi.emptyPath(),r={},a=[];e.forEach((h,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,a),r={},a=[],t=p.popLast()}h?r[p.lastSegment()]=np(h):a.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());qy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];qy(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){xl(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new wr(np(this.value))}}function n1(n){const e=[];return xl(n.fields,(t,r)=>{const a=new wi([t]);if(qy(r)){const l=n1(r.mapValue).fields;if(l.length===0)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t,r,a,l,h,p){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=h,this.documentState=p}static newInvalidDocument(e){return new ki(e,0,it.min(),it.min(),it.min(),wr.empty(),0)}static newFoundDocument(e,t,r,a){return new ki(e,1,t,it.min(),r,a,0)}static newNoDocument(e,t){return new ki(e,2,t,it.min(),it.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new ki(e,3,t,it.min(),it.min(),wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,t){this.position=e,this.inclusive=t}}function WA(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],h=n.position[a];if(l.field.isKeyField()?r=Ge.comparator(Ge.fromName(h.referenceValue),t.key):r=Bh(h,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function YA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t="asc"){this.field=e,this.dir=t}}function X2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{}class Gn extends i1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new J2(e,t,r):t==="array-contains"?new nO(e,r):t==="in"?new iO(e,r):t==="not-in"?new rO(e,r):t==="array-contains-any"?new sO(e,r):new Gn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new eO(e,r):new tO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bh(t,this.value)):t!==null&&Sl(this.value)===Sl(t)&&this.matchesComparison(Bh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ga extends i1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ga(e,t)}matches(e){return r1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function r1(n){return n.op==="and"}function s1(n){return Z2(n)&&r1(n)}function Z2(n){for(const e of n.filters)if(e instanceof ga)return!1;return!0}function H0(n){if(n instanceof Gn)return n.field.canonicalString()+n.op.toString()+zh(n.value);if(s1(n))return n.filters.map(e=>H0(e)).join(",");{const e=n.filters.map(t=>H0(t)).join(",");return`${n.op}(${e})`}}function a1(n,e){return n instanceof Gn?function(r,a){return a instanceof Gn&&r.op===a.op&&r.field.isEqual(a.field)&&oo(r.value,a.value)}(n,e):n instanceof ga?function(r,a){return a instanceof ga&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,h,p)=>l&&a1(h,a.filters[p]),!0):!1}(n,e):void Je()}function o1(n){return n instanceof Gn?function(t){return`${t.field.canonicalString()} ${t.op} ${zh(t.value)}`}(n):n instanceof ga?function(t){return t.op.toString()+" {"+t.getFilters().map(o1).join(" ,")+"}"}(n):"Filter"}class J2 extends Gn{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class eO extends Gn{constructor(e,t){super(e,"in",t),this.keys=u1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tO extends Gn{constructor(e,t){super(e,"not-in",t),this.keys=u1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function u1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class nO extends Gn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return OT(t)&&gp(t.arrayValue,this.value)}}class iO extends Gn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gp(this.value.arrayValue,t)}}class rO extends Gn{constructor(e,t){super(e,"not-in",t)}matches(e){if(gp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gp(this.value.arrayValue,t)}}class sO extends Gn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!OT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t=null,r=[],a=[],l=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=h,this.endAt=p,this.le=null}}function QA(n,e=null,t=[],r=[],a=null,l=null,h=null){return new aO(n,e,t,r,a,l,h)}function PT(n){const e=st(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>H0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),O_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zh(r)).join(",")),e.le=t}return e.le}function VT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!X2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!a1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YA(n.startAt,e.startAt)&&YA(n.endAt,e.endAt)}function q0(n){return Ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t=null,r=[],a=[],l=null,h="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=h,this.startAt=p,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function oO(n,e,t,r,a,l,h,p){return new Jh(n,e,t,r,a,l,h,p)}function NT(n){return new Jh(n)}function XA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function l1(n){return n.collectionGroup!==null}function ip(n){const e=st(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new ni(wi.comparator);return h.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new yp(l,r))}),t.has(wi.keyField().canonicalString())||e.he.push(new yp(wi.keyField(),r))}return e.he}function to(n){const e=st(n);return e.Pe||(e.Pe=uO(e,ip(n))),e.Pe}function uO(n,e){if(n.limitType==="F")return QA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new yp(a.field,l)});const t=n.endAt?new o_(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new o_(n.startAt.position,n.startAt.inclusive):null;return QA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function j0(n,e){const t=n.filters.concat([e]);return new Jh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function u_(n,e,t){return new Jh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function V_(n,e){return VT(to(n),to(e))&&n.limitType===e.limitType}function c1(n){return`${PT(to(n))}|lt:${n.limitType}`}function Sh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>o1(a)).join(", ")}]`),O_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>zh(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>zh(a)).join(",")),`Target(${r})`}(to(n))}; limitType=${n.limitType})`}function N_(n,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ge.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,a){for(const l of ip(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(h,p,y){const _=WA(h,p,y);return h.inclusive?_<=0:_<0}(r.startAt,ip(r),a)||r.endAt&&!function(h,p,y){const _=WA(h,p,y);return h.inclusive?_>=0:_>0}(r.endAt,ip(r),a))}(n,e)}function lO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function f1(n){return(e,t)=>{let r=!1;for(const a of ip(n)){const l=cO(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function cO(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(l,h,p){const y=h.data.field(l),_=p.data.field(l);return y!==null&&_!==null?Bh(y,_):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return Wb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new wn(Ge.comparator);function ru(){return fO}const h1=new wn(Ge.comparator);function Qm(...n){let e=h1;for(const t of n)e=e.insert(t.key,t);return e}function d1(n){let e=h1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hc(){return rp()}function m1(){return rp()}function rp(){return new Jc(n=>n.toString(),(n,e)=>n.isEqual(e))}const hO=new wn(Ge.comparator),dO=new ni(Ge.comparator);function It(...n){let e=dO;for(const t of n)e=e.add(t);return e}const mO=new ni(Ct);function pO(){return mO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r_(e)?"-0":e}}function p1(n){return{integerValue:""+n}}function gO(n,e){return q2(e)?p1(e):LT(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this._=void 0}}function yO(n,e,t){return n instanceof l_?function(a,l){const h={fields:{[Xb]:{stringValue:Qb},[Jb]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&MT(l)&&(l=P_(l)),l&&(h.fields[Zb]=l),{mapValue:h}}(t,e):n instanceof _p?y1(n,e):n instanceof vp?_1(n,e):function(a,l){const h=g1(a,l),p=ZA(h)+ZA(a.Ie);return F0(h)&&F0(a.Ie)?p1(p):LT(a.serializer,p)}(n,e)}function _O(n,e,t){return n instanceof _p?y1(n,e):n instanceof vp?_1(n,e):t}function g1(n,e){return n instanceof c_?function(r){return F0(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class l_ extends L_{}class _p extends L_{constructor(e){super(),this.elements=e}}function y1(n,e){const t=v1(e);for(const r of n.elements)t.some(a=>oo(a,r))||t.push(r);return{arrayValue:{values:t}}}class vp extends L_{constructor(e){super(),this.elements=e}}function _1(n,e){let t=v1(e);for(const r of n.elements)t=t.filter(a=>!oo(a,r));return{arrayValue:{values:t}}}class c_ extends L_{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ZA(n){return Ln(n.integerValue||n.doubleValue)}function v1(n){return OT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function vO(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof _p&&a instanceof _p||r instanceof vp&&a instanceof vp?kh(r.elements,a.elements,oo):r instanceof c_&&a instanceof c_?oo(r.Ie,a.Ie):r instanceof l_&&a instanceof l_}(n.transform,e.transform)}class TO{constructor(e,t){this.version=e,this.transformResults=t}}class no{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new no}static exists(e){return new no(void 0,e)}static updateTime(e){return new no(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class U_{}function T1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new A1(n.key,no.none()):new Pp(n.key,n.data,no.none());{const t=n.data,r=wr.empty();let a=new ni(wi.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?r.delete(l):r.set(l,h),a=a.add(l)}return new Dl(n.key,r,new Yr(a.toArray()),no.none())}}function EO(n,e,t){n instanceof Pp?function(a,l,h){const p=a.value.clone(),y=ew(a.fieldTransforms,l,h.transformResults);p.setAll(y),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):n instanceof Dl?function(a,l,h){if(!jy(a.precondition,l))return void l.convertToUnknownDocument(h.version);const p=ew(a.fieldTransforms,l,h.transformResults),y=l.data;y.setAll(E1(a)),y.setAll(p),l.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(n,e,t):function(a,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function sp(n,e,t,r){return n instanceof Pp?function(l,h,p,y){if(!jy(l.precondition,h))return p;const _=l.value.clone(),A=tw(l.fieldTransforms,y,h);return _.setAll(A),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Dl?function(l,h,p,y){if(!jy(l.precondition,h))return p;const _=tw(l.fieldTransforms,y,h),A=h.data;return A.setAll(E1(l)),A.setAll(_),h.convertToFoundDocument(h.version,A).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(l,h,p){return jy(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p}(n,e,t)}function AO(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=g1(r.transform,a||null);l!=null&&(t===null&&(t=wr.empty()),t.set(r.field,l))}return t||null}function JA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&kh(r,a,(l,h)=>vO(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pp extends U_{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Dl extends U_{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function E1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ew(n,e,t){const r=new Map;qt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],h=l.transform,p=e.data.field(l.field);r.set(l.field,_O(h,p,t[a]))}return r}function tw(n,e,t){const r=new Map;for(const a of n){const l=a.transform,h=t.data.field(a.field);r.set(a.field,yO(l,h,e))}return r}class A1 extends U_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wO extends U_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&EO(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=sp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=sp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=m1();return this.mutations.forEach(a=>{const l=e.get(a.key),h=l.overlayedDocument;let p=this.applyToLocalView(h,l.mutatedFields);p=t.has(a.key)?null:p;const y=T1(h,p);y!==null&&r.set(a.key,y),h.isValidDocument()||h.convertToNoDocument(it.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),It())}isEqual(e){return this.batchId===e.batchId&&kh(this.mutations,e.mutations,(t,r)=>JA(t,r))&&kh(this.baseMutations,e.baseMutations,(t,r)=>JA(t,r))}}class UT{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){qt(e.mutations.length===r.length);let a=function(){return hO}();const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,r[h].version);return new UT(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,Ot;function CO(n){switch(n){case ye.OK:return Je();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Je()}}function w1(n){if(n===void 0)return iu("GRPC error has no .code"),ye.UNKNOWN;switch(n){case jn.OK:return ye.OK;case jn.CANCELLED:return ye.CANCELLED;case jn.UNKNOWN:return ye.UNKNOWN;case jn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case jn.INTERNAL:return ye.INTERNAL;case jn.UNAVAILABLE:return ye.UNAVAILABLE;case jn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case jn.NOT_FOUND:return ye.NOT_FOUND;case jn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case jn.ABORTED:return ye.ABORTED;case jn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case jn.DATA_LOSS:return ye.DATA_LOSS;default:return Je()}}(Ot=jn||(jn={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new _l([4294967295,4294967295],0);function nw(n){const e=k0().encode(n),t=new Bb;return t.update(e),new Uint8Array(t.digest())}function iw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _l([t,r],0),new _l([a,l],0)]}class kT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Xm(`Invalid padding: ${t}`);if(r<0)throw new Xm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xm(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Xm(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=_l.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(_l.fromNumber(r)));return a.compare(IO)===1&&(a=new _l([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=nw(e),[r,a]=iw(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(r,a,l);if(!this.Re(h))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new kT(l,a,t);return r.forEach(p=>h.insert(p)),h}insert(e){if(this.Ee===0)return;const t=nw(e),[r,a]=iw(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(r,a,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Xm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Vp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new k_(it.min(),a,new wn(Ct),ru(),It())}}class Vp{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vp(r,t,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class S1{constructor(e,t){this.targetId=e,this.ge=t}}class b1{constructor(e,t,r=bi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class rw{constructor(){this.pe=0,this.ye=sw(),this.we=bi.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=It(),t=It(),r=It();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Je()}}),new Vp(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=sw()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class xO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ru(),this.$e=Oy(),this.Ue=Oy(),this.Ke=new wn(Ct)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(q0(l))if(r===0){const h=new Ge(l.path);this.ze(t,h,ki.newNoDocument(h,it.min()))}else qt(r===1);else{const h=this.et(t);if(h!==r){const p=this.tt(e),y=p?this.nt(p,e,h):1;if(y!==0){this.Ye(t);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let h,p;try{h=wl(r).toUint8Array()}catch(y){if(y instanceof Yb)return Uh("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new kT(h,a,l)}catch(y){return Uh(y instanceof Xm?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.Ee===0?null:p}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(l=>{const h=this.ke.it(),p=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const p=this.Xe(h);if(p){if(l.current&&q0(p.target)){const y=new Ge(p.target.path);this._t(y).has(h)||this.ut(h,y)||this.ze(h,y,ki.newNoDocument(y,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let r=It();this.Ue.forEach((l,h)=>{let p=!0;h.forEachWhile(y=>{const _=this.Xe(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const a=new k_(e,t,this.Ke,this.Qe,r);return this.Qe=ru(),this.$e=Oy(),this.Ue=Oy(),this.Ke=new wn(Ct),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new rw,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new ni(Ct),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ni(Ct),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Le("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new rw),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Oy(){return new wn(Ge.comparator)}function sw(){return new wn(Ge.comparator)}const DO={asc:"ASCENDING",desc:"DESCENDING"},MO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OO={and:"AND",or:"OR"};class PO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function G0(n,e){return n.useProto3Json||O_(e)?e:{value:e}}function f_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function VO(n,e){return f_(n,e.toTimestamp())}function io(n){return qt(!!n),it.fromTimestamp(function(t){const r=Al(t);return new ti(r.seconds,r.nanos)}(n))}function BT(n,e){return K0(n,e).canonicalString()}function K0(n,e){const t=function(a){return new ln(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function C1(n){const e=ln.fromString(n);return qt(O1(e)),e}function $0(n,e){return BT(n.databaseId,e.path)}function h0(n,e){const t=C1(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(x1(t))}function I1(n,e){return BT(n.databaseId,e)}function NO(n){const e=C1(n);return e.length===4?ln.emptyPath():x1(e)}function W0(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function x1(n){return qt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function aw(n,e,t){return{name:$0(n,e),fields:t.value.mapValue.fields}}function LO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Je()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string"),bi.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),bi.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(_){const A=_.code===void 0?ye.UNKNOWN:w1(_.code);return new Ue(A,_.message||"")}(h);t=new b1(r,a,l,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=h0(n,r.document.name),l=io(r.document.updateTime),h=r.document.createTime?io(r.document.createTime):it.min(),p=new wr({mapValue:{fields:r.document.fields}}),y=ki.newFoundDocument(a,l,h,p),_=r.targetIds||[],A=r.removedTargetIds||[];t=new Gy(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=h0(n,r.document),l=r.readTime?io(r.readTime):it.min(),h=ki.newNoDocument(a,l),p=r.removedTargetIds||[];t=new Gy([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=h0(n,r.document),l=r.removedTargetIds||[];t=new Gy([],l,a,null)}else{if(!("filter"in e))return Je();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,h=new RO(a,l),p=r.targetId;t=new S1(p,h)}}return t}function UO(n,e){let t;if(e instanceof Pp)t={update:aw(n,e.key,e.value)};else if(e instanceof A1)t={delete:$0(n,e.key)};else if(e instanceof Dl)t={update:aw(n,e.key,e.data),updateMask:KO(e.fieldMask)};else{if(!(e instanceof wO))return Je();t={verify:$0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,h){const p=h.transform;if(p instanceof l_)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _p)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof vp)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof c_)return{fieldPath:h.field.canonicalString(),increment:p.Ie};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:VO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Je()}(n,e.precondition)),t}function kO(n,e){return n&&n.length>0?(qt(e!==void 0),n.map(t=>function(a,l){let h=a.updateTime?io(a.updateTime):io(l);return h.isEqual(it.min())&&(h=io(l)),new TO(h,a.transformResults||[])}(t,e))):[]}function BO(n,e){return{documents:[I1(n,e.path)]}}function zO(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=I1(n,a);const l=function(_){if(_.length!==0)return M1(ga.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(_){if(_.length!==0)return _.map(A=>function(C){return{field:bh(C.field),direction:qO(C.dir)}}(A))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=G0(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:t,parent:a}}function FO(n){let e=NO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){qt(r===1);const A=t.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let l=[];t.where&&(l=function(w){const C=D1(w);return C instanceof ga&&s1(C)?C.getFilters():[C]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(C=>function(U){return new yp(Rh(U.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(C))}(t.orderBy));let p=null;t.limit&&(p=function(w){let C;return C=typeof w=="object"?w.value:w,O_(C)?null:C}(t.limit));let y=null;t.startAt&&(y=function(w){const C=!!w.before,N=w.values||[];return new o_(N,C)}(t.startAt));let _=null;return t.endAt&&(_=function(w){const C=!w.before,N=w.values||[];return new o_(N,C)}(t.endAt)),oO(e,a,h,l,p,"F",y,_)}function HO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function D1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Rh(t.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Rh(t.unaryFilter.field);return Gn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Rh(t.unaryFilter.field);return Gn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Rh(t.unaryFilter.field);return Gn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(n):n.fieldFilter!==void 0?function(t){return Gn.create(Rh(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ga.create(t.compositeFilter.filters.map(r=>D1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Je()}}(t.compositeFilter.op))}(n):Je()}function qO(n){return DO[n]}function jO(n){return MO[n]}function GO(n){return OO[n]}function bh(n){return{fieldPath:n.canonicalString()}}function Rh(n){return wi.fromServerFormat(n.fieldPath)}function M1(n){return n instanceof Gn?function(t){if(t.op==="=="){if($A(t.value))return{unaryFilter:{field:bh(t.field),op:"IS_NAN"}};if(KA(t.value))return{unaryFilter:{field:bh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($A(t.value))return{unaryFilter:{field:bh(t.field),op:"IS_NOT_NAN"}};if(KA(t.value))return{unaryFilter:{field:bh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bh(t.field),op:jO(t.op),value:t.value}}}(n):n instanceof ga?function(t){const r=t.getFilters().map(a=>M1(a));return r.length===1?r[0]:{compositeFilter:{op:GO(t.op),filters:r}}}(n):Je()}function KO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function O1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,r,a,l=it.min(),h=it.min(),p=bi.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.Tt=e}}function WO(n){const e=FO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?u_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.Tn=new QO}addToCollectionParentIndex(e,t){return this.Tn.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(El.min())}getMinOffsetFromCollectionGroup(e,t){return _e.resolve(El.min())}updateCollectionGroup(e,t,r){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class QO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new ni(ln.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ni(ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P1=41943040;class Ar{static withCacheSize(e){return new Ar(e,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(P1,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Fh(0)}static Kn(){return new Fh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="LruGarbageCollector",XO=1048576;function lw([n,e],[t,r]){const a=Ct(n,t);return a===0?Ct(e,r):a}class ZO{constructor(e){this.Hn=e,this.buffer=new ni(lw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Le(uw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zh(t)?Le(uw,"Ignoring IndexedDB error during garbage collection: ",t):await Xh(t)}await this.er(3e5)})}}class eP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return _e.resolve(M_.ae);const r=new ZO(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(ow)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ow):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,l,h,p,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,h=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(r=w,p=Date.now(),this.removeTargets(e,r,t))).next(w=>(l=w,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(_=Date.now(),wh()<=Rt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-A}ms
	Determined least recently used ${a} in `+(p-h)+`ms
	Removed ${l} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w})))}}function tP(n,e){return new eP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.changes=new Jc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?_e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&sp(r.mutation,a,Yr.empty(),ti.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,It()).next(()=>r))}getLocalViewOfDocuments(e,t,r=It()){const a=Hc();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let h=Qm();return l.forEach((p,y)=>{h=h.insert(p,y.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=Hc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,It()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((h,p)=>{t.set(h,p)})})}computeViews(e,t,r,a){let l=ru();const h=rp(),p=function(){return rp()}();return t.forEach((y,_)=>{const A=r.get(_.key);a.has(_.key)&&(A===void 0||A.mutation instanceof Dl)?l=l.insert(_.key,_):A!==void 0?(h.set(_.key,A.mutation.getFieldMask()),sp(A.mutation,_,A.mutation.getFieldMask(),ti.now())):h.set(_.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,l).next(y=>(y.forEach((_,A)=>h.set(_,A)),t.forEach((_,A)=>{var w;return p.set(_,new iP(A,(w=h.get(_))!==null&&w!==void 0?w:null))}),p))}recalculateAndSaveOverlays(e,t){const r=rp();let a=new wn((h,p)=>h-p),l=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const p of h)p.keys().forEach(y=>{const _=t.get(y);if(_===null)return;let A=r.get(y)||Yr.empty();A=p.applyToLocalView(_,A),r.set(y,A);const w=(a.get(p.batchId)||It()).add(y);a=a.insert(p.batchId,w)})}).next(()=>{const h=[],p=a.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,w=m1();A.forEach(C=>{if(!l.has(C)){const N=T1(t.get(C),r.get(C));N!==null&&w.set(C,N),l=l.add(C)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,w))}return _e.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(h){return Ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):l1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):_e.resolve(Hc());let p=dp,y=l;return h.next(_=>_e.forEach(_,(A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),l.get(A)?_e.resolve():this.remoteDocumentCache.getEntry(e,A).next(C=>{y=y.insert(A,C)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,y,_,It())).next(A=>({batchId:p,changes:d1(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let a=Qm();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let h=Qm();return this.indexManager.getCollectionParents(e,l).next(p=>_e.forEach(p,y=>{const _=function(w,C){return new Jh(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,r,a).next(A=>{A.forEach((w,C)=>{h=h.insert(w,C)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a))).next(h=>{l.forEach((y,_)=>{const A=_.getKey();h.get(A)===null&&(h=h.insert(A,ki.newInvalidDocument(A)))});let p=Qm();return h.forEach((y,_)=>{const A=l.get(y);A!==void 0&&sp(A.mutation,_,Yr.empty(),ti.now()),N_(t,_)&&(p=p.insert(y,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return _e.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:io(a.createTime)}}(t)),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:WO(a.bundledQuery),readTime:io(a.readTime)}}(t)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.overlays=new wn(Ge.comparator),this.Rr=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hc();return _e.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.Et(e,t,l)}),_e.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),_e.resolve()}getOverlaysForCollection(e,t,r){const a=Hc(),l=t.length+1,h=new Ge(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&y.largestBatchId>r&&a.set(y.getKey(),y)}return _e.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new wn((_,A)=>_-A);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let A=l.get(_.largestBatchId);A===null&&(A=Hc(),l=l.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Hc(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=a)););return _e.resolve(p)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const h=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new bO(t,r));let l=this.Rr.get(t);l===void 0&&(l=It(),this.Rr.set(t,l)),this.Rr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.sessionToken=bi.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.Vr=new ni(fi.mr),this.gr=new ni(fi.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new fi(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new fi(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ge(new ln([])),r=new fi(t,e),a=new fi(t,e+1),l=[];return this.gr.forEachInRange([r,a],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ge(new ln([])),r=new fi(t,e),a=new fi(t,e+1);let l=It();return this.gr.forEachInRange([r,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new fi(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class fi{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ge.comparator(e.key,t.key)||Ct(e.Cr,t.Cr)}static pr(e,t){return Ct(e.Cr,t.Cr)||Ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ni(fi.mr)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new SO(l,t,r,a);this.mutationQueue.push(h);for(const p of a)this.Mr=this.Mr.add(new fi(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return _e.resolve(h)}lookupMutationBatch(e,t){return _e.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),l=a<0?0:a;return _e.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?DT:this.Fr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fi(t,0),a=new fi(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],h=>{const p=this.Or(h.Cr);l.push(p)}),_e.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ni(Ct);return t.forEach(a=>{const l=new fi(a,0),h=new fi(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],p=>{r=r.add(p.Cr)})}),_e.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Ge.isDocumentKey(l)||(l=l.child(""));const h=new fi(new Ge(l),0);let p=new ni(Ct);return this.Mr.forEachWhile(y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===a&&(p=p.add(y.Cr)),!0)},h),_e.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){qt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return _e.forEach(t.mutations,a=>{const l=new fi(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new fi(t,0),a=this.Mr.firstAfterOrEqual(r);return _e.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.kr=e,this.docs=function(){return new wn(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,h=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _e.resolve(r?r.document.mutableCopy():ki.newInvalidDocument(t))}getEntries(e,t){let r=ru();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():ki.newInvalidDocument(a))}),_e.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=ru();const h=t.path,p=new Ge(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||B2(k2(A),r)<=0||(a.has(A.key)||N_(t,A))&&(l=l.insert(A.key,A.mutableCopy()))}return _e.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Je()}qr(e,t){return _e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cP(this)}getSize(e){return _e.resolve(this.size)}}class cP extends nP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),_e.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.persistence=e,this.Qr=new Jc(t=>PT(t),VT),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.$r=0,this.Ur=new zT,this.targetCount=0,this.Kr=Fh.Un()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),_e.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Fh(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.zn(t),_e.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Qr.forEach((h,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),_e.waitFor(l).next(()=>a)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return _e.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),_e.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),_e.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return _e.resolve(r)}containsKey(e,t){return _e.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new M_(0),this.zr=!1,this.zr=!0,this.jr=new oP,this.referenceDelegate=e(this),this.Hr=new fP(this),this.indexManager=new YO,this.remoteDocumentCache=function(a){return new lP(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new $O(t),this.Yr=new sP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new uP(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const a=new hP(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return _e.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class hP extends F2{constructor(e){super(),this.currentSequenceNumber=e}}class FT{constructor(e){this.persistence=e,this.ti=new zT,this.ni=null}static ri(e){return new FT(e)}get ii(){if(this.ni)return this.ni;throw Je()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),_e.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),_e.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.ii,r=>{const a=Ge.fromPath(r);return this.si(e,a).next(l=>{l||t.removeEntry(a,it.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return _e.or([()=>_e.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class h_{constructor(e,t){this.persistence=e,this.oi=new Jc(r=>j2(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=tP(this,t)}static ri(e,t){return new h_(e,t)}Zr(){}Xr(e){return _e.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return _e.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(l=>l?_e.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,h=>this.ar(e,h,t).next(p=>{p||(r++,l.removeEntry(h,it.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),_e.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),_e.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hy(e.data.value)),t}ar(e,t,r){return _e.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return _e.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=It(),a=It();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new HT(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return fM()?8:H2(zi())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,a,r).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new dP;return this._s(e,t,h).next(p=>{if(l.result=p,this.Xi)return this.us(e,t,h,p.size)})}).next(()=>l.result)}us(e,t,r,a){return r.documentReadCount<this.es?(wh()<=Rt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Sh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),_e.resolve()):(wh()<=Rt.DEBUG&&Le("QueryEngine","Query:",Sh(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(wh()<=Rt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Sh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,to(t))):_e.resolve())}rs(e,t){if(XA(t))return _e.resolve(null);let r=to(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=u_(t,null,"F"),r=to(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const h=It(...l);return this.ns.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const _=this.cs(t,p);return this.ls(t,_,h,y.readTime)?this.rs(e,u_(t,null,"F")):this.hs(e,_,t,y)}))})))}ss(e,t,r,a){return XA(t)||a.isEqual(it.min())?_e.resolve(null):this.ns.getDocuments(e,r).next(l=>{const h=this.cs(t,l);return this.ls(t,h,r,a)?_e.resolve(null):(wh()<=Rt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Sh(t)),this.hs(e,h,t,U2(a,dp)).next(p=>p))})}cs(e,t){let r=new ni(f1(e));return t.forEach((a,l)=>{N_(e,l)&&(r=r.add(l))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,r){return wh()<=Rt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Sh(t)),this.ns.getDocumentsMatchingQuery(e,t,El.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="LocalStore",pP=3e8;class gP{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new wn(Ct),this.Is=new Jc(l=>PT(l),VT),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function yP(n,e,t,r){return new gP(n,e,t,r)}async function N1(n,e){const t=st(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const h=[],p=[];let y=It();for(const _ of a){h.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of l){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return t.localDocuments.getDocuments(r,y).next(_=>({Rs:_,removedBatchIds:h,addedBatchIds:p}))})})}function _P(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(p,y,_,A){const w=_.batch,C=w.keys();let N=_e.resolve();return C.forEach(U=>{N=N.next(()=>A.getEntry(y,U)).next(j=>{const B=_.docVersions.get(U);qt(B!==null),j.version.compareTo(B)<0&&(w.applyToRemoteDocument(j,_),j.isValidDocument()&&(j.setReadTime(_.commitVersion),A.addEntry(j)))})}),N.next(()=>p.mutationQueue.removeMutationBatch(y,w))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let y=It();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function L1(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function vP(n,e){const t=st(n),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const p=[];e.targetChanges.forEach((A,w)=>{const C=a.get(w);if(!C)return;p.push(t.Hr.removeMatchingKeys(l,A.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(l,A.addedDocuments,w)));let N=C.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?N=N.withResumeToken(bi.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):A.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(A.resumeToken,r)),a=a.insert(w,N),function(j,B,$){return j.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=pP?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(C,N,A)&&p.push(t.Hr.updateTargetData(l,N))});let y=ru(),_=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,A))}),p.push(TP(l,h,e.documentUpdates).next(A=>{y=A.Vs,_=A.fs})),!r.isEqual(it.min())){const A=t.Hr.getLastRemoteSnapshotVersion(l).next(w=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(A)}return _e.waitFor(p).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,y,_)).next(()=>y)}).then(l=>(t.Ts=a,l))}function TP(n,e,t){let r=It(),a=It();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let h=ru();return t.forEach((p,y)=>{const _=l.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(p)),y.isNoDocument()&&y.version.isEqual(it.min())?(e.removeEntry(p,y.readTime),h=h.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),h=h.insert(p,y)):Le(qT,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)}),{Vs:h,fs:a}})}function EP(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=DT),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AP(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(l=>l?(a=l,_e.resolve(a)):t.Hr.allocateTargetId(r).next(h=>(a=new dl(e,h,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Y0(n,e,t){const r=st(n),a=r.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Zh(h))throw h;Le(qT,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function cw(n,e,t){const r=st(n);let a=it.min(),l=It();return r.persistence.runTransaction("Execute query","readwrite",h=>function(y,_,A){const w=st(y),C=w.Is.get(A);return C!==void 0?_e.resolve(w.Ts.get(C)):w.Hr.getTargetData(_,A)}(r,h,to(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(h,p.targetId).next(y=>{l=y})}).next(()=>r.Ps.getDocumentsMatchingQuery(h,e,t?a:it.min(),t?l:It())).next(p=>(wP(r,lO(e),p),{documents:p,gs:l})))}function wP(n,e,t){let r=n.Es.get(e)||it.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Es.set(e,r)}class fw{constructor(){this.activeTargetIds=pO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SP{constructor(){this.ho=new fw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="ConnectivityMonitor";class dw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Le(hw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Le(hw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py=null;function Q0(){return Py===null?Py=function(){return 268435456+Math.round(2147483648*Math.random())}():Py++,"0x"+Py.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="RestConnection",RP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===s_?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,t,r,a,l){const h=Q0(),p=this.bo(e,t.toUriEncodedString());Le(d0,`Sending RPC '${e}' ${h}:`,p,r);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,a,l),this.vo(e,p,y,r).then(_=>(Le(d0,`Received RPC '${e}' ${h}: `,_),_),_=>{throw Uh(d0,`RPC '${e}' ${h} failed with error: `,_,"url: ",p,"request:",r),_})}Co(e,t,r,a,l,h){return this.So(e,t,r,a,l)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const r=RP[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="WebChannelConnection";class xP extends CP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const l=Q0();return new Promise((h,p)=>{const y=new zb;y.setWithCredentials(!0),y.listenOnce(Fb.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Fy.NO_ERROR:const A=y.getResponseJson();Le(Ni,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(A)),h(A);break;case Fy.TIMEOUT:Le(Ni,`RPC '${e}' ${l} timed out`),p(new Ue(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Fy.HTTP_ERROR:const w=y.getStatus();if(Le(Ni,`RPC '${e}' ${l} failed with status:`,w,"response text:",y.getResponseText()),w>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C==null?void 0:C.error;if(N&&N.status&&N.message){const U=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf($)>=0?$:ye.UNKNOWN}(N.status);p(new Ue(U,N.message))}else p(new Ue(ye.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Ue(ye.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Le(Ni,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(a);Le(Ni,`RPC '${e}' ${l} sending request:`,a),y.send(t,"POST",_,r,15)})}Wo(e,t,r){const a=Q0(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=jb(),p=qb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const A=l.join("");Le(Ni,`Creating RPC '${e}' stream ${a}: ${A}`,y);const w=h.createWebChannel(A,y);let C=!1,N=!1;const U=new IP({Fo:B=>{N?Le(Ni,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(C||(Le(Ni,`Opening RPC '${e}' stream ${a} transport.`),w.open(),C=!0),Le(Ni,`RPC '${e}' stream ${a} sending:`,B),w.send(B))},Mo:()=>w.close()}),j=(B,$,re)=>{B.listen($,ne=>{try{re(ne)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return j(w,Ym.EventType.OPEN,()=>{N||(Le(Ni,`RPC '${e}' stream ${a} transport opened.`),U.Qo())}),j(w,Ym.EventType.CLOSE,()=>{N||(N=!0,Le(Ni,`RPC '${e}' stream ${a} transport closed`),U.Uo())}),j(w,Ym.EventType.ERROR,B=>{N||(N=!0,Uh(Ni,`RPC '${e}' stream ${a} transport errored:`,B),U.Uo(new Ue(ye.UNAVAILABLE,"The operation could not be completed")))}),j(w,Ym.EventType.MESSAGE,B=>{var $;if(!N){const re=B.data[0];qt(!!re);const ne=re,Ae=(ne==null?void 0:ne.error)||(($=ne[0])===null||$===void 0?void 0:$.error);if(Ae){Le(Ni,`RPC '${e}' stream ${a} received error:`,Ae);const ce=Ae.status;let be=function(O){const k=jn[O];if(k!==void 0)return w1(k)}(ce),q=Ae.message;be===void 0&&(be=ye.INTERNAL,q="Unknown error status: "+ce+" with message "+Ae.message),N=!0,U.Uo(new Ue(be,q)),w.close()}else Le(Ni,`RPC '${e}' stream ${a} received:`,re),U.Ko(re)}}),j(p,Hb.STAT_EVENT,B=>{B.stat===U0.PROXY?Le(Ni,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===U0.NOPROXY&&Le(Ni,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function m0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(n){return new PO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&Le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="PersistentStream";class k1{constructor(e,t,r,a,l,h,p,y){this.Ti=e,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new U1(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(iu(t.toString()),iu("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new Ue(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Le(mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Le(mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DP extends k1{constructor(e,t,r,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=LO(this.serializer,e),r=function(l){if(!("targetChange"in l))return it.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?it.min():h.readTime?io(h.readTime):it.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=W0(this.serializer),t.addTarget=function(l,h){let p;const y=h.target;if(p=q0(y)?{documents:BO(l,y)}:{query:zO(l,y).ht},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=R1(l,h.resumeToken);const _=G0(l,h.expectedCount);_!==null&&(p.expectedCount=_)}else if(h.snapshotVersion.compareTo(it.min())>0){p.readTime=f_(l,h.snapshotVersion.toTimestamp());const _=G0(l,h.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const r=HO(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=W0(this.serializer),t.removeTarget=e,this.I_(t)}}class MP extends k1{constructor(e,t,r,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=kO(e.writeResults,e.commitTime),r=io(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=W0(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>UO(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{}class PP extends OP{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ue(ye.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,K0(t,r),a,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ue(ye.UNKNOWN,l.toString())})}Co(e,t,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Co(e,K0(t,r),a,h,p,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ue(ye.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class VP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(iu(t),this.N_=!1):Le("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="RemoteStore";class NP{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{r.enqueueAndForget(async()=>{ef(this)&&(Le(Yc,"Restarting streams for network reachability change."),await async function(y){const _=st(y);_.W_.add(4),await Np(_),_.j_.set("Unknown"),_.W_.delete(4),await z_(_)}(this))})}),this.j_=new VP(r,a)}}async function z_(n){if(ef(n))for(const e of n.G_)await e(!0)}async function Np(n){for(const e of n.G_)await e(!1)}function B1(n,e){const t=st(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),$T(t)?KT(t):ed(t).c_()&&GT(t,e))}function jT(n,e){const t=st(n),r=ed(t);t.K_.delete(e),r.c_()&&z1(t,e),t.K_.size===0&&(r.c_()?r.P_():ef(t)&&t.j_.set("Unknown"))}function GT(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ed(n).y_(e)}function z1(n,e){n.H_.Ne(e),ed(n).w_(e)}function KT(n){n.H_=new xO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ed(n).start(),n.j_.B_()}function $T(n){return ef(n)&&!ed(n).u_()&&n.K_.size>0}function ef(n){return st(n).W_.size===0}function F1(n){n.H_=void 0}async function LP(n){n.j_.set("Online")}async function UP(n){n.K_.forEach((e,t)=>{GT(n,e)})}async function kP(n,e){F1(n),$T(n)?(n.j_.q_(e),KT(n)):n.j_.set("Unknown")}async function BP(n,e,t){if(n.j_.set("Online"),e instanceof b1&&e.state===2&&e.cause)try{await async function(a,l){const h=l.cause;for(const p of l.targetIds)a.K_.has(p)&&(await a.remoteSyncer.rejectListen(p,h),a.K_.delete(p),a.H_.removeTarget(p))}(n,e)}catch(r){Le(Yc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await d_(n,r)}else if(e instanceof Gy?n.H_.We(e):e instanceof S1?n.H_.Ze(e):n.H_.je(e),!t.isEqual(it.min()))try{const r=await L1(n.localStore);t.compareTo(r)>=0&&await function(l,h){const p=l.H_.ot(h);return p.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=l.K_.get(_);A&&l.K_.set(_,A.withResumeToken(y.resumeToken,h))}}),p.targetMismatches.forEach((y,_)=>{const A=l.K_.get(y);if(!A)return;l.K_.set(y,A.withResumeToken(bi.EMPTY_BYTE_STRING,A.snapshotVersion)),z1(l,y);const w=new dl(A.target,y,_,A.sequenceNumber);GT(l,w)}),l.remoteSyncer.applyRemoteEvent(p)}(n,t)}catch(r){Le(Yc,"Failed to raise snapshot:",r),await d_(n,r)}}async function d_(n,e,t){if(!Zh(e))throw e;n.W_.add(1),await Np(n),n.j_.set("Offline"),t||(t=()=>L1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Le(Yc,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await z_(n)})}function H1(n,e){return e().catch(t=>d_(n,t,e))}async function F_(n){const e=st(n),t=bl(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:DT;for(;zP(e);)try{const a=await EP(e.localStore,r);if(a===null){e.U_.length===0&&t.P_();break}r=a.batchId,FP(e,a)}catch(a){await d_(e,a)}q1(e)&&j1(e)}function zP(n){return ef(n)&&n.U_.length<10}function FP(n,e){n.U_.push(e);const t=bl(n);t.c_()&&t.S_&&t.b_(e.mutations)}function q1(n){return ef(n)&&!bl(n).u_()&&n.U_.length>0}function j1(n){bl(n).start()}async function HP(n){bl(n).C_()}async function qP(n){const e=bl(n);for(const t of n.U_)e.b_(t.mutations)}async function jP(n,e,t){const r=n.U_.shift(),a=UT.from(r,e,t);await H1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await F_(n)}async function GP(n,e){e&&bl(n).S_&&await async function(r,a){if(function(h){return CO(h)&&h!==ye.ABORTED}(a.code)){const l=r.U_.shift();bl(r).h_(),await H1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await F_(r)}}(n,e),q1(n)&&j1(n)}async function pw(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),Le(Yc,"RemoteStore received new credentials");const r=ef(t);t.W_.add(3),await Np(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await z_(t)}async function KP(n,e){const t=st(n);e?(t.W_.delete(2),await z_(t)):e||(t.W_.add(2),await Np(t),t.j_.set("Unknown"))}function ed(n){return n.J_||(n.J_=function(t,r,a){const l=st(t);return l.M_(),new DP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:LP.bind(null,n),No:UP.bind(null,n),Lo:kP.bind(null,n),p_:BP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),$T(n)?KT(n):n.j_.set("Unknown")):(await n.J_.stop(),F1(n))})),n.J_}function bl(n){return n.Y_||(n.Y_=function(t,r,a){const l=st(t);return l.M_(),new MP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:HP.bind(null,n),Lo:GP.bind(null,n),D_:qP.bind(null,n),v_:jP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await F_(n)):(await n.Y_.stop(),n.U_.length>0&&(Le(Yc,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const h=Date.now()+r,p=new WT(e,t,h,a,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YT(n,e){if(iu("AsyncQueue",`${e}: ${n}`),Zh(n))return new Ue(ye.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{static emptySet(e){return new Oh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=Qm(),this.sortedSet=new wn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Oh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.Z_=new wn(Ge.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Je():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Hh{constructor(e,t,r,a,l,h,p,y,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,a,l){const h=[];return t.forEach(p=>{h.push({type:0,doc:p})}),new Hh(e,t,Oh.emptySet(t),h,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class WP{constructor(){this.queries=yw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=st(t),l=a.queries;a.queries=yw(),l.forEach((h,p)=>{for(const y of p.ta)y.onError(r)})})(this,new Ue(ye.ABORTED,"Firestore shutting down"))}}function yw(){return new Jc(n=>c1(n),V_)}async function G1(n,e){const t=st(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(r=2):(l=new $P,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const p=YT(h,`Initialization of query '${Sh(e.query)}' failed`);return void e.onError(p)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&QT(t)}async function K1(n,e){const t=st(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function YP(n,e){const t=st(n);let r=!1;for(const a of e){const l=a.query,h=t.queries.get(l);if(h){for(const p of h.ta)p.oa(a)&&(r=!0);h.ea=a}}r&&QT(t)}function QP(n,e,t){const r=st(n),a=r.queries.get(e);if(a)for(const l of a.ta)l.onError(t);r.queries.delete(e)}function QT(n){n.ia.forEach(e=>{e.next()})}var X0,_w;(_w=X0||(X0={}))._a="default",_w.Cache="cache";class $1{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Hh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==X0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.key=e}}class Y1{constructor(e){this.key=e}}class XP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=It(),this.mutatedKeys=It(),this.ya=f1(e),this.wa=new Oh(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new gw,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,p=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((A,w)=>{const C=a.get(A),N=N_(this.query,w)?w:null,U=!!C&&this.mutatedKeys.has(C.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;C&&N?C.data.isEqual(N.data)?U!==j&&(r.track({type:3,doc:N}),B=!0):this.va(C,N)||(r.track({type:2,doc:N}),B=!0,(y&&this.ya(N,y)>0||_&&this.ya(N,_)<0)&&(p=!0)):!C&&N?(r.track({type:0,doc:N}),B=!0):C&&!N&&(r.track({type:1,doc:C}),B=!0,(y||_)&&(p=!0)),B&&(N?(h=h.add(N),l=j?l.add(A):l.delete(A)):(h=h.delete(A),l=l.delete(A)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const A=this.query.limitType==="F"?h.last():h.first();h=h.delete(A.key),l=l.delete(A.key),r.track({type:1,doc:A})}return{wa:h,Da:r,ls:p,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((A,w)=>function(N,U){const j=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return j(N)-j(U)}(A.type,w.type)||this.ya(A.doc,w.doc)),this.Ca(r),a=a!=null&&a;const p=t&&!a?this.Fa():[],y=this.pa.size===0&&this.current&&!a?1:0,_=y!==this.ga;return this.ga=y,h.length!==0||_?{snapshot:new Hh(this.query,e.wa,l,h,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new gw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=It(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Y1(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new W1(r))}),t}Oa(e){this.fa=e.gs,this.pa=It();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Hh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const XT="SyncEngine";class ZP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class JP{constructor(e){this.key=e,this.Ba=!1}}class eV{constructor(e,t,r,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Jc(p=>c1(p),V_),this.qa=new Map,this.Qa=new Set,this.$a=new wn(Ge.comparator),this.Ua=new Map,this.Ka=new zT,this.Wa={},this.Ga=new Map,this.za=Fh.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function tV(n,e,t=!0){const r=tR(n);let a;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await Q1(r,e,t,!0),a}async function nV(n,e){const t=tR(n);await Q1(t,e,!0,!1)}async function Q1(n,e,t,r){const a=await AP(n.localStore,to(e)),l=a.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let p;return r&&(p=await iV(n,e,l,h==="current",a.resumeToken)),n.isPrimaryClient&&t&&B1(n.remoteStore,a),p}async function iV(n,e,t,r,a){n.Ha=(w,C,N)=>async function(j,B,$,re){let ne=B.view.ba($);ne.ls&&(ne=await cw(j.localStore,B.query,!1).then(({documents:q})=>B.view.ba(q,ne)));const Ae=re&&re.targetChanges.get(B.targetId),ce=re&&re.targetMismatches.get(B.targetId)!=null,be=B.view.applyChanges(ne,j.isPrimaryClient,Ae,ce);return Tw(j,B.targetId,be.Ma),be.snapshot}(n,w,C,N);const l=await cw(n.localStore,e,!0),h=new XP(e,l.gs),p=h.ba(l.documents),y=Vp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),_=h.applyChanges(p,n.isPrimaryClient,y);Tw(n,t,_.Ma);const A=new ZP(e,t,h);return n.ka.set(e,A),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),_.snapshot}async function rV(n,e,t){const r=st(n),a=r.ka.get(e),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(h=>!V_(h,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Y0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&jT(r.remoteStore,a.targetId),Z0(r,a.targetId)}).catch(Xh)):(Z0(r,a.targetId),await Y0(r.localStore,a.targetId,!0))}async function sV(n,e){const t=st(n),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),jT(t.remoteStore,r.targetId))}async function aV(n,e,t){const r=dV(n);try{const a=await function(h,p){const y=st(h),_=ti.now(),A=p.reduce((N,U)=>N.add(U.key),It());let w,C;return y.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=ru(),j=It();return y.ds.getEntries(N,A).next(B=>{U=B,U.forEach(($,re)=>{re.isValidDocument()||(j=j.add($))})}).next(()=>y.localDocuments.getOverlayedDocuments(N,U)).next(B=>{w=B;const $=[];for(const re of p){const ne=AO(re,w.get(re.key).overlayedDocument);ne!=null&&$.push(new Dl(re.key,ne,n1(ne.value.mapValue),no.exists(!0)))}return y.mutationQueue.addMutationBatch(N,_,$,p)}).next(B=>{C=B;const $=B.applyToLocalDocumentSet(w,j);return y.documentOverlayCache.saveOverlays(N,B.batchId,$)})}).then(()=>({batchId:C.batchId,changes:d1(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(h,p,y){let _=h.Wa[h.currentUser.toKey()];_||(_=new wn(Ct)),_=_.insert(p,y),h.Wa[h.currentUser.toKey()]=_}(r,a.batchId,t),await Lp(r,a.changes),await F_(r.remoteStore)}catch(a){const l=YT(a,"Failed to persist write");t.reject(l)}}async function X1(n,e){const t=st(n);try{const r=await vP(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.Ua.get(l);h&&(qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Ba=!0:a.modifiedDocuments.size>0?qt(h.Ba):a.removedDocuments.size>0&&(qt(h.Ba),h.Ba=!1))}),await Lp(t,r,e)}catch(r){await Xh(r)}}function vw(n,e,t){const r=st(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((l,h)=>{const p=h.view.sa(e);p.snapshot&&a.push(p.snapshot)}),function(h,p){const y=st(h);y.onlineState=p;let _=!1;y.queries.forEach((A,w)=>{for(const C of w.ta)C.sa(p)&&(_=!0)}),_&&QT(y)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oV(n,e,t){const r=st(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ua.get(e),l=a&&a.key;if(l){let h=new wn(Ge.comparator);h=h.insert(l,ki.newNoDocument(l,it.min()));const p=It().add(l),y=new k_(it.min(),new Map,new wn(Ct),h,p);await X1(r,y),r.$a=r.$a.remove(l),r.Ua.delete(e),ZT(r)}else await Y0(r.localStore,e,!1).then(()=>Z0(r,e,t)).catch(Xh)}async function uV(n,e){const t=st(n),r=e.batch.batchId;try{const a=await _P(t.localStore,e);J1(t,r,null),Z1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Lp(t,a)}catch(a){await Xh(a)}}async function lV(n,e,t){const r=st(n);try{const a=await function(h,p){const y=st(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next(w=>(qt(w!==null),A=w.keys(),y.mutationQueue.removeMutationBatch(_,w))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>y.localDocuments.getDocuments(_,A))})}(r.localStore,e);J1(r,e,t),Z1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Lp(r,a)}catch(a){await Xh(a)}}function Z1(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function J1(n,e,t){const r=st(n);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function Z0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||eR(n,r)})}function eR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(jT(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),ZT(n))}function Tw(n,e,t){for(const r of t)r instanceof W1?(n.Ka.addReference(r.key,e),cV(n,r)):r instanceof Y1?(Le(XT,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||eR(n,r.key)):Je()}function cV(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Le(XT,"New document in limbo: "+t),n.Qa.add(r),ZT(n))}function ZT(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ge(ln.fromString(e)),r=n.za.next();n.Ua.set(r,new JP(t)),n.$a=n.$a.insert(t,r),B1(n.remoteStore,new dl(to(NT(t.path)),r,"TargetPurposeLimboResolution",M_.ae))}}async function Lp(n,e,t){const r=st(n),a=[],l=[],h=[];r.ka.isEmpty()||(r.ka.forEach((p,y)=>{h.push(r.Ha(y,e,t).then(_=>{var A;if((_||t)&&r.isPrimaryClient){const w=_?!_.fromCache:(A=t==null?void 0:t.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(_){a.push(_);const w=HT.Yi(y.targetId,_);l.push(w)}}))}),await Promise.all(h),r.La.p_(a),await async function(y,_){const A=st(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>_e.forEach(_,C=>_e.forEach(C.Hi,N=>A.persistence.referenceDelegate.addReference(w,C.targetId,N)).next(()=>_e.forEach(C.Ji,N=>A.persistence.referenceDelegate.removeReference(w,C.targetId,N)))))}catch(w){if(!Zh(w))throw w;Le(qT,"Failed to update sequence numbers: "+w)}for(const w of _){const C=w.targetId;if(!w.fromCache){const N=A.Ts.get(C),U=N.snapshotVersion,j=N.withLastLimboFreeSnapshotVersion(U);A.Ts=A.Ts.insert(C,j)}}}(r.localStore,l))}async function fV(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){Le(XT,"User change. New user:",e.toKey());const r=await N1(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(p=>{p.forEach(y=>{y.reject(new Ue(ye.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lp(t,r.Rs)}}function hV(n,e){const t=st(n),r=t.Ua.get(e);if(r&&r.Ba)return It().add(r.key);{let a=It();const l=t.qa.get(e);if(!l)return a;for(const h of l){const p=t.ka.get(h);a=a.unionWith(p.view.Sa)}return a}}function tR(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=X1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oV.bind(null,e),e.La.p_=YP.bind(null,e.eventManager),e.La.Ja=QP.bind(null,e.eventManager),e}function dV(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lV.bind(null,e),e}class m_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=B_(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return yP(this.persistence,new mP,e.initialUser,this.serializer)}Xa(e){return new V1(FT.ri,this.serializer)}Za(e){return new SP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}m_.provider={build:()=>new m_};class mV extends m_{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){qt(this.persistence.referenceDelegate instanceof h_);const r=this.persistence.referenceDelegate.garbageCollector;return new JO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new V1(r=>h_.ri(r,t),this.serializer)}}class J0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fV.bind(null,this.syncEngine),await KP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WP}()}createDatastore(e){const t=B_(e.databaseInfo.databaseId),r=function(l){return new xP(l)}(e.databaseInfo);return function(l,h,p,y){return new PP(l,h,p,y)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,l,h,p){return new NP(r,a,l,h,p)}(this.localStore,this.datastore,e.asyncQueue,t=>vw(this.syncEngine,t,0),function(){return dw.D()?new dw:new bP}())}createSyncEngine(e,t){return function(a,l,h,p,y,_,A){const w=new eV(a,l,h,p,y,_);return A&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=st(a);Le(Yc,"RemoteStore shutting down."),l.W_.add(5),await Np(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}J0.provider={build:()=>new J0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):iu("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="FirestoreClient";class pV{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Ui.UNAUTHENTICATED,this.clientId=Kb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async h=>{Le(Rl,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(Le(Rl,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=YT(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function p0(n,e){n.asyncQueue.verifyOperationInProgress(),Le(Rl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await N1(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ew(n,e){n.asyncQueue.verifyOperationInProgress();const t=await gV(n);Le(Rl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>pw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>pw(e.remoteStore,a)),n._onlineComponents=e}async function gV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le(Rl,"Using user provided OfflineComponentProvider");try{await p0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ye.FAILED_PRECONDITION||a.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Uh("Error using user provided cache. Falling back to memory cache: "+t),await p0(n,new m_)}}else Le(Rl,"Using default OfflineComponentProvider"),await p0(n,new mV(void 0));return n._offlineComponents}async function iR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le(Rl,"Using user provided OnlineComponentProvider"),await Ew(n,n._uninitializedComponentsProvider._online)):(Le(Rl,"Using default OnlineComponentProvider"),await Ew(n,new J0))),n._onlineComponents}function yV(n){return iR(n).then(e=>e.syncEngine)}async function rR(n){const e=await iR(n),t=e.eventManager;return t.onListen=tV.bind(null,e.syncEngine),t.onUnlisten=rV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sV.bind(null,e.syncEngine),t}function _V(n,e,t={}){const r=new Jo;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,p,y,_){const A=new nR({next:C=>{A.su(),h.enqueueAndForget(()=>K1(l,w));const N=C.docs.has(p);!N&&C.fromCache?_.reject(new Ue(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&C.fromCache&&y&&y.source==="server"?_.reject(new Ue(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),w=new $1(NT(p.path),A,{includeMetadataChanges:!0,Ta:!0});return G1(l,w)}(await rR(n),n.asyncQueue,e,t,r)),r.promise}function vV(n,e,t={}){const r=new Jo;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,p,y,_){const A=new nR({next:C=>{A.su(),h.enqueueAndForget(()=>K1(l,w)),C.fromCache&&y.source==="server"?_.reject(new Ue(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),w=new $1(p,A,{includeMetadataChanges:!0,Ta:!0});return G1(l,w)}(await rR(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(n,e,t){if(!t)throw new Ue(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TV(n,e,t,r){if(e===!0&&r===!0)throw new Ue(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ww(n){if(!Ge.isDocumentKey(n))throw new Ue(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Sw(n){if(Ge.isDocumentKey(n))throw new Ue(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function H_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Je()}function su(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=H_(n);throw new Ue(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firestore.googleapis.com",bw=!0;class Rw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oR,this.ssl=bw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:bw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XO)throw new Ue(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class q_{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x2;switch(r.type){case"firstParty":return new P2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ue(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Aw.get(t);r&&(Le("ComponentProvider","Removing Datastore"),Aw.delete(t),r.terminate())}(this),Promise.resolve()}}function EV(n,e,t,r={}){var a;const l=(n=su(n,q_))._getSettings(),h=`${e}:${t}`;if(l.host!==oR&&l.host!==h&&Uh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),r.mockUserToken){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Ui.MOCK_USER;else{p=rM(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ue(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ui(_)}n._authCredentials=new D2(new Gb(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ml(this.firestore,e,this._query)}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class vl extends Ml{constructor(e,t,r){super(e,t,NT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new Ge(e))}withConverter(e){return new vl(this.firestore,e,this._path)}}function uR(n,e,...t){if(n=Si(n),aR("collection","path",e),n instanceof q_){const r=ln.fromString(e,...t);return Sw(r),new vl(n,null,r)}{if(!(n instanceof ar||n instanceof vl))throw new Ue(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return Sw(r),new vl(n.firestore,null,r)}}function j_(n,e,...t){if(n=Si(n),arguments.length===1&&(e=Kb.newId()),aR("doc","path",e),n instanceof q_){const r=ln.fromString(e,...t);return ww(r),new ar(n,null,new Ge(r))}{if(!(n instanceof ar||n instanceof vl))throw new Ue(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return ww(r),new ar(n.firestore,n instanceof vl?n.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="AsyncQueue";class Iw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new U1(this,"async_queue_retry"),this.Su=()=>{const r=m0();r&&Le(Cw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=m0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=m0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Jo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Zh(e))throw e;Le(Cw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(h){let p=h.message||"";return h.stack&&(p=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),p}(r);throw iu("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=WT.createAndSchedule(this,e,t,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Je()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Up extends q_{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Iw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iw(e),this._firestoreClient=void 0,await e}}}function AV(n,e){const t=typeof n=="object"?n:Lb(),r=typeof n=="string"?n:s_,a=IT(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=nM("firestore");l&&EV(a,...l)}return a}function JT(n){if(n._terminated)throw new Ue(ye.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wV(n),n._firestoreClient}function wV(n){var e,t,r;const a=n._freezeSettings(),l=function(p,y,_,A){return new $2(p,y,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,sR(A.experimentalLongPollingOptions),A.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new pV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qh(bi.fromBase64String(e))}catch(t){throw new Ue(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qh(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ue(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=/^__.*__$/;class bV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Dl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pp(e,this.data,t,this.fieldTransforms)}}class lR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Dl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class iE{constructor(e,t,r,a,l,h){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new iE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return p_(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(cR(this.Lu)&&SV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class RV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||B_(e)}ju(e,t,r,a=!1){return new iE({Lu:e,methodName:t,zu:r,path:wi.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rE(n){const e=n._freezeSettings(),t=B_(n._databaseId);return new RV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CV(n,e,t,r,a,l={}){const h=n.ju(l.merge||l.mergeFields?2:0,e,t,a);sE("Data must be an object, but it was:",h,r);const p=fR(r,h);let y,_;if(l.merge)y=new Yr(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const A=[];for(const w of l.mergeFields){const C=eT(e,w,t);if(!h.contains(C))throw new Ue(ye.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);dR(A,C)||A.push(C)}y=new Yr(A),_=h.fieldTransforms.filter(w=>y.covers(w.field))}else y=null,_=h.fieldTransforms;return new bV(new wr(p),y,_)}class K_ extends eE{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof K_}}function IV(n,e,t,r){const a=n.ju(1,e,t);sE("Data must be an object, but it was:",a,r);const l=[],h=wr.empty();xl(r,(y,_)=>{const A=aE(e,y,t);_=Si(_);const w=a.Uu(A);if(_ instanceof K_)l.push(A);else{const C=kp(_,w);C!=null&&(l.push(A),h.set(A,C))}});const p=new Yr(l);return new lR(h,p,a.fieldTransforms)}function xV(n,e,t,r,a,l){const h=n.ju(1,e,t),p=[eT(e,r,t)],y=[a];if(l.length%2!=0)throw new Ue(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<l.length;C+=2)p.push(eT(e,l[C])),y.push(l[C+1]);const _=[],A=wr.empty();for(let C=p.length-1;C>=0;--C)if(!dR(_,p[C])){const N=p[C];let U=y[C];U=Si(U);const j=h.Uu(N);if(U instanceof K_)_.push(N);else{const B=kp(U,j);B!=null&&(_.push(N),A.set(N,B))}}const w=new Yr(_);return new lR(A,w,h.fieldTransforms)}function DV(n,e,t,r=!1){return kp(t,n.ju(r?4:3,e))}function kp(n,e){if(hR(n=Si(n)))return sE("Unsupported field value:",e,n),fR(n,e);if(n instanceof eE)return function(r,a){if(!cR(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const l=[];let h=0;for(const p of r){let y=kp(p,a.Ku(h));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),h++}return{arrayValue:{values:l}}}(n,e)}return function(r,a){if((r=Si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gO(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ti.fromDate(r);return{timestampValue:f_(a.serializer,l)}}if(r instanceof ti){const l=new ti(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:f_(a.serializer,l)}}if(r instanceof tE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qh)return{bytesValue:R1(a.serializer,r._byteString)};if(r instanceof ar){const l=a.databaseId,h=r.firestore._databaseId;if(!h.isEqual(l))throw a.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:BT(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof nE)return function(h,p){return{mapValue:{fields:{[e1]:{stringValue:t1},[a_]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw p.Wu("VectorValues must only contain numeric values.");return LT(p.serializer,_)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${H_(r)}`)}(n,e)}function fR(n,e){const t={};return Wb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(n,(r,a)=>{const l=kp(a,e.qu(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function hR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ti||n instanceof tE||n instanceof qh||n instanceof ar||n instanceof eE||n instanceof nE)}function sE(n,e,t){if(!hR(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=H_(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function eT(n,e,t){if((e=Si(e))instanceof G_)return e._internalPath;if(typeof e=="string")return aE(n,e);throw p_("Field path arguments must be of type string or ",n,!1,void 0,t)}const MV=new RegExp("[~\\*/\\[\\]]");function aE(n,e,t){if(e.search(MV)>=0)throw p_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new G_(...e.split("."))._internalPath}catch{throw p_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function p_(n,e,t,r,a){const l=r&&!r.isEmpty(),h=a!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(l||h)&&(y+=" (found",l&&(y+=` in field ${r}`),h&&(y+=` in document ${a}`),y+=")"),new Ue(ye.INVALID_ARGUMENT,p+n+y)}function dR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OV extends mR{data(){return super.data()}}function oE(n,e){return typeof e=="string"?aE(n,e):e instanceof G_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ue(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uE{}class lE extends uE{}function pR(n,e,...t){let r=[];e instanceof uE&&r.push(e),r=r.concat(t),function(l){const h=l.filter(y=>y instanceof fE).length,p=l.filter(y=>y instanceof cE).length;if(h>1||h>0&&p>0)throw new Ue(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class cE extends lE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new cE(e,t,r)}_apply(e){const t=this._parse(e);return yR(e._query,t),new Ml(e.firestore,e.converter,j0(e._query,t))}_parse(e){const t=rE(e.firestore);return function(l,h,p,y,_,A,w){let C;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Dw(w,A);const U=[];for(const j of w)U.push(xw(y,l,j));C={arrayValue:{values:U}}}else C=xw(y,l,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Dw(w,A),C=DV(p,h,w,A==="in"||A==="not-in");return Gn.create(_,A,C)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class fE extends uE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fE(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ga.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let h=a;const p=l.getFlattenedFilters();for(const y of p)yR(h,y),h=j0(h,y)}(e._query,t),new Ml(e.firestore,e.converter,j0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hE extends lE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hE(e,t)}_apply(e){const t=function(a,l,h){if(a.startAt!==null)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yp(l,h)}(e._query,this._field,this._direction);return new Ml(e.firestore,e.converter,function(a,l){const h=a.explicitOrderBy.concat([l]);return new Jh(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function gR(n,e="asc"){const t=e,r=oE("orderBy",n);return hE._create(r,t)}class dE extends lE{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new dE(e,t,r)}_apply(e){return new Ml(e.firestore,e.converter,u_(e._query,this._limit,this._limitType))}}function VV(n){return dE._create("limit",n,"F")}function xw(n,e,t){if(typeof(t=Si(t))=="string"){if(t==="")throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(e)&&t.indexOf("/")!==-1)throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ln.fromString(t));if(!Ge.isDocumentKey(r))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GA(n,new Ge(r))}if(t instanceof ar)return GA(n,t._key);throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${H_(t)}.`)}function Dw(n,e){if(!Array.isArray(n)||n.length===0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yR(n,e){const t=function(a,l){for(const h of a)for(const p of h.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ue(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ue(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class NV{convertValue(e,t="none"){switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xl(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,a;const l=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[a_].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(h=>Ln(h.doubleValue));return new nE(l)}convertGeoPoint(e){return new tE(Ln(e.latitude),Ln(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=P_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mp(e));default:return null}}convertTimestamp(e){const t=Al(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);qt(O1(r));const a=new pp(r.get(1),r.get(3)),l=new Ge(r.popFirst(5));return a.isEqual(t)||iu(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _R extends mR{constructor(e,t,r,a,l,h){super(e,t,r,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(oE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ky extends _R{data(e={}){return super.data(e)}}class UV{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Zm(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ky(this._firestore,this._userDataWriter,r.key,r,new Zm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(p=>{const y=new Ky(a._firestore,a._userDataWriter,p.doc.key,p.doc,new Zm(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(p=>l||p.type!==3).map(p=>{const y=new Ky(a._firestore,a._userDataWriter,p.doc.key,p.doc,new Zm(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,A=-1;return p.type!==0&&(_=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),A=h.indexOf(p.doc.key)),{type:kV(p.type),doc:y,oldIndex:_,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(n){n=su(n,ar);const e=su(n.firestore,Up);return _V(JT(e),n._key).then(t=>BV(e,n,t))}class TR extends NV{constructor(e){super(),this.firestore=e}convertBytes(e){return new qh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function ER(n){n=su(n,Ml);const e=su(n.firestore,Up),t=JT(e),r=new TR(e);return PV(n._query),vV(t,n._query).then(a=>new UV(e,r,n,a))}function AR(n,e,t){n=su(n,ar);const r=su(n.firestore,Up),a=LV(n.converter,e,t);return SR(r,[CV(rE(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,no.none())])}function wR(n,e,t,...r){n=su(n,ar);const a=su(n.firestore,Up),l=rE(a);let h;return h=typeof(e=Si(e))=="string"||e instanceof G_?xV(l,"updateDoc",n._key,e,t,r):IV(l,"updateDoc",n._key,e),SR(a,[h.toMutation(n._key,no.exists(!0))])}function SR(n,e){return function(r,a){const l=new Jo;return r.asyncQueue.enqueueAndForget(async()=>aV(await yV(r),a,l)),l.promise}(JT(n),e)}function BV(n,e,t){const r=t.docs.get(e._key),a=new TR(n);return new _R(n,a,e._key,r,new Zm(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Qh=a})(Yh),Lh(new $c("firestore",(r,{instanceIdentifier:a,options:l})=>{const h=r.getProvider("app").getImmediate(),p=new Up(new M2(r.getProvider("auth-internal")),new V2(h,r.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ue(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pp(_.options.projectId,A)}(h,a),h);return l=Object.assign({useFetchStreams:t},l),p._setSettings(l),p},"PUBLIC").setMultipleInstances(!0)),yl(VA,NA,e),yl(VA,NA,"esm2017")})();var zV="firebase",FV="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yl(zV,FV,"app");function mE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function bR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HV=bR,RR=new Mp("auth","Firebase",bR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new RT("@firebase/auth");function qV(n,...e){g_.logLevel<=Rt.WARN&&g_.warn(`Auth (${Yh}): ${n}`,...e)}function $y(n,...e){g_.logLevel<=Rt.ERROR&&g_.error(`Auth (${Yh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(n,...e){throw gE(n,...e)}function ma(n,...e){return gE(n,...e)}function pE(n,e,t){const r=Object.assign(Object.assign({},HV()),{[e]:t});return new Mp("auth","Firebase",r).create(e,{appName:n.name})}function Gc(n){return pE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jV(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&uo(n,"argument-error"),pE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return RR.create(n,...e)}function nt(n,e,...t){if(!n)throw gE(e,...t)}function Yo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $y(e),new Error(e)}function au(n,e){n||Yo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function GV(){return Mw()==="http:"||Mw()==="https:"}function Mw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GV()||uM()||"connection"in navigator)?navigator.onLine:!0}function $V(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t){this.shortDelay=e,this.longDelay=t,au(t>e,"Short delay should be less than long delay!"),this.isMobile=sM()||lM()}get(){return KV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n,e){au(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=new Bp(3e4,6e4);function _E(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function td(n,e,t,r,a={}){return IR(n,a,async()=>{let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});const p=Op(Object.assign({key:n.config.apiKey},h)).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:y},l);return oM()||(_.referrerPolicy="no-referrer"),CR.fetch()(xR(n,n.config.apiHost,t,p),_)})}async function IR(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},WV),e);try{const a=new XV(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Vy(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const p=l.ok?h.errorMessage:h.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vy(n,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw Vy(n,"email-already-in-use",h);if(y==="USER_DISABLED")throw Vy(n,"user-disabled",h);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw pE(n,A,_);uo(n,A)}}catch(a){if(a instanceof lu)throw a;uo(n,"network-request-failed",{message:String(a)})}}async function QV(n,e,t,r,a={}){const l=await td(n,e,t,r,a);return"mfaPendingCredential"in l&&uo(n,"multi-factor-auth-required",{_serverResponse:l}),l}function xR(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?yE(n.config,a):`${n.config.apiScheme}://${a}`}class XV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ma(this.auth,"network-request-failed")),YV.get())})}}function Vy(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=ma(n,e,r);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(n,e){return td(n,"POST","/v1/accounts:delete",e)}async function DR(n,e){return td(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JV(n,e=!1){const t=Si(n),r=await t.getIdToken(e),a=vE(r);nt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:ap(g0(a.auth_time)),issuedAtTime:ap(g0(a.iat)),expirationTime:ap(g0(a.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function g0(n){return Number(n)*1e3}function vE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return $y("JWT malformed, contained fewer than 3 sections"),null;try{const a=xb(t);return a?JSON.parse(a):($y("Failed to decode base64 JWT payload"),null)}catch(a){return $y("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Ow(n){const e=vE(n);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof lu&&eN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function eN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ap(this.lastLoginAt),this.creationTime=ap(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y_(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Tp(n,DR(t,{idToken:r}));nt(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?MR(l.providerUserInfo):[],p=iN(n.providerData,h),y=n.isAnonymous,_=!(n.email&&l.passwordHash)&&!(p!=null&&p.length),A=y?_:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new nT(l.createdAt,l.lastLoginAt),isAnonymous:A};Object.assign(n,w)}async function nN(n){const e=Si(n);await y_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iN(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function MR(n){return n.map(e=>{var{providerId:t}=e,r=mE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(n,e){const t=await IR(n,{},async()=>{const r=Op({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,h=xR(n,a,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",CR.fetch()(h,{method:"POST",headers:p,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sN(n,e){return td(n,"POST","/v2/accounts:revokeToken",_E(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const t=Ow(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await rN(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,h=new Ph;return r&&(nt(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),a&&(nt(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),l&&(nt(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ph,this.toJSON())}_performRefresh(){return Yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(n,e){nt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qo{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=mE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nT(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Tp(this,this.stsTokenManager.getToken(this.auth,e));return nt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JV(this,e)}reload(){return nN(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await y_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(da(this.auth.app))return Promise.reject(Gc(this.auth));const e=await this.getIdToken();return await Tp(this,ZV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,h,p,y,_,A;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,C=(a=t.email)!==null&&a!==void 0?a:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,U=(h=t.photoURL)!==null&&h!==void 0?h:void 0,j=(p=t.tenantId)!==null&&p!==void 0?p:void 0,B=(y=t._redirectEventId)!==null&&y!==void 0?y:void 0,$=(_=t.createdAt)!==null&&_!==void 0?_:void 0,re=(A=t.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ne,emailVerified:Ae,isAnonymous:ce,providerData:be,stsTokenManager:q}=t;nt(ne&&q,e,"internal-error");const D=Ph.fromJSON(this.name,q);nt(typeof ne=="string",e,"internal-error"),ul(w,e.name),ul(C,e.name),nt(typeof Ae=="boolean",e,"internal-error"),nt(typeof ce=="boolean",e,"internal-error"),ul(N,e.name),ul(U,e.name),ul(j,e.name),ul(B,e.name),ul($,e.name),ul(re,e.name);const O=new Qo({uid:ne,auth:e,email:C,emailVerified:Ae,displayName:w,isAnonymous:ce,photoURL:U,phoneNumber:N,tenantId:j,stsTokenManager:D,createdAt:$,lastLoginAt:re});return be&&Array.isArray(be)&&(O.providerData=be.map(k=>Object.assign({},k))),B&&(O._redirectEventId=B),O}static async _fromIdTokenResponse(e,t,r=!1){const a=new Ph;a.updateFromServerResponse(t);const l=new Qo({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await y_(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];nt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?MR(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),p=new Ph;p.updateFromIdToken(r);const y=new Qo({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:h}),_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new nT(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;function Xo(n){au(n instanceof Function,"Expected a class definition");let e=Pw.get(n);return e?(au(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Pw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OR.type="NONE";const Vw=OR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n,e,t){return`firebase:${n}:${e}:${t}`}class Vh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Wy(this.userKey,a.apiKey,l),this.fullPersistenceKey=Wy("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Vh(Xo(Vw),e,r);const a=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=a[0]||Xo(Vw);const h=Wy(r,e.config.apiKey,e.name);let p=null;for(const _ of t)try{const A=await _._get(h);if(A){const w=Qo._fromJSON(e,A);_!==l&&(p=w),l=_;break}}catch{}const y=a.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!y.length?new Vh(l,e,r):(l=y[0],p&&await l._set(h,p.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(h)}catch{}})),new Vh(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kR(e))return"Blackberry";if(BR(e))return"Webos";if(VR(e))return"Safari";if((e.includes("chrome/")||NR(e))&&!e.includes("edge/"))return"Chrome";if(UR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PR(n=zi()){return/firefox\//i.test(n)}function VR(n=zi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NR(n=zi()){return/crios\//i.test(n)}function LR(n=zi()){return/iemobile/i.test(n)}function UR(n=zi()){return/android/i.test(n)}function kR(n=zi()){return/blackberry/i.test(n)}function BR(n=zi()){return/webos/i.test(n)}function TE(n=zi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aN(n=zi()){var e;return TE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oN(){return cM()&&document.documentMode===10}function zR(n=zi()){return TE(n)||UR(n)||BR(n)||kR(n)||/windows phone/i.test(n)||LR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(n,e=[]){let t;switch(n){case"Browser":t=Nw(zi());break;case"Worker":t=`${Nw(zi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((h,p)=>{try{const y=e(l);h(y)}catch(y){p(y)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(n,e={}){return td(n,"GET","/v2/passwordPolicy",_E(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=6;class fN{constructor(e){var t,r,a,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:cN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,l,h,p;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(t=y.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),y.isValid&&(y.isValid=(r=y.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),y.isValid&&(y.isValid=(a=y.containsLowercaseLetter)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(l=y.containsUppercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(h=y.containsNumericCharacter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(p=y.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),y}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lw(this),this.idTokenSubscription=new Lw(this),this.beforeStateQueue=new uN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xo(t)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Vh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await DR(this,{idToken:e}),r=await Qo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(da(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=a==null?void 0:a._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===p)&&(y!=null&&y.user)&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await y_(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$V()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(da(this.app))return Promise.reject(Gc(this));const t=e?Si(e):null;return t&&nt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return da(this.app)?Promise.reject(Gc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return da(this.app)?Promise.reject(Gc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lN(this),t=new fN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await sN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xo(e)||this._popupRedirectResolver;nt(t,this,"argument-error"),this.redirectPersistenceManager=await Vh.create(this,[Xo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(p,this,"internal-error"),p.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,r,a);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(da(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&qV(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $_(n){return Si(n)}class Lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=_M(t=>this.observer=t)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dN(n){EE=n}function mN(n){return EE.loadJS(n)}function pN(){return EE.gapiScript}function gN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n,e){const t=IT(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(n_(l,e??{}))return a;uo(a,"already-initialized")}return t.initialize({options:e})}function _N(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Xo);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vN(n,e,t){const r=$_(n);nt(r._canInitEmulator,r,"emulator-config-failed"),nt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=HR(e),{host:h,port:p}=TN(e),y=p===null?"":`:${p}`;r.config.emulator={url:`${l}//${h}${y}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:h,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),EN()}function HR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TN(n){const e=HR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:Uw(r.substr(l.length+1))}}else{const[l,h]=r.split(":");return{host:l,port:Uw(h)}}}function Uw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function EN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yo("not implemented")}_getIdTokenResponse(e){return Yo("not implemented")}_linkToIdToken(e,t){return Yo("not implemented")}_getReauthenticationResolver(e){return Yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(n,e){return QV(n,"POST","/v1/accounts:signInWithIdp",_E(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="http://localhost";class Qc extends qR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):uo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,l=mE(t,["providerId","signInMethod"]);if(!r||!a)return null;const h=new Qc(r,a);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Nh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Nh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nh(e,t)}buildRequest(){const e={requestUri:AN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Op(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends AE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends zp{constructor(){super("facebook.com")}static credential(e){return Qc._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cl.credential(e.oauthAccessToken)}catch{return null}}}cl.FACEBOOK_SIGN_IN_METHOD="facebook.com";cl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends zp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Wo.credential(t,r)}catch{return null}}}Wo.GOOGLE_SIGN_IN_METHOD="google.com";Wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends zp{constructor(){super("github.com")}static credential(e){return Qc._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.GITHUB_SIGN_IN_METHOD="github.com";fl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends zp{constructor(){super("twitter.com")}static credential(e,t){return Qc._fromParams({providerId:hl.PROVIDER_ID,signInMethod:hl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hl.credentialFromTaggedObject(e)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return hl.credential(t,r)}catch{return null}}}hl.TWITTER_SIGN_IN_METHOD="twitter.com";hl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Qo._fromIdTokenResponse(e,r,a),h=kw(r);return new jh({user:l,providerId:h,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=kw(r);return new jh({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function kw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends lu{constructor(e,t,r,a){var l;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,__.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new __(e,t,r,a)}}function jR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?__._fromErrorAndOperation(n,l,e,r):l})}async function wN(n,e,t=!1){const r=await Tp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return jh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(n,e,t=!1){const{auth:r}=n;if(da(r.app))return Promise.reject(Gc(r));const a="reauthenticate";try{const l=await Tp(n,jR(r,a,e,n),t);nt(l.idToken,r,"internal-error");const h=vE(l.idToken);nt(h,r,"internal-error");const{sub:p}=h;return nt(n.uid===p,r,"user-mismatch"),jh._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&uo(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(n,e,t=!1){if(da(n.app))return Promise.reject(Gc(n));const r="signIn",a=await jR(n,r,e),l=await jh._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}function RN(n,e,t,r){return Si(n).onIdTokenChanged(e,t,r)}function CN(n,e,t){return Si(n).beforeAuthStateChanged(e,t)}function wE(n,e,t,r){return Si(n).onAuthStateChanged(e,t,r)}function IN(n){return Si(n).signOut()}const v_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(v_,"1"),this.storage.removeItem(v_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1e3,DN=10;class KR extends GR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,y)=>{this.notifyListeners(h,y)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(r);!t&&this.localCache[r]===h||this.notifyListeners(r,h)},l=this.storage.getItem(r);oN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DN):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KR.type="LOCAL";const MN=KR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R extends GR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$R.type="SESSION";const WR=$R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new W_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const p=Array.from(h).map(async _=>_(t.origin,l)),y=await ON(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}W_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,h;return new Promise((p,y)=>{const _=SE("",20);a.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);h={messageChannel:a,onMessage(w){const C=w;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(A),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(C.data.response);break;default:clearTimeout(A),clearTimeout(l),y(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(){return window}function VN(n){ro().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){return typeof ro().WorkerGlobalScope<"u"&&typeof ro().importScripts=="function"}async function NN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UN(){return YR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebaseLocalStorageDb",kN=1,T_="firebaseLocalStorage",XR="fbase_key";class Fp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Y_(n,e){return n.transaction([T_],e?"readwrite":"readonly").objectStore(T_)}function BN(){const n=indexedDB.deleteDatabase(QR);return new Fp(n).toPromise()}function iT(){const n=indexedDB.open(QR,kN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(T_,{keyPath:XR})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(T_)?e(r):(r.close(),await BN(),e(await iT()))})})}async function Bw(n,e,t){const r=Y_(n,!0).put({[XR]:e,value:t});return new Fp(r).toPromise()}async function zN(n,e){const t=Y_(n,!1).get(e),r=await new Fp(t).toPromise();return r===void 0?null:r.value}function zw(n,e){const t=Y_(n,!0).delete(e);return new Fp(t).toPromise()}const FN=800,HN=3;class ZR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>HN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=W_._getInstance(UN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await NN(),!this.activeServiceWorker)return;this.sender=new PN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iT();return await Bw(e,v_,"1"),await zw(e,v_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>zN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Y_(a,!1).getAll();return new Fp(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZR.type="LOCAL";const qN=ZR;new Bp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n,e){return e?Xo(e):(nt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends qR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jN(n){return bN(n.auth,new bE(n),n.bypassAuthState)}function GN(n){const{auth:e,user:t}=n;return nt(t,e,"internal-error"),SN(t,new bE(n),n.bypassAuthState)}async function KN(n){const{auth:e,user:t}=n;return nt(t,e,"internal-error"),wN(t,new bE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:h,type:p}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jN;case"linkViaPopup":case"linkViaRedirect":return KN;case"reauthViaPopup":case"reauthViaRedirect":return GN;default:uo(this.auth,"internal-error")}}resolve(e){au(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){au(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Bp(2e3,1e4);async function WN(n,e,t){if(da(n.app))return Promise.reject(ma(n,"operation-not-supported-in-this-environment"));const r=$_(n);jV(n,e,AE);const a=JR(r,t);return new qc(r,"signInViaPopup",e,a).executeNotNull()}class qc extends eC{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,qc.currentPopupAction&&qc.currentPopupAction.cancel(),qc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){au(this.filter.length===1,"Popup operations only handle one event");const e=SE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$N.get())};e()}}qc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="pendingRedirect",Yy=new Map;class QN extends eC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Yy.get(this.auth._key());if(!e){try{const r=await XN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yy.set(this.auth._key(),e)}return this.bypassAuthState||Yy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XN(n,e){const t=eL(e),r=JN(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function ZN(n,e){Yy.set(n._key(),e)}function JN(n){return Xo(n._redirectPersistence)}function eL(n){return Wy(YN,n.config.apiKey,n.name)}async function tL(n,e,t=!1){if(da(n.app))return Promise.reject(Gc(n));const r=$_(n),a=JR(r,e),h=await new QN(r,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=10*60*1e3;class iL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!tC(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ma(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fw(e))}saveEventToCache(e){this.cachedEventUids.add(Fw(e)),this.lastProcessedEventTime=Date.now()}}function Fw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(n,e={}){return td(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oL=/^https?/;async function uL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await sL(n);for(const t of e)try{if(lL(t))return}catch{}uo(n,"unauthorized-domain")}function lL(n){const e=tT(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===r}if(!oL.test(t))return!1;if(aL.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new Bp(3e4,6e4);function Hw(){const n=ro().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fL(n){return new Promise((e,t)=>{var r,a,l;function h(){Hw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hw(),t(ma(n,"network-request-failed"))},timeout:cL.get()})}if(!((a=(r=ro().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ro().gapi)===null||l===void 0)&&l.load)h();else{const p=gN("iframefcb");return ro()[p]=()=>{gapi.load?h():t(ma(n,"network-request-failed"))},mN(`${pN()}?onload=${p}`).catch(y=>t(y))}}).catch(e=>{throw Qy=null,e})}let Qy=null;function hL(n){return Qy=Qy||fL(n),Qy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new Bp(5e3,15e3),mL="__/auth/iframe",pL="emulator/auth/iframe",gL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _L(n){const e=n.config;nt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?yE(e,pL):`https://${n.config.authDomain}/${mL}`,r={apiKey:e.apiKey,appName:n.name,v:Yh},a=yL.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Op(r).slice(1)}`}async function vL(n){const e=await hL(n),t=ro().gapi;return nt(t,n,"internal-error"),e.open({where:document.body,url:_L(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gL,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const h=ma(n,"network-request-failed"),p=ro().setTimeout(()=>{l(h)},dL.get());function y(){ro().clearTimeout(p),a(r)}r.ping(y).then(y,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EL=500,AL=600,wL="_blank",SL="http://localhost";class qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bL(n,e,t,r=EL,a=AL){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y=Object.assign(Object.assign({},TL),{width:r.toString(),height:a.toString(),top:l,left:h}),_=zi().toLowerCase();t&&(p=NR(_)?wL:t),PR(_)&&(e=e||SL,y.scrollbars="yes");const A=Object.entries(y).reduce((C,[N,U])=>`${C}${N}=${U},`,"");if(aN(_)&&p!=="_self")return RL(e||"",p),new qw(null);const w=window.open(e||"",p,A);nt(w,n,"popup-blocked");try{w.focus()}catch{}return new qw(w)}function RL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="__/auth/handler",IL="emulator/auth/handler",xL=encodeURIComponent("fac");async function jw(n,e,t,r,a,l){nt(n.config.authDomain,n,"auth-domain-config-required"),nt(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Yh,eventId:a};if(e instanceof AE){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",yM(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))h[A]=w}if(e instanceof zp){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(h.scopes=A.join(","))}n.tenantId&&(h.tid=n.tenantId);const p=h;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await n._getAppCheckToken(),_=y?`#${xL}=${encodeURIComponent(y)}`:"";return`${DL(n)}?${Op(p).slice(1)}${_}`}function DL({config:n}){return n.emulator?yE(n,IL):`https://${n.authDomain}/${CL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="webStorageSupport";class ML{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WR,this._completeRedirectFn=tL,this._overrideRedirectResult=ZN}async _openPopup(e,t,r,a){var l;au((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await jw(e,t,r,tT(),a);return bL(e,h,SE())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await jw(e,t,r,tT(),a);return VN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(au(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await vL(e),r=new iL(e);return t.register("authEvent",a=>(nt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(y0,{type:y0},a=>{var l;const h=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[y0];h!==void 0&&t(!!h),uo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zR()||VR()||TE()}}const OL=ML;var Gw="@firebase/auth",Kw="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NL(n){Lh(new $c("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=r.options;nt(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:h,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FR(n)},_=new hN(r,a,l,y);return _N(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Lh(new $c("auth-internal",e=>{const t=$_(e.getProvider("auth").getImmediate());return(r=>new PL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yl(Gw,Kw,VL(n)),yl(Gw,Kw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=5*60,UL=Ob("authIdTokenMaxAge")||LL;let $w=null;const kL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>UL)return;const a=t==null?void 0:t.token;$w!==a&&($w=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nC(n=Lb()){const e=IT(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yN(n,{popupRedirectResolver:OL,persistence:[qN,MN,WR]}),r=Ob("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const h=kL(l.toString());CN(t,h,()=>h(t.currentUser)),RN(t,p=>h(p))}}const a=Db("auth");return a&&vN(t,`http://${a}`),t}function BL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=ma("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",BL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NL("Browser");const zL={apiKey:"AIzaSyB9D4TEfh51wkouAney3bGYWs-qZy0BO0o",authDomain:"pcoin-4b4b5.firebaseapp.com",projectId:"pcoin-4b4b5",storageBucket:"pcoin-4b4b5.firebasestorage.app",messagingSenderId:"927446081534",appId:"1:927446081534:web:4764b8300b0415d8556aaf",measurementId:"G-SNS37JZF7Y"},iC=Nb(zL),nd=AV(iC),Q_=nC(iC),FL=new Wo,HL=async()=>{try{const e=(await WN(Q_,FL)).user;return console.log("User signed in:",e),e}catch(n){throw console.error("Error signing in with Google:",n.message),n}},qL=async()=>{try{await IN(Q_),console.log("User logged out")}catch(n){throw console.error("Error logging out:",n.message),n}},rC=async n=>{if(!n)return console.error("User ID is required"),0;try{const e=j_(nd,"users",n),t=await vR(e);return t.exists()?t.data().balance||0:(await AR(e,{balance:0}),0)}catch(e){return console.error("Ошибка при получении баланса:",e),0}},jL=async(n,e)=>{if(!n)return console.error("User ID is required"),null;if(typeof e!="number")return console.error("New balance must be a number"),null;try{const t=j_(nd,"users",n);return await wR(t,{balance:e}),e}catch(t){return console.error("Ошибка при обновлении баланса:",t),null}},GL=async n=>{const e=j_(nd,"users",n),t=await vR(e);return t.exists()?t.data().coins||0:(await AR(e,{coins:0},{merge:!0}),0)},Ww=async(n,e)=>{const t=j_(nd,"users",n);return await wR(t,{coins:e}),e},KL=async()=>{try{const n=uR(nd,"users");return(await ER(pR(n,gR("balance","desc"),VV(10)))).docs.map(t=>({uid:t.id,name:t.data().name||"Аноним",balance:t.data().balance||0}))}catch(n){return console.error("Ошибка получения лидерборда:",n),[]}},$L=async n=>{try{const e=uR(nd,"users"),r=(await ER(pR(e,gR("balance","desc")))).docs.map((l,h)=>({uid:l.id,rank:h+1})),a=r.find(l=>l.uid===n);return a?a.rank:r.length+1}catch(e){return console.error("Ошибка получения ранга пользователя:",e),null}},sC=X.createContext({});function WL(n){const e=X.useRef(null);return e.current===null&&(e.current=n()),e.current}const RE=X.createContext(null),aC=X.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function YL(n=!0){const e=X.useContext(RE);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:a}=e,l=X.useId();X.useEffect(()=>{n&&a(l)},[n]);const h=X.useCallback(()=>n&&r&&r(l),[l,r,n]);return!t&&r?[!1,h]:[!0]}const CE=typeof window<"u",QL=CE?X.useLayoutEffect:X.useEffect,Qr=n=>n;let oC=Qr;function IE(n){let e;return()=>(e===void 0&&(e=n()),e)}const Gh=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},eu=n=>n*1e3,tu=n=>n/1e3,XL={useManualTiming:!1},Ny=["read","resolveKeyframes","update","preRender","render","postRender"],Yw={value:null};function ZL(n,e){let t=new Set,r=new Set,a=!1,l=!1;const h=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1},y=0;function _(w){h.has(w)&&(A.schedule(w),n()),y++,w(p)}const A={schedule:(w,C=!1,N=!1)=>{const j=N&&a?t:r;return C&&h.add(w),j.has(w)||j.add(w),w},cancel:w=>{r.delete(w),h.delete(w)},process:w=>{if(p=w,a){l=!0;return}a=!0,[t,r]=[r,t],t.forEach(_),e&&Yw.value&&Yw.value.frameloop[e].push(y),y=0,t.clear(),a=!1,l&&(l=!1,A.process(w))}};return A}const JL=40;function uC(n,e){let t=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,h=Ny.reduce(($,re)=>($[re]=ZL(l,e?re:void 0),$),{}),{read:p,resolveKeyframes:y,update:_,preRender:A,render:w,postRender:C}=h,N=()=>{const $=performance.now();t=!1,a.delta=r?1e3/60:Math.max(Math.min($-a.timestamp,JL),1),a.timestamp=$,a.isProcessing=!0,p.process(a),y.process(a),_.process(a),A.process(a),w.process(a),C.process(a),a.isProcessing=!1,t&&e&&(r=!1,n(N))},U=()=>{t=!0,r=!0,a.isProcessing||n(N)};return{schedule:Ny.reduce(($,re)=>{const ne=h[re];return $[re]=(Ae,ce=!1,be=!1)=>(t||U(),ne.schedule(Ae,ce,be)),$},{}),cancel:$=>{for(let re=0;re<Ny.length;re++)h[Ny[re]].cancel($)},state:a,steps:h}}const{schedule:nn,cancel:Cl,state:Ei,steps:_0}=uC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qr,!0),lC=X.createContext({strict:!1}),Qw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kh={};for(const n in Qw)Kh[n]={isEnabled:e=>Qw[n].some(t=>!!e[t])};function eU(n){for(const e in n)Kh[e]={...Kh[e],...n[e]}}const tU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function E_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||tU.has(n)}let cC=n=>!E_(n);function nU(n){n&&(cC=e=>e.startsWith("on")?!E_(e):n(e))}try{nU(require("@emotion/is-prop-valid").default)}catch{}function iU(n,e,t){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(cC(a)||t===!0&&E_(a)||!e&&!E_(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}function rU(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const X_=X.createContext({});function Z_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ep(n){return typeof n=="string"||Array.isArray(n)}const xE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],DE=["initial",...xE];function J_(n){return Z_(n.animate)||DE.some(e=>Ep(n[e]))}function fC(n){return!!(J_(n)||n.variants)}function sU(n,e){if(J_(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Ep(t)?t:void 0,animate:Ep(r)?r:void 0}}return n.inherit!==!1?e:{}}function aU(n){const{initial:e,animate:t}=sU(n,X.useContext(X_));return X.useMemo(()=>({initial:e,animate:t}),[Xw(e),Xw(t)])}function Xw(n){return Array.isArray(n)?n.join(" "):n}const oU=Symbol.for("motionComponentSymbol");function Ch(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function uU(n,e,t){return X.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ch(t)&&(t.current=r))},[e])}const ME=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lU="framerAppearId",hC="data-"+ME(lU),{schedule:OE}=uC(queueMicrotask,!1),dC=X.createContext({});function cU(n,e,t,r,a){var l,h;const{visualElement:p}=X.useContext(X_),y=X.useContext(lC),_=X.useContext(RE),A=X.useContext(aC).reducedMotion,w=X.useRef(null);r=r||y.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:p,props:t,presenceContext:_,blockInitialAnimation:_?_.initial===!1:!1,reducedMotionConfig:A}));const C=w.current,N=X.useContext(dC);C&&!C.projection&&a&&(C.type==="html"||C.type==="svg")&&fU(w.current,t,a,N);const U=X.useRef(!1);X.useInsertionEffect(()=>{C&&U.current&&C.update(t,_)});const j=t[hC],B=X.useRef(!!j&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,j))&&((h=window.MotionHasOptimisedAnimation)===null||h===void 0?void 0:h.call(window,j)));return QL(()=>{C&&(U.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),OE.render(C.render),B.current&&C.animationState&&C.animationState.animateChanges())}),X.useEffect(()=>{C&&(!B.current&&C.animationState&&C.animationState.animateChanges(),B.current&&(queueMicrotask(()=>{var $;($=window.MotionHandoffMarkAsComplete)===null||$===void 0||$.call(window,j)}),B.current=!1))}),C}function fU(n,e,t,r){const{layoutId:a,layout:l,drag:h,dragConstraints:p,layoutScroll:y,layoutRoot:_}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:mC(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!h||p&&Ch(p),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:y,layoutRoot:_})}function mC(n){if(n)return n.options.allowProjection!==!1?n.projection:mC(n.parent)}function hU({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:a}){var l,h;n&&eU(n);function p(_,A){let w;const C={...X.useContext(aC),..._,layoutId:dU(_)},{isStatic:N}=C,U=aU(_),j=r(_,N);if(!N&&CE){mU();const B=pU(C);w=B.MeasureLayout,U.visualElement=cU(a,j,C,e,B.ProjectionNode)}return Ie.jsxs(X_.Provider,{value:U,children:[w&&U.visualElement?Ie.jsx(w,{visualElement:U.visualElement,...C}):null,t(a,_,uU(j,U.visualElement,A),j,N,U.visualElement)]})}p.displayName=`motion.${typeof a=="string"?a:`create(${(h=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&h!==void 0?h:""})`}`;const y=X.forwardRef(p);return y[oU]=a,y}function dU({layoutId:n}){const e=X.useContext(sC).id;return e&&n!==void 0?e+"-"+n:n}function mU(n,e){X.useContext(lC).strict}function pU(n){const{drag:e,layout:t}=Kh;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const pC=n=>e=>typeof e=="string"&&e.startsWith(n),PE=pC("--"),gU=pC("var(--"),VE=n=>gU(n)?yU.test(n.split("/*")[0].trim()):!1,yU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ap={};function _U(n){for(const e in n)Ap[e]=n[e],PE(e)&&(Ap[e].isCSSVariable=!0)}const id=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tf=new Set(id);function gC(n,{layout:e,layoutId:t}){return tf.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ap[n]||n==="opacity")}const Bi=n=>!!(n&&n.getVelocity),yC=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ou=(n,e,t)=>t>e?e:t<n?n:t,rd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},wp={...rd,transform:n=>ou(0,1,n)},Ly={...rd,default:1},Hp=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ll=Hp("deg"),so=Hp("%"),Qe=Hp("px"),vU=Hp("vh"),TU=Hp("vw"),Zw={...so,parse:n=>so.parse(n)/100,transform:n=>so.transform(n*100)},EU={borderWidth:Qe,borderTopWidth:Qe,borderRightWidth:Qe,borderBottomWidth:Qe,borderLeftWidth:Qe,borderRadius:Qe,radius:Qe,borderTopLeftRadius:Qe,borderTopRightRadius:Qe,borderBottomRightRadius:Qe,borderBottomLeftRadius:Qe,width:Qe,maxWidth:Qe,height:Qe,maxHeight:Qe,top:Qe,right:Qe,bottom:Qe,left:Qe,padding:Qe,paddingTop:Qe,paddingRight:Qe,paddingBottom:Qe,paddingLeft:Qe,margin:Qe,marginTop:Qe,marginRight:Qe,marginBottom:Qe,marginLeft:Qe,backgroundPositionX:Qe,backgroundPositionY:Qe},AU={rotate:ll,rotateX:ll,rotateY:ll,rotateZ:ll,scale:Ly,scaleX:Ly,scaleY:Ly,scaleZ:Ly,skew:ll,skewX:ll,skewY:ll,distance:Qe,translateX:Qe,translateY:Qe,translateZ:Qe,x:Qe,y:Qe,z:Qe,perspective:Qe,transformPerspective:Qe,opacity:wp,originX:Zw,originY:Zw,originZ:Qe},Jw={...rd,transform:Math.round},NE={...EU,...AU,zIndex:Jw,size:Qe,fillOpacity:wp,strokeOpacity:wp,numOctaves:Jw},wU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SU=id.length;function bU(n,e,t){let r="",a=!0;for(let l=0;l<SU;l++){const h=id[l],p=n[h];if(p===void 0)continue;let y=!0;if(typeof p=="number"?y=p===(h.startsWith("scale")?1:0):y=parseFloat(p)===0,!y||t){const _=yC(p,NE[h]);if(!y){a=!1;const A=wU[h]||h;r+=`${A}(${_}) `}t&&(e[h]=_)}}return r=r.trim(),t?r=t(e,a?"":r):a&&(r="none"),r}function LE(n,e,t){const{style:r,vars:a,transformOrigin:l}=n;let h=!1,p=!1;for(const y in e){const _=e[y];if(tf.has(y)){h=!0;continue}else if(PE(y)){a[y]=_;continue}else{const A=yC(_,NE[y]);y.startsWith("origin")?(p=!0,l[y]=A):r[y]=A}}if(e.transform||(h||t?r.transform=bU(e,n.transform,t):r.transform&&(r.transform="none")),p){const{originX:y="50%",originY:_="50%",originZ:A=0}=l;r.transformOrigin=`${y} ${_} ${A}`}}const UE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _C(n,e,t){for(const r in e)!Bi(e[r])&&!gC(r,t)&&(n[r]=e[r])}function RU({transformTemplate:n},e){return X.useMemo(()=>{const t=UE();return LE(t,e,n),Object.assign({},t.vars,t.style)},[e])}function CU(n,e){const t=n.style||{},r={};return _C(r,t,n),Object.assign(r,RU(n,e)),r}function IU(n,e){const t={},r=CU(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const xU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kE(n){return typeof n!="string"||n.includes("-")?!1:!!(xU.indexOf(n)>-1||/[A-Z]/u.test(n))}const DU={offset:"stroke-dashoffset",array:"stroke-dasharray"},MU={offset:"strokeDashoffset",array:"strokeDasharray"};function OU(n,e,t=1,r=0,a=!0){n.pathLength=1;const l=a?DU:MU;n[l.offset]=Qe.transform(-r);const h=Qe.transform(e),p=Qe.transform(t);n[l.array]=`${h} ${p}`}function eS(n,e,t){return typeof n=="string"?n:Qe.transform(e+t*n)}function PU(n,e,t){const r=eS(e,n.x,n.width),a=eS(t,n.y,n.height);return`${r} ${a}`}function BE(n,{attrX:e,attrY:t,attrScale:r,originX:a,originY:l,pathLength:h,pathSpacing:p=1,pathOffset:y=0,..._},A,w){if(LE(n,_,w),A){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:C,style:N,dimensions:U}=n;C.transform&&(U&&(N.transform=C.transform),delete C.transform),U&&(a!==void 0||l!==void 0||N.transform)&&(N.transformOrigin=PU(U,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(C.x=e),t!==void 0&&(C.y=t),r!==void 0&&(C.scale=r),h!==void 0&&OU(C,h,p,y,!1)}const vC=()=>({...UE(),attrs:{}}),zE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function VU(n,e,t,r){const a=X.useMemo(()=>{const l=vC();return BE(l,e,zE(r),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};_C(l,n.style,n),a.style={...l,...a.style}}return a}function NU(n=!1){return(t,r,a,{latestValues:l},h)=>{const y=(kE(t)?VU:IU)(r,l,h,t),_=iU(r,typeof t=="string",n),A=t!==X.Fragment?{..._,...y,ref:a}:{},{children:w}=r,C=X.useMemo(()=>Bi(w)?w.get():w,[w]);return X.createElement(t,{...A,children:C})}}function tS(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function FE(n,e,t,r){if(typeof e=="function"){const[a,l]=tS(r);e=e(t!==void 0?t:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=tS(r);e=e(t!==void 0?t:n.custom,a,l)}return e}const rT=n=>Array.isArray(n),LU=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),UU=n=>rT(n)?n[n.length-1]||0:n;function Xy(n){const e=Bi(n)?n.get():n;return LU(e)?e.toValue():e}function kU({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,a,l){const h={latestValues:BU(r,a,l,n),renderState:e()};return t&&(h.onMount=p=>t({props:r,current:p,...h}),h.onUpdate=p=>t(p)),h}const TC=n=>(e,t)=>{const r=X.useContext(X_),a=X.useContext(RE),l=()=>kU(n,e,r,a);return t?l():WL(l)};function BU(n,e,t,r){const a={},l=r(n,{});for(const C in l)a[C]=Xy(l[C]);let{initial:h,animate:p}=n;const y=J_(n),_=fC(n);e&&_&&!y&&n.inherit!==!1&&(h===void 0&&(h=e.initial),p===void 0&&(p=e.animate));let A=t?t.initial===!1:!1;A=A||h===!1;const w=A?p:h;if(w&&typeof w!="boolean"&&!Z_(w)){const C=Array.isArray(w)?w:[w];for(let N=0;N<C.length;N++){const U=FE(n,C[N]);if(U){const{transitionEnd:j,transition:B,...$}=U;for(const re in $){let ne=$[re];if(Array.isArray(ne)){const Ae=A?ne.length-1:0;ne=ne[Ae]}ne!==null&&(a[re]=ne)}for(const re in j)a[re]=j[re]}}}return a}function HE(n,e,t){var r;const{style:a}=n,l={};for(const h in a)(Bi(a[h])||e.style&&Bi(e.style[h])||gC(h,n)||((r=t==null?void 0:t.getValue(h))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[h]=a[h]);return l}const zU={useVisualState:TC({scrapeMotionValuesFromProps:HE,createRenderState:UE})};function EC(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function AC(n,{style:e,vars:t},r,a){Object.assign(n.style,e,a&&a.getProjectionStyles(r));for(const l in t)n.style.setProperty(l,t[l])}const wC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SC(n,e,t,r){AC(n,e,void 0,r);for(const a in e.attrs)n.setAttribute(wC.has(a)?a:ME(a),e.attrs[a])}function bC(n,e,t){const r=HE(n,e,t);for(const a in n)if(Bi(n[a])||Bi(e[a])){const l=id.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=n[a]}return r}const nS=["x","y","width","height","cx","cy","r"],FU={useVisualState:TC({scrapeMotionValuesFromProps:bC,createRenderState:vC,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:a})=>{if(!t)return;let l=!!n.drag;if(!l){for(const p in a)if(tf.has(p)){l=!0;break}}if(!l)return;let h=!e;if(e)for(let p=0;p<nS.length;p++){const y=nS[p];n[y]!==e[y]&&(h=!0)}h&&nn.read(()=>{EC(t,r),nn.render(()=>{BE(r,a,zE(t.tagName),n.transformTemplate),SC(t,r)})})}})};function HU(n,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const h={...kE(r)?FU:zU,preloadedFeatures:n,useRender:NU(a),createVisualElement:e,Component:r};return hU(h)}}function Sp(n,e,t){const r=n.getProps();return FE(r,e,t!==void 0?t:r.custom,n)}const qU=IE(()=>window.ScrollTimeline!==void 0);class jU{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(a=>{if(qU()&&a.attachTimeline)return a.attachTimeline(e);if(typeof t=="function")return t(a)});return()=>{r.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GU extends jU{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function qE(n,e){return n?n[e]||n.default||n:void 0}const sT=2e4;function RC(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<sT;)e+=t,r=n.next(e);return e>=sT?1/0:e}function jE(n){return typeof n=="function"}function iS(n,e){n.timeline=e,n.onfinish=null}const GE=n=>Array.isArray(n)&&typeof n[0]=="number",KU={linearEasing:void 0};function $U(n,e){const t=IE(n);return()=>{var r;return(r=KU[e])!==null&&r!==void 0?r:t()}}const A_=$U(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),CC=(n,e,t=10)=>{let r="";const a=Math.max(Math.round(e/t),2);for(let l=0;l<a;l++)r+=n(Gh(0,a-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function IC(n){return!!(typeof n=="function"&&A_()||!n||typeof n=="string"&&(n in aT||A_())||GE(n)||Array.isArray(n)&&n.every(IC))}const Jm=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,aT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jm([0,.65,.55,1]),circOut:Jm([.55,0,1,.45]),backIn:Jm([.31,.01,.66,-.59]),backOut:Jm([.33,1.53,.69,.99])};function xC(n,e){if(n)return typeof n=="function"&&A_()?CC(n,e):GE(n)?Jm(n):Array.isArray(n)?n.map(t=>xC(t,e)||aT.easeOut):aT[n]}const ha={x:!1,y:!1};function DC(){return ha.x||ha.y}function WU(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let a=document;const l=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function MC(n,e){const t=WU(n),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[t,a,()=>r.abort()]}function rS(n){return!(n.pointerType==="touch"||DC())}function YU(n,e,t={}){const[r,a,l]=MC(n,t),h=p=>{if(!rS(p))return;const{target:y}=p,_=e(y,p);if(typeof _!="function"||!y)return;const A=w=>{rS(w)&&(_(w),y.removeEventListener("pointerleave",A))};y.addEventListener("pointerleave",A,a)};return r.forEach(p=>{p.addEventListener("pointerenter",h,a)}),l}const OC=(n,e)=>e?n===e?!0:OC(n,e.parentElement):!1,KE=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,QU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XU(n){return QU.has(n.tagName)||n.tabIndex!==-1}const ep=new WeakSet;function sS(n){return e=>{e.key==="Enter"&&n(e)}}function v0(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ZU=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=sS(()=>{if(ep.has(t))return;v0(t,"down");const a=sS(()=>{v0(t,"up")}),l=()=>v0(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function aS(n){return KE(n)&&!DC()}function JU(n,e,t={}){const[r,a,l]=MC(n,t),h=p=>{const y=p.currentTarget;if(!aS(p)||ep.has(y))return;ep.add(y);const _=e(y,p),A=(N,U)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",C),!(!aS(N)||!ep.has(y))&&(ep.delete(y),typeof _=="function"&&_(N,{success:U}))},w=N=>{A(N,t.useGlobalTarget||OC(y,N.target))},C=N=>{A(N,!1)};window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",C,a)};return r.forEach(p=>{!XU(p)&&p.getAttribute("tabindex")===null&&(p.tabIndex=0),(t.useGlobalTarget?window:p).addEventListener("pointerdown",h,a),p.addEventListener("focus",_=>ZU(_,a),a)}),l}function ek(n){return n==="x"||n==="y"?ha[n]?null:(ha[n]=!0,()=>{ha[n]=!1}):ha.x||ha.y?null:(ha.x=ha.y=!0,()=>{ha.x=ha.y=!1})}const PC=new Set(["width","height","top","left","right","bottom",...id]);let Zy;function tk(){Zy=void 0}const ao={now:()=>(Zy===void 0&&ao.set(Ei.isProcessing||XL.useManualTiming?Ei.timestamp:performance.now()),Zy),set:n=>{Zy=n,queueMicrotask(tk)}};function $E(n,e){n.indexOf(e)===-1&&n.push(e)}function WE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class YE{constructor(){this.subscriptions=[]}add(e){return $E(this.subscriptions,e),()=>WE(this.subscriptions,e)}notify(e,t,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,r);else for(let l=0;l<a;l++){const h=this.subscriptions[l];h&&h(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function VC(n,e){return e?n*(1e3/e):0}const oS=30,nk=n=>!isNaN(parseFloat(n));class ik{constructor(e,t={}){this.version="12.4.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=ao.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ao.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new YE);const r=this.events[e].add(t);return e==="change"?()=>{r(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ao.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>oS)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,oS);return VC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bp(n,e){return new ik(n,e)}function rk(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,bp(t))}function sk(n,e){const t=Sp(n,e);let{transitionEnd:r={},transition:a={},...l}=t||{};l={...l,...r};for(const h in l){const p=UU(l[h]);rk(n,h,p)}}function ak(n){return!!(Bi(n)&&n.add)}function oT(n,e){const t=n.getValue("willChange");if(ak(t))return t.add(e)}function NC(n){return n.props[hC]}const LC=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,ok=1e-7,uk=12;function lk(n,e,t,r,a){let l,h,p=0;do h=e+(t-e)/2,l=LC(h,r,a)-n,l>0?t=h:e=h;while(Math.abs(l)>ok&&++p<uk);return h}function qp(n,e,t,r){if(n===e&&t===r)return Qr;const a=l=>lk(l,0,1,n,t);return l=>l===0||l===1?l:LC(a(l),e,r)}const UC=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,kC=n=>e=>1-n(1-e),BC=qp(.33,1.53,.69,.99),QE=kC(BC),zC=UC(QE),FC=n=>(n*=2)<1?.5*QE(n):.5*(2-Math.pow(2,-10*(n-1))),XE=n=>1-Math.sin(Math.acos(n)),HC=kC(XE),qC=UC(XE),jC=n=>/^0[^.\s]+$/u.test(n);function ck(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||jC(n):!0}const op=n=>Math.round(n*1e5)/1e5,ZE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fk(n){return n==null}const hk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,JE=(n,e)=>t=>!!(typeof t=="string"&&hk.test(t)&&t.startsWith(n)||e&&!fk(t)&&Object.prototype.hasOwnProperty.call(t,e)),GC=(n,e,t)=>r=>{if(typeof r!="string")return r;const[a,l,h,p]=r.match(ZE);return{[n]:parseFloat(a),[e]:parseFloat(l),[t]:parseFloat(h),alpha:p!==void 0?parseFloat(p):1}},dk=n=>ou(0,255,n),T0={...rd,transform:n=>Math.round(dk(n))},jc={test:JE("rgb","red"),parse:GC("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+T0.transform(n)+", "+T0.transform(e)+", "+T0.transform(t)+", "+op(wp.transform(r))+")"};function mk(n){let e="",t="",r="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const uT={test:JE("#"),parse:mk,transform:jc.transform},Ih={test:JE("hsl","hue"),parse:GC("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+so.transform(op(e))+", "+so.transform(op(t))+", "+op(wp.transform(r))+")"},Li={test:n=>jc.test(n)||uT.test(n)||Ih.test(n),parse:n=>jc.test(n)?jc.parse(n):Ih.test(n)?Ih.parse(n):uT.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?jc.transform(n):Ih.transform(n)},pk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gk(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(ZE))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(pk))===null||t===void 0?void 0:t.length)||0)>0}const KC="number",$C="color",yk="var",_k="var(",uS="${}",vk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rp(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},a=[];let l=0;const p=e.replace(vk,y=>(Li.test(y)?(r.color.push(l),a.push($C),t.push(Li.parse(y))):y.startsWith(_k)?(r.var.push(l),a.push(yk),t.push(y)):(r.number.push(l),a.push(KC),t.push(parseFloat(y))),++l,uS)).split(uS);return{values:t,split:p,indexes:r,types:a}}function WC(n){return Rp(n).values}function YC(n){const{split:e,types:t}=Rp(n),r=e.length;return a=>{let l="";for(let h=0;h<r;h++)if(l+=e[h],a[h]!==void 0){const p=t[h];p===KC?l+=op(a[h]):p===$C?l+=Li.transform(a[h]):l+=a[h]}return l}}const Tk=n=>typeof n=="number"?0:n;function Ek(n){const e=WC(n);return YC(n)(e.map(Tk))}const Il={test:gk,parse:WC,createTransformer:YC,getAnimatableNone:Ek},Ak=new Set(["brightness","contrast","saturate","opacity"]);function wk(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ZE)||[];if(!r)return n;const a=t.replace(r,"");let l=Ak.has(e)?1:0;return r!==t&&(l*=100),e+"("+l+a+")"}const Sk=/\b([a-z-]*)\(.*?\)/gu,lT={...Il,getAnimatableNone:n=>{const e=n.match(Sk);return e?e.map(wk).join(" "):n}},bk={...NE,color:Li,backgroundColor:Li,outlineColor:Li,fill:Li,stroke:Li,borderColor:Li,borderTopColor:Li,borderRightColor:Li,borderBottomColor:Li,borderLeftColor:Li,filter:lT,WebkitFilter:lT},eA=n=>bk[n];function QC(n,e){let t=eA(n);return t!==lT&&(t=Il),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Rk=new Set(["auto","none","0"]);function Ck(n,e,t){let r=0,a;for(;r<n.length&&!a;){const l=n[r];typeof l=="string"&&!Rk.has(l)&&Rp(l).values.length&&(a=n[r]),r++}if(a&&t)for(const l of e)n[l]=QC(t,a)}const lS=n=>n===rd||n===Qe,cS=(n,e)=>parseFloat(n.split(", ")[e]),fS=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return cS(a[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?cS(l[1],n):0}},Ik=new Set(["x","y","z"]),xk=id.filter(n=>!Ik.has(n));function Dk(n){const e=[];return xk.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const $h={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:fS(4,13),y:fS(5,14)};$h.translateX=$h.x;$h.translateY=$h.y;const Kc=new Set;let cT=!1,fT=!1;function XC(){if(fT){const n=Array.from(Kc).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const a=Dk(r);a.length&&(t.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=t.get(r);a&&a.forEach(([l,h])=>{var p;(p=r.getValue(l))===null||p===void 0||p.set(h)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fT=!1,cT=!1,Kc.forEach(n=>n.complete()),Kc.clear()}function ZC(){Kc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(fT=!0)})}function Mk(){ZC(),XC()}class tA{constructor(e,t,r,a,l,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=a,this.element=l,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Kc.add(this),cT||(cT=!0,nn.read(ZC),nn.resolveKeyframes(XC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const h=a==null?void 0:a.get(),p=e[e.length-1];if(h!==void 0)e[0]=h;else if(r&&t){const y=r.readValue(t,p);y!=null&&(e[0]=y)}e[0]===void 0&&(e[0]=p),a&&h===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Kc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Kc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const JC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Ok=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pk(n){const e=Ok.exec(n);if(!e)return[,];const[,t,r,a]=e;return[`--${t??r}`,a]}function eI(n,e,t=1){const[r,a]=Pk(n);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const h=l.trim();return JC(h)?parseFloat(h):h}return VE(a)?eI(a,e,t+1):a}const tI=n=>e=>e.test(n),Vk={test:n=>n==="auto",parse:n=>n},nI=[rd,Qe,so,ll,TU,vU,Vk],hS=n=>nI.find(tI(n));class iI extends tA{constructor(e,t,r,a,l){super(e,t,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let _=e[y];if(typeof _=="string"&&(_=_.trim(),VE(_))){const A=eI(_,t.current);A!==void 0&&(e[y]=A),y===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!PC.has(r)||e.length!==2)return;const[a,l]=e,h=hS(a),p=hS(l);if(h!==p)if(lS(h)&&lS(p))for(let y=0;y<e.length;y++){const _=e[y];typeof _=="string"&&(e[y]=parseFloat(_))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let a=0;a<e.length;a++)ck(e[a])&&r.push(a);r.length&&Ck(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$h[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const l=t.getValue(r);l&&l.jump(this.measuredOrigin,!1);const h=a.length-1,p=a[h];a[h]=$h[r](t.measureViewportBox(),window.getComputedStyle(t.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([y,_])=>{t.getValue(y).set(_)}),this.resolveNoneKeyframes()}}const dS=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Il.test(n)||n==="0")&&!n.startsWith("url("));function Nk(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Lk(n,e,t,r){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],h=dS(a,e),p=dS(l,e);return!h||!p?!1:Nk(n)||(t==="spring"||jE(t))&&r}const Uk=n=>n!==null;function ev(n,{repeat:e,repeatType:t="loop"},r){const a=n.filter(Uk),l=e&&t!=="loop"&&e%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const kk=40;class rI{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:h="loop",...p}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ao.now(),this.options={autoplay:e,delay:t,type:r,repeat:a,repeatDelay:l,repeatType:h,...p},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Mk(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ao.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:l,delay:h,onComplete:p,onUpdate:y,isGenerator:_}=this.options;if(!_&&!Lk(e,r,a,l))if(h)this.options.duration=0;else{y&&y(ev(e,this.options,t)),p&&p(),this.resolveFinishedPromise();return}const A=this.initPlayback(e,t);A!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...A},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const En=(n,e,t)=>n+(e-n)*t;function E0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Bk({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let a=0,l=0,h=0;if(!e)a=l=h=t;else{const p=t<.5?t*(1+e):t+e-t*e,y=2*t-p;a=E0(y,p,n+1/3),l=E0(y,p,n),h=E0(y,p,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(h*255),alpha:r}}function w_(n,e){return t=>t>0?e:n}const A0=(n,e,t)=>{const r=n*n,a=t*(e*e-r)+r;return a<0?0:Math.sqrt(a)},zk=[uT,jc,Ih],Fk=n=>zk.find(e=>e.test(n));function mS(n){const e=Fk(n);if(!e)return!1;let t=e.parse(n);return e===Ih&&(t=Bk(t)),t}const pS=(n,e)=>{const t=mS(n),r=mS(e);if(!t||!r)return w_(n,e);const a={...t};return l=>(a.red=A0(t.red,r.red,l),a.green=A0(t.green,r.green,l),a.blue=A0(t.blue,r.blue,l),a.alpha=En(t.alpha,r.alpha,l),jc.transform(a))},Hk=(n,e)=>t=>e(n(t)),jp=(...n)=>n.reduce(Hk),hT=new Set(["none","hidden"]);function qk(n,e){return hT.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function jk(n,e){return t=>En(n,e,t)}function nA(n){return typeof n=="number"?jk:typeof n=="string"?VE(n)?w_:Li.test(n)?pS:$k:Array.isArray(n)?sI:typeof n=="object"?Li.test(n)?pS:Gk:w_}function sI(n,e){const t=[...n],r=t.length,a=n.map((l,h)=>nA(l)(l,e[h]));return l=>{for(let h=0;h<r;h++)t[h]=a[h](l);return t}}function Gk(n,e){const t={...n,...e},r={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(r[a]=nA(n[a])(n[a],e[a]));return a=>{for(const l in r)t[l]=r[l](a);return t}}function Kk(n,e){var t;const r=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const h=e.types[l],p=n.indexes[h][a[h]],y=(t=n.values[p])!==null&&t!==void 0?t:0;r[l]=y,a[h]++}return r}const $k=(n,e)=>{const t=Il.createTransformer(e),r=Rp(n),a=Rp(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?hT.has(n)&&!a.values.length||hT.has(e)&&!r.values.length?qk(n,e):jp(sI(Kk(r,a),a.values),t):w_(n,e)};function aI(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?En(n,e,t):nA(n)(n,e)}const Wk=5;function oI(n,e,t){const r=Math.max(e-Wk,0);return VC(t-n(r),e-r)}const Cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gS=.001;function Yk({duration:n=Cn.duration,bounce:e=Cn.bounce,velocity:t=Cn.velocity,mass:r=Cn.mass}){let a,l,h=1-e;h=ou(Cn.minDamping,Cn.maxDamping,h),n=ou(Cn.minDuration,Cn.maxDuration,tu(n)),h<1?(a=_=>{const A=_*h,w=A*n,C=A-t,N=dT(_,h),U=Math.exp(-w);return gS-C/N*U},l=_=>{const w=_*h*n,C=w*t+t,N=Math.pow(h,2)*Math.pow(_,2)*n,U=Math.exp(-w),j=dT(Math.pow(_,2),h);return(-a(_)+gS>0?-1:1)*((C-N)*U)/j}):(a=_=>{const A=Math.exp(-_*n),w=(_-t)*n+1;return-.001+A*w},l=_=>{const A=Math.exp(-_*n),w=(t-_)*(n*n);return A*w});const p=5/n,y=Xk(a,l,p);if(n=eu(n),isNaN(y))return{stiffness:Cn.stiffness,damping:Cn.damping,duration:n};{const _=Math.pow(y,2)*r;return{stiffness:_,damping:h*2*Math.sqrt(r*_),duration:n}}}const Qk=12;function Xk(n,e,t){let r=t;for(let a=1;a<Qk;a++)r=r-n(r)/e(r);return r}function dT(n,e){return n*Math.sqrt(1-e*e)}const Zk=["duration","bounce"],Jk=["stiffness","damping","mass"];function yS(n,e){return e.some(t=>n[t]!==void 0)}function e4(n){let e={velocity:Cn.velocity,stiffness:Cn.stiffness,damping:Cn.damping,mass:Cn.mass,isResolvedFromDuration:!1,...n};if(!yS(n,Jk)&&yS(n,Zk))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),a=r*r,l=2*ou(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Cn.mass,stiffness:a,damping:l}}else{const t=Yk(n);e={...e,...t,mass:Cn.mass},e.isResolvedFromDuration=!0}return e}function uI(n=Cn.visualDuration,e=Cn.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:a}=t;const l=t.keyframes[0],h=t.keyframes[t.keyframes.length-1],p={done:!1,value:l},{stiffness:y,damping:_,mass:A,duration:w,velocity:C,isResolvedFromDuration:N}=e4({...t,velocity:-tu(t.velocity||0)}),U=C||0,j=_/(2*Math.sqrt(y*A)),B=h-l,$=tu(Math.sqrt(y/A)),re=Math.abs(B)<5;r||(r=re?Cn.restSpeed.granular:Cn.restSpeed.default),a||(a=re?Cn.restDelta.granular:Cn.restDelta.default);let ne;if(j<1){const ce=dT($,j);ne=be=>{const q=Math.exp(-j*$*be);return h-q*((U+j*$*B)/ce*Math.sin(ce*be)+B*Math.cos(ce*be))}}else if(j===1)ne=ce=>h-Math.exp(-$*ce)*(B+(U+$*B)*ce);else{const ce=$*Math.sqrt(j*j-1);ne=be=>{const q=Math.exp(-j*$*be),D=Math.min(ce*be,300);return h-q*((U+j*$*B)*Math.sinh(D)+ce*B*Math.cosh(D))/ce}}const Ae={calculatedDuration:N&&w||null,next:ce=>{const be=ne(ce);if(N)p.done=ce>=w;else{let q=0;j<1&&(q=ce===0?eu(U):oI(ne,ce,be));const D=Math.abs(q)<=r,O=Math.abs(h-be)<=a;p.done=D&&O}return p.value=p.done?h:be,p},toString:()=>{const ce=Math.min(RC(Ae),sT),be=CC(q=>Ae.next(ce*q).value,ce,30);return ce+"ms "+be}};return Ae}function _S({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:h,min:p,max:y,restDelta:_=.5,restSpeed:A}){const w=n[0],C={done:!1,value:w},N=D=>p!==void 0&&D<p||y!==void 0&&D>y,U=D=>p===void 0?y:y===void 0||Math.abs(p-D)<Math.abs(y-D)?p:y;let j=t*e;const B=w+j,$=h===void 0?B:h(B);$!==B&&(j=$-w);const re=D=>-j*Math.exp(-D/r),ne=D=>$+re(D),Ae=D=>{const O=re(D),k=ne(D);C.done=Math.abs(O)<=_,C.value=C.done?$:k};let ce,be;const q=D=>{N(C.value)&&(ce=D,be=uI({keyframes:[C.value,U(C.value)],velocity:oI(ne,D,C.value),damping:a,stiffness:l,restDelta:_,restSpeed:A}))};return q(0),{calculatedDuration:null,next:D=>{let O=!1;return!be&&ce===void 0&&(O=!0,Ae(D),q(D)),ce!==void 0&&D>=ce?be.next(D-ce):(!O&&Ae(D),C)}}}const t4=qp(.42,0,1,1),n4=qp(0,0,.58,1),lI=qp(.42,0,.58,1),i4=n=>Array.isArray(n)&&typeof n[0]!="number",r4={linear:Qr,easeIn:t4,easeInOut:lI,easeOut:n4,circIn:XE,circInOut:qC,circOut:HC,backIn:QE,backInOut:zC,backOut:BC,anticipate:FC},vS=n=>{if(GE(n)){oC(n.length===4);const[e,t,r,a]=n;return qp(e,t,r,a)}else if(typeof n=="string")return r4[n];return n};function s4(n,e,t){const r=[],a=t||aI,l=n.length-1;for(let h=0;h<l;h++){let p=a(n[h],n[h+1]);if(e){const y=Array.isArray(e)?e[h]||Qr:e;p=jp(y,p)}r.push(p)}return r}function a4(n,e,{clamp:t=!0,ease:r,mixer:a}={}){const l=n.length;if(oC(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const h=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const p=s4(e,r,a),y=p.length,_=A=>{if(h&&A<n[0])return e[0];let w=0;if(y>1)for(;w<n.length-2&&!(A<n[w+1]);w++);const C=Gh(n[w],n[w+1],A);return p[w](C)};return t?A=>_(ou(n[0],n[l-1],A)):_}function o4(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const a=Gh(0,e,r);n.push(En(t,1,a))}}function u4(n){const e=[0];return o4(e,n.length-1),e}function l4(n,e){return n.map(t=>t*e)}function c4(n,e){return n.map(()=>e||lI).splice(0,n.length-1)}function S_({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const a=i4(r)?r.map(vS):vS(r),l={done:!1,value:e[0]},h=l4(t&&t.length===e.length?t:u4(e),n),p=a4(h,e,{ease:Array.isArray(a)?a:c4(e,a)});return{calculatedDuration:n,next:y=>(l.value=p(y),l.done=y>=n,l)}}const f4=n=>{const e=({timestamp:t})=>n(t);return{start:()=>nn.update(e,!0),stop:()=>Cl(e),now:()=>Ei.isProcessing?Ei.timestamp:ao.now()}},h4={decay:_S,inertia:_S,tween:S_,keyframes:S_,spring:uI},d4=n=>n/100;class iA extends rI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:y}=this.options;y&&y()};const{name:t,motionValue:r,element:a,keyframes:l}=this.options,h=(a==null?void 0:a.KeyframeResolver)||tA,p=(y,_)=>this.onKeyframesResolved(y,_);this.resolver=new h(l,p,t,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:h=0}=this.options,p=jE(t)?t:h4[t]||S_;let y,_;p!==S_&&typeof e[0]!="number"&&(y=jp(d4,aI(e[0],e[1])),e=[0,100]);const A=p({...this.options,keyframes:e});l==="mirror"&&(_=p({...this.options,keyframes:[...e].reverse(),velocity:-h})),A.calculatedDuration===null&&(A.calculatedDuration=RC(A));const{calculatedDuration:w}=A,C=w+a,N=C*(r+1)-a;return{generator:A,mirroredGenerator:_,mapPercentToKeyframes:y,calculatedDuration:w,resolvedDuration:C,totalDuration:N}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:h,mapPercentToKeyframes:p,keyframes:y,calculatedDuration:_,totalDuration:A,resolvedDuration:w}=r;if(this.startTime===null)return l.next(0);const{delay:C,repeat:N,repeatType:U,repeatDelay:j,onUpdate:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-A/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const $=this.currentTime-C*(this.speed>=0?1:-1),re=this.speed>=0?$<0:$>A;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=A);let ne=this.currentTime,Ae=l;if(N){const D=Math.min(this.currentTime,A)/w;let O=Math.floor(D),k=D%1;!k&&D>=1&&(k=1),k===1&&O--,O=Math.min(O,N+1),!!(O%2)&&(U==="reverse"?(k=1-k,j&&(k-=j/w)):U==="mirror"&&(Ae=h)),ne=ou(0,1,k)*w}const ce=re?{done:!1,value:y[0]}:Ae.next(ne);p&&(ce.value=p(ce.value));let{done:be}=ce;!re&&_!==null&&(be=this.speed>=0?this.currentTime>=A:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&be);return q&&a!==void 0&&(ce.value=ev(y,this.options,a)),B&&B(ce.value),q&&this.finish(),ce}get duration(){const{resolved:e}=this;return e?tu(e.calculatedDuration):0}get time(){return tu(this.currentTime)}set time(e){e=eu(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=tu(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=f4,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const m4=new Set(["opacity","clipPath","filter","transform"]);function p4(n,e,t,{delay:r=0,duration:a=300,repeat:l=0,repeatType:h="loop",ease:p="easeInOut",times:y}={}){const _={[e]:t};y&&(_.offset=y);const A=xC(p,a);return Array.isArray(A)&&(_.easing=A),n.animate(_,{delay:r,duration:a,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:l+1,direction:h==="reverse"?"alternate":"normal"})}const g4=IE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),b_=10,y4=2e4;function _4(n){return jE(n.type)||n.type==="spring"||!IC(n.ease)}function v4(n,e){const t=new iA({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const a=[];let l=0;for(;!r.done&&l<y4;)r=t.sample(l),a.push(r.value),l+=b_;return{times:void 0,keyframes:a,duration:l-b_,ease:"linear"}}const cI={anticipate:FC,backInOut:zC,circInOut:qC};function T4(n){return n in cI}class TS extends rI{constructor(e){super(e);const{name:t,motionValue:r,element:a,keyframes:l}=this.options;this.resolver=new iI(l,(h,p)=>this.onKeyframesResolved(h,p),t,r,a),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:a,ease:l,type:h,motionValue:p,name:y,startTime:_}=this.options;if(!p.owner||!p.owner.current)return!1;if(typeof l=="string"&&A_()&&T4(l)&&(l=cI[l]),_4(this.options)){const{onComplete:w,onUpdate:C,motionValue:N,element:U,...j}=this.options,B=v4(e,j);e=B.keyframes,e.length===1&&(e[1]=e[0]),r=B.duration,a=B.times,l=B.ease,h="keyframes"}const A=p4(p.owner.current,y,e,{...this.options,duration:r,times:a,ease:l});return A.startTime=_??this.calcStartTime(),this.pendingTimeline?(iS(A,this.pendingTimeline),this.pendingTimeline=void 0):A.onfinish=()=>{const{onComplete:w}=this.options;p.set(ev(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:A,duration:r,times:a,type:h,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return tu(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return tu(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=eu(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Qr;const{animation:r}=t;iS(r,e)}return Qr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:a,type:l,ease:h,times:p}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:_,onUpdate:A,onComplete:w,element:C,...N}=this.options,U=new iA({...N,keyframes:r,duration:a,type:l,ease:h,times:p,isGenerator:!0}),j=eu(this.time);_.setWithVelocity(U.sample(j-b_).value,U.sample(j).value,b_)}const{onStop:y}=this.options;y&&y(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:a,repeatType:l,damping:h,type:p}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:_}=t.owner.getProps();return g4()&&r&&m4.has(r)&&!y&&!_&&!a&&l!=="mirror"&&h!==0&&p!=="inertia"}}const E4={type:"spring",stiffness:500,damping:25,restSpeed:10},A4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),w4={type:"keyframes",duration:.8},S4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b4=(n,{keyframes:e})=>e.length>2?w4:tf.has(n)?n.startsWith("scale")?A4(e[1]):E4:S4;function R4({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:h,repeatDelay:p,from:y,elapsed:_,...A}){return!!Object.keys(A).length}const rA=(n,e,t,r={},a,l)=>h=>{const p=qE(r,n)||{},y=p.delay||r.delay||0;let{elapsed:_=0}=r;_=_-eu(y);let A={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...p,delay:-_,onUpdate:C=>{e.set(C),p.onUpdate&&p.onUpdate(C)},onComplete:()=>{h(),p.onComplete&&p.onComplete()},name:n,motionValue:e,element:l?void 0:a};R4(p)||(A={...A,...b4(n,A)}),A.duration&&(A.duration=eu(A.duration)),A.repeatDelay&&(A.repeatDelay=eu(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let w=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(A.duration=0,A.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const C=ev(A.keyframes,p);if(C!==void 0)return nn.update(()=>{A.onUpdate(C),A.onComplete()}),new GU([])}return!l&&TS.supports(A)?new TS(A):new iA(A)};function C4({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function fI(n,e,{delay:t=0,transitionOverride:r,type:a}={}){var l;let{transition:h=n.getDefaultTransition(),transitionEnd:p,...y}=e;r&&(h=r);const _=[],A=a&&n.animationState&&n.animationState.getState()[a];for(const w in y){const C=n.getValue(w,(l=n.latestValues[w])!==null&&l!==void 0?l:null),N=y[w];if(N===void 0||A&&C4(A,w))continue;const U={delay:t,...qE(h||{},w)};let j=!1;if(window.MotionHandoffAnimation){const $=NC(n);if($){const re=window.MotionHandoffAnimation($,w,nn);re!==null&&(U.startTime=re,j=!0)}}oT(n,w),C.start(rA(w,C,N,n.shouldReduceMotion&&PC.has(w)?{type:!1}:U,n,j));const B=C.animation;B&&_.push(B)}return p&&Promise.all(_).then(()=>{nn.update(()=>{p&&sk(n,p)})}),_}function mT(n,e,t={}){var r;const a=Sp(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=a||{};t.transitionOverride&&(l=t.transitionOverride);const h=a?()=>Promise.all(fI(n,a,t)):()=>Promise.resolve(),p=n.variantChildren&&n.variantChildren.size?(_=0)=>{const{delayChildren:A=0,staggerChildren:w,staggerDirection:C}=l;return I4(n,e,A+_,w,C,t)}:()=>Promise.resolve(),{when:y}=l;if(y){const[_,A]=y==="beforeChildren"?[h,p]:[p,h];return _().then(()=>A())}else return Promise.all([h(),p(t.delay)])}function I4(n,e,t=0,r=0,a=1,l){const h=[],p=(n.variantChildren.size-1)*r,y=a===1?(_=0)=>_*r:(_=0)=>p-_*r;return Array.from(n.variantChildren).sort(x4).forEach((_,A)=>{_.notify("AnimationStart",e),h.push(mT(_,e,{...l,delay:t+y(A)}).then(()=>_.notify("AnimationComplete",e)))}),Promise.all(h)}function x4(n,e){return n.sortNodePosition(e)}function D4(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>mT(n,l,t));r=Promise.all(a)}else if(typeof e=="string")r=mT(n,e,t);else{const a=typeof e=="function"?Sp(n,e,t.custom):e;r=Promise.all(fI(n,a,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function hI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const M4=DE.length;function dI(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?dI(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<M4;t++){const r=DE[t],a=n.props[r];(Ep(a)||a===!1)&&(e[r]=a)}return e}const O4=[...xE].reverse(),P4=xE.length;function V4(n){return e=>Promise.all(e.map(({animation:t,options:r})=>D4(n,t,r)))}function N4(n){let e=V4(n),t=ES(),r=!0;const a=y=>(_,A)=>{var w;const C=Sp(n,A,y==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(C){const{transition:N,transitionEnd:U,...j}=C;_={..._,...j,...U}}return _};function l(y){e=y(n)}function h(y){const{props:_}=n,A=dI(n.parent)||{},w=[],C=new Set;let N={},U=1/0;for(let B=0;B<P4;B++){const $=O4[B],re=t[$],ne=_[$]!==void 0?_[$]:A[$],Ae=Ep(ne),ce=$===y?re.isActive:null;ce===!1&&(U=B);let be=ne===A[$]&&ne!==_[$]&&Ae;if(be&&r&&n.manuallyAnimateOnMount&&(be=!1),re.protectedKeys={...N},!re.isActive&&ce===null||!ne&&!re.prevProp||Z_(ne)||typeof ne=="boolean")continue;const q=L4(re.prevProp,ne);let D=q||$===y&&re.isActive&&!be&&Ae||B>U&&Ae,O=!1;const k=Array.isArray(ne)?ne:[ne];let G=k.reduce(a($),{});ce===!1&&(G={});const{prevResolvedValues:Z={}}=re,H={...Z,...G},zt=Oe=>{D=!0,C.has(Oe)&&(O=!0,C.delete(Oe)),re.needsAnimating[Oe]=!0;const Me=n.getValue(Oe);Me&&(Me.liveStyle=!1)};for(const Oe in H){const Me=G[Oe],mt=Z[Oe];if(N.hasOwnProperty(Oe))continue;let x=!1;rT(Me)&&rT(mt)?x=!hI(Me,mt):x=Me!==mt,x?Me!=null?zt(Oe):C.add(Oe):Me!==void 0&&C.has(Oe)?zt(Oe):re.protectedKeys[Oe]=!0}re.prevProp=ne,re.prevResolvedValues=G,re.isActive&&(N={...N,...G}),r&&n.blockInitialAnimation&&(D=!1),D&&(!(be&&q)||O)&&w.push(...k.map(Oe=>({animation:Oe,options:{type:$}})))}if(C.size){const B={};if(typeof _.initial!="boolean"){const $=Sp(n,Array.isArray(_.initial)?_.initial[0]:_.initial);$&&$.transition&&(B.transition=$.transition)}C.forEach($=>{const re=n.getBaseTarget($),ne=n.getValue($);ne&&(ne.liveStyle=!0),B[$]=re??null}),w.push({animation:B})}let j=!!w.length;return r&&(_.initial===!1||_.initial===_.animate)&&!n.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(w):Promise.resolve()}function p(y,_){var A;if(t[y].isActive===_)return Promise.resolve();(A=n.variantChildren)===null||A===void 0||A.forEach(C=>{var N;return(N=C.animationState)===null||N===void 0?void 0:N.setActive(y,_)}),t[y].isActive=_;const w=h(y);for(const C in t)t[C].protectedKeys={};return w}return{animateChanges:h,setActive:p,setAnimateFunction:l,getState:()=>t,reset:()=>{t=ES(),r=!0}}}function L4(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!hI(e,n):!1}function Bc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ES(){return{animate:Bc(!0),whileInView:Bc(),whileHover:Bc(),whileTap:Bc(),whileDrag:Bc(),whileFocus:Bc(),exit:Bc()}}class Ol{constructor(e){this.isMounted=!1,this.node=e}update(){}}class U4 extends Ol{constructor(e){super(e),e.animationState||(e.animationState=N4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Z_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let k4=0;class B4 extends Ol{constructor(){super(...arguments),this.id=k4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const z4={animation:{Feature:U4},exit:{Feature:B4}};function Cp(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Gp(n){return{point:{x:n.pageX,y:n.pageY}}}const F4=n=>e=>KE(e)&&n(e,Gp(e));function up(n,e,t,r){return Cp(n,e,F4(t),r)}const AS=(n,e)=>Math.abs(n-e);function H4(n,e){const t=AS(n.x,e.x),r=AS(n.y,e.y);return Math.sqrt(t**2+r**2)}class mI{constructor(e,t,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=S0(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,N=H4(w.offset,{x:0,y:0})>=3;if(!C&&!N)return;const{point:U}=w,{timestamp:j}=Ei;this.history.push({...U,timestamp:j});const{onStart:B,onMove:$}=this.handlers;C||(B&&B(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,w)},this.handlePointerMove=(w,C)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=w0(C,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(w,C)=>{this.end();const{onEnd:N,onSessionEnd:U,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=S0(w.type==="pointercancel"?this.lastMoveEventInfo:w0(C,this.transformPagePoint),this.history);this.startEvent&&N&&N(w,B),U&&U(w,B)},!KE(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=r,this.contextWindow=a||window;const h=Gp(e),p=w0(h,this.transformPagePoint),{point:y}=p,{timestamp:_}=Ei;this.history=[{...y,timestamp:_}];const{onSessionStart:A}=t;A&&A(e,S0(p,this.history)),this.removeListeners=jp(up(this.contextWindow,"pointermove",this.handlePointerMove),up(this.contextWindow,"pointerup",this.handlePointerUp),up(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cl(this.updatePoint)}}function w0(n,e){return e?{point:e(n.point)}:n}function wS(n,e){return{x:n.x-e.x,y:n.y-e.y}}function S0({point:n},e){return{point:n,delta:wS(n,pI(e)),offset:wS(n,q4(e)),velocity:j4(e,.1)}}function q4(n){return n[0]}function pI(n){return n[n.length-1]}function j4(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const a=pI(n);for(;t>=0&&(r=n[t],!(a.timestamp-r.timestamp>eu(e)));)t--;if(!r)return{x:0,y:0};const l=tu(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const h={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}const gI=1e-4,G4=1-gI,K4=1+gI,yI=.01,$4=0-yI,W4=0+yI;function sr(n){return n.max-n.min}function Y4(n,e,t){return Math.abs(n-e)<=t}function SS(n,e,t,r=.5){n.origin=r,n.originPoint=En(e.min,e.max,n.origin),n.scale=sr(t)/sr(e),n.translate=En(t.min,t.max,n.origin)-n.originPoint,(n.scale>=G4&&n.scale<=K4||isNaN(n.scale))&&(n.scale=1),(n.translate>=$4&&n.translate<=W4||isNaN(n.translate))&&(n.translate=0)}function lp(n,e,t,r){SS(n.x,e.x,t.x,r?r.originX:void 0),SS(n.y,e.y,t.y,r?r.originY:void 0)}function bS(n,e,t){n.min=t.min+e.min,n.max=n.min+sr(e)}function Q4(n,e,t){bS(n.x,e.x,t.x),bS(n.y,e.y,t.y)}function RS(n,e,t){n.min=e.min-t.min,n.max=n.min+sr(e)}function cp(n,e,t){RS(n.x,e.x,t.x),RS(n.y,e.y,t.y)}function X4(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?En(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?En(t,n,r.max):Math.min(n,t)),n}function CS(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Z4(n,{top:e,left:t,bottom:r,right:a}){return{x:CS(n.x,t,a),y:CS(n.y,e,r)}}function IS(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function J4(n,e){return{x:IS(n.x,e.x),y:IS(n.y,e.y)}}function eB(n,e){let t=.5;const r=sr(n),a=sr(e);return a>r?t=Gh(e.min,e.max-r,n.min):r>a&&(t=Gh(n.min,n.max-a,e.min)),ou(0,1,t)}function tB(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const pT=.35;function nB(n=pT){return n===!1?n=0:n===!0&&(n=pT),{x:xS(n,"left","right"),y:xS(n,"top","bottom")}}function xS(n,e,t){return{min:DS(n,e),max:DS(n,t)}}function DS(n,e){return typeof n=="number"?n:n[e]||0}const MS=()=>({translate:0,scale:1,origin:0,originPoint:0}),xh=()=>({x:MS(),y:MS()}),OS=()=>({min:0,max:0}),Nn=()=>({x:OS(),y:OS()});function bs(n){return[n("x"),n("y")]}function _I({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function iB({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function rB(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function b0(n){return n===void 0||n===1}function gT({scale:n,scaleX:e,scaleY:t}){return!b0(n)||!b0(e)||!b0(t)}function Fc(n){return gT(n)||vI(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function vI(n){return PS(n.x)||PS(n.y)}function PS(n){return n&&n!=="0%"}function R_(n,e,t){const r=n-t,a=e*r;return t+a}function VS(n,e,t,r,a){return a!==void 0&&(n=R_(n,a,r)),R_(n,t,r)+e}function yT(n,e=0,t=1,r,a){n.min=VS(n.min,e,t,r,a),n.max=VS(n.max,e,t,r,a)}function TI(n,{x:e,y:t}){yT(n.x,e.translate,e.scale,e.originPoint),yT(n.y,t.translate,t.scale,t.originPoint)}const NS=.999999999999,LS=1.0000000000001;function sB(n,e,t,r=!1){const a=t.length;if(!a)return;e.x=e.y=1;let l,h;for(let p=0;p<a;p++){l=t[p],h=l.projectionDelta;const{visualElement:y}=l.options;y&&y.props.style&&y.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Mh(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,TI(n,h)),r&&Fc(l.latestValues)&&Mh(n,l.latestValues))}e.x<LS&&e.x>NS&&(e.x=1),e.y<LS&&e.y>NS&&(e.y=1)}function Dh(n,e){n.min=n.min+e,n.max=n.max+e}function US(n,e,t,r,a=.5){const l=En(n.min,n.max,a);yT(n,e,t,l,r)}function Mh(n,e){US(n.x,e.x,e.scaleX,e.scale,e.originX),US(n.y,e.y,e.scaleY,e.scale,e.originY)}function EI(n,e){return _I(rB(n.getBoundingClientRect(),e))}function aB(n,e,t){const r=EI(n,t),{scroll:a}=e;return a&&(Dh(r.x,a.offset.x),Dh(r.y,a.offset.y)),r}const AI=({current:n})=>n?n.ownerDocument.defaultView:null,oB=new WeakMap;class uB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=A=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Gp(A).point)},l=(A,w)=>{const{drag:C,dragPropagation:N,onDragStart:U}=this.getProps();if(C&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ek(C),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bs(B=>{let $=this.getAxisMotionValue(B).get()||0;if(so.test($)){const{projection:re}=this.visualElement;if(re&&re.layout){const ne=re.layout.layoutBox[B];ne&&($=sr(ne)*(parseFloat($)/100))}}this.originPoint[B]=$}),U&&nn.postRender(()=>U(A,w)),oT(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},h=(A,w)=>{const{dragPropagation:C,dragDirectionLock:N,onDirectionLock:U,onDrag:j}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:B}=w;if(N&&this.currentDirection===null){this.currentDirection=lB(B),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),j&&j(A,w)},p=(A,w)=>this.stop(A,w),y=()=>bs(A=>{var w;return this.getAnimationState(A)==="paused"&&((w=this.getAxisMotionValue(A).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:_}=this.getProps();this.panSession=new mI(e,{onSessionStart:a,onStart:l,onMove:h,onSessionEnd:p,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,contextWindow:AI(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&nn.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:a}=this.getProps();if(!r||!Uy(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let h=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(h=X4(h,this.constraints[e],this.elastic[e])),l.set(h)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&Ch(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=Z4(a.layoutBox,t):this.constraints=!1,this.elastic=nB(r),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&bs(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=tB(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ch(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=aB(r,a.root,this.visualElement.getTransformPagePoint());let h=J4(a.layout.layoutBox,l);if(t){const p=t(iB(h));this.hasMutatedConstraints=!!p,p&&(h=_I(p))}return h}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:h,onDragTransitionEnd:p}=this.getProps(),y=this.constraints||{},_=bs(A=>{if(!Uy(A,t,this.currentDirection))return;let w=y&&y[A]||{};h&&(w={min:0,max:0});const C=a?200:1e6,N=a?40:1e7,U={type:"inertia",velocity:r?e[A]:0,bounceStiffness:C,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(A,U)});return Promise.all(_).then(p)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return oT(this.visualElement,e),r.start(rA(e,r,0,t,this.visualElement,!1))}stopAnimation(){bs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bs(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[t];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bs(t=>{const{drag:r}=this.getProps();if(!Uy(t,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(t);if(a&&a.layout){const{min:h,max:p}=a.layout.layoutBox[t];l.set(e[t]-En(h,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ch(t)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};bs(h=>{const p=this.getAxisMotionValue(h);if(p&&this.constraints!==!1){const y=p.get();a[h]=eB({min:y,max:y},this.constraints[h])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bs(h=>{if(!Uy(h,e,null))return;const p=this.getAxisMotionValue(h),{min:y,max:_}=this.constraints[h];p.set(En(y,_,a[h]))})}addListeners(){if(!this.visualElement.current)return;oB.set(this.visualElement,this);const e=this.visualElement.current,t=up(e,"pointerdown",y=>{const{drag:_,dragListener:A=!0}=this.getProps();_&&A&&this.start(y)}),r=()=>{const{dragConstraints:y}=this.getProps();Ch(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),nn.read(r);const h=Cp(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_})=>{this.isDragging&&_&&(bs(A=>{const w=this.getAxisMotionValue(A);w&&(this.originPoint[A]+=y[A].translate,w.set(w.get()+y[A].translate))}),this.visualElement.render())});return()=>{h(),t(),l(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:h=pT,dragMomentum:p=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:h,dragMomentum:p}}}function Uy(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function lB(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class cB extends Ol{constructor(e){super(e),this.removeGroupControls=Qr,this.removeListeners=Qr,this.controls=new uB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qr}unmount(){this.removeGroupControls(),this.removeListeners()}}const kS=n=>(e,t)=>{n&&nn.postRender(()=>n(e,t))};class fB extends Ol{constructor(){super(...arguments),this.removePointerDownListener=Qr}onPointerDown(e){this.session=new mI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:kS(e),onStart:kS(t),onMove:r,onEnd:(l,h)=>{delete this.session,a&&nn.postRender(()=>a(l,h))}}}mount(){this.removePointerDownListener=up(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BS(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const $m={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Qe.test(n))n=parseFloat(n);else return n;const t=BS(n,e.target.x),r=BS(n,e.target.y);return`${t}% ${r}%`}},hB={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,a=Il.parse(n);if(a.length>5)return r;const l=Il.createTransformer(n),h=typeof a[0]!="number"?1:0,p=t.x.scale*e.x,y=t.y.scale*e.y;a[0+h]/=p,a[1+h]/=y;const _=En(p,y,.5);return typeof a[2+h]=="number"&&(a[2+h]/=_),typeof a[3+h]=="number"&&(a[3+h]/=_),l(a)}};class dB extends X.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;_U(mB),l&&(t.group&&t.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Jy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:a,isPresent:l}=this.props,h=r.projection;return h&&(h.isPresent=l,a||e.layoutDependency!==t||t===void 0?h.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?h.promote():h.relegate()||nn.postRender(()=>{const p=h.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),OE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wI(n){const[e,t]=YL(),r=X.useContext(sC);return Ie.jsx(dB,{...n,layoutGroup:r,switchLayoutGroup:X.useContext(dC),isPresent:e,safeToRemove:t})}const mB={borderRadius:{...$m,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$m,borderTopRightRadius:$m,borderBottomLeftRadius:$m,borderBottomRightRadius:$m,boxShadow:hB};function pB(n,e,t){const r=Bi(n)?n:bp(n);return r.start(rA("",r,e,t)),r.animation}function gB(n){return n instanceof SVGElement&&n.tagName!=="svg"}const yB=(n,e)=>n.depth-e.depth;class _B{constructor(){this.children=[],this.isDirty=!1}add(e){$E(this.children,e),this.isDirty=!0}remove(e){WE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yB),this.isDirty=!1,this.children.forEach(e)}}function vB(n,e){const t=ao.now(),r=({timestamp:a})=>{const l=a-t;l>=e&&(Cl(r),n(l-e))};return nn.read(r,!0),()=>Cl(r)}const SI=["TopLeft","TopRight","BottomLeft","BottomRight"],TB=SI.length,zS=n=>typeof n=="string"?parseFloat(n):n,FS=n=>typeof n=="number"||Qe.test(n);function EB(n,e,t,r,a,l){a?(n.opacity=En(0,t.opacity!==void 0?t.opacity:1,AB(r)),n.opacityExit=En(e.opacity!==void 0?e.opacity:1,0,wB(r))):l&&(n.opacity=En(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let h=0;h<TB;h++){const p=`border${SI[h]}Radius`;let y=HS(e,p),_=HS(t,p);if(y===void 0&&_===void 0)continue;y||(y=0),_||(_=0),y===0||_===0||FS(y)===FS(_)?(n[p]=Math.max(En(zS(y),zS(_),r),0),(so.test(_)||so.test(y))&&(n[p]+="%")):n[p]=_}(e.rotate||t.rotate)&&(n.rotate=En(e.rotate||0,t.rotate||0,r))}function HS(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const AB=bI(0,.5,HC),wB=bI(.5,.95,Qr);function bI(n,e,t){return r=>r<n?0:r>e?1:t(Gh(n,e,r))}function qS(n,e){n.min=e.min,n.max=e.max}function Ss(n,e){qS(n.x,e.x),qS(n.y,e.y)}function jS(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function GS(n,e,t,r,a){return n-=e,n=R_(n,1/t,r),a!==void 0&&(n=R_(n,1/a,r)),n}function SB(n,e=0,t=1,r=.5,a,l=n,h=n){if(so.test(e)&&(e=parseFloat(e),e=En(h.min,h.max,e/100)-h.min),typeof e!="number")return;let p=En(l.min,l.max,r);n===l&&(p-=e),n.min=GS(n.min,e,t,p,a),n.max=GS(n.max,e,t,p,a)}function KS(n,e,[t,r,a],l,h){SB(n,e[t],e[r],e[a],e.scale,l,h)}const bB=["x","scaleX","originX"],RB=["y","scaleY","originY"];function $S(n,e,t,r){KS(n.x,e,bB,t?t.x:void 0,r?r.x:void 0),KS(n.y,e,RB,t?t.y:void 0,r?r.y:void 0)}function WS(n){return n.translate===0&&n.scale===1}function RI(n){return WS(n.x)&&WS(n.y)}function YS(n,e){return n.min===e.min&&n.max===e.max}function CB(n,e){return YS(n.x,e.x)&&YS(n.y,e.y)}function QS(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function CI(n,e){return QS(n.x,e.x)&&QS(n.y,e.y)}function XS(n){return sr(n.x)/sr(n.y)}function ZS(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class IB{constructor(){this.members=[]}add(e){$E(this.members,e),e.scheduleRender()}remove(e){if(WE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let r;for(let a=t;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xB(n,e,t){let r="";const a=n.x.translate/e.x,l=n.y.translate/e.y,h=(t==null?void 0:t.z)||0;if((a||l||h)&&(r=`translate3d(${a}px, ${l}px, ${h}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:_,rotate:A,rotateX:w,rotateY:C,skewX:N,skewY:U}=t;_&&(r=`perspective(${_}px) ${r}`),A&&(r+=`rotate(${A}deg) `),w&&(r+=`rotateX(${w}deg) `),C&&(r+=`rotateY(${C}deg) `),N&&(r+=`skewX(${N}deg) `),U&&(r+=`skewY(${U}deg) `)}const p=n.x.scale*e.x,y=n.y.scale*e.y;return(p!==1||y!==1)&&(r+=`scale(${p}, ${y})`),r||"none"}const R0=["","X","Y","Z"],DB={visibility:"hidden"},JS=1e3;let MB=0;function C0(n,e,t,r){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),r&&(r[n]=0))}function II(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=NC(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",nn,!(a||l))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&II(r)}function xI({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(h={},p=e==null?void 0:e()){this.id=MB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VB),this.nodes.forEach(BB),this.nodes.forEach(zB),this.nodes.forEach(NB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new _B)}addEventListener(h,p){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new YE),this.eventHandlers.get(h).add(p)}notifyListeners(h,...p){const y=this.eventHandlers.get(h);y&&y.notify(...p)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,p=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gB(h),this.instance=h;const{layoutId:y,layout:_,visualElement:A}=this.options;if(A&&!A.current&&A.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),p&&(_||y)&&(this.isLayoutDirty=!0),n){let w;const C=()=>this.root.updateBlockedByResize=!1;n(h,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=vB(C,250),Jy.hasAnimatedSinceResize&&(Jy.hasAnimatedSinceResize=!1,this.nodes.forEach(tb))})}y&&this.root.registerSharedNode(y,this),this.options.animate!==!1&&A&&(y||_)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:C,hasRelativeLayoutChanged:N,layout:U})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||A.getDefaultTransition()||GB,{onLayoutAnimationStart:B,onLayoutAnimationComplete:$}=A.getProps(),re=!this.targetLayout||!CI(this.targetLayout,U),ne=!C&&N;if(this.options.layoutRoot||this.resumeFrom||ne||C&&(re||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,ne);const Ae={...qE(j,"layout"),onPlay:B,onComplete:$};(A.shouldReduceMotion||this.options.layoutRoot)&&(Ae.delay=0,Ae.type=!1),this.startAnimation(Ae)}else C||tb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=U})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FB),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&II(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const w=this.path[A];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:p,layout:y}=this.options;if(p===void 0&&!y)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eb);return}this.isUpdating||this.nodes.forEach(UB),this.isUpdating=!1,this.nodes.forEach(kB),this.nodes.forEach(OB),this.nodes.forEach(PB),this.clearAllSnapshots();const p=ao.now();Ei.delta=ou(0,1e3/60,p-Ei.timestamp),Ei.timestamp=p,Ei.isProcessing=!0,_0.update.process(Ei),_0.preRender.process(Ei),_0.render.process(Ei),Ei.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,OE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LB),this.sharedNodes.forEach(HB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sr(this.snapshot.measuredBox.x)&&!sr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(p=!1),p){const y=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:y,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!a)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!RI(this.projectionDelta),y=this.getTransformTemplate(),_=y?y(this.latestValues,""):void 0,A=_!==this.prevTransformTemplateValue;h&&(p||Fc(this.latestValues)||A)&&(a(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const p=this.measurePageBox();let y=this.removeElementScroll(p);return h&&(y=this.removeTransform(y)),KB(y),{animationId:this.root.animationId,measuredBox:p,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:p}=this.options;if(!p)return Nn();const y=p.measureViewportBox();if(!(((h=this.scroll)===null||h===void 0?void 0:h.wasRoot)||this.path.some($B))){const{scroll:A}=this.root;A&&(Dh(y.x,A.offset.x),Dh(y.y,A.offset.y))}return y}removeElementScroll(h){var p;const y=Nn();if(Ss(y,h),!((p=this.scroll)===null||p===void 0)&&p.wasRoot)return y;for(let _=0;_<this.path.length;_++){const A=this.path[_],{scroll:w,options:C}=A;A!==this.root&&w&&C.layoutScroll&&(w.wasRoot&&Ss(y,h),Dh(y.x,w.offset.x),Dh(y.y,w.offset.y))}return y}applyTransform(h,p=!1){const y=Nn();Ss(y,h);for(let _=0;_<this.path.length;_++){const A=this.path[_];!p&&A.options.layoutScroll&&A.scroll&&A!==A.root&&Mh(y,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Fc(A.latestValues)&&Mh(y,A.latestValues)}return Fc(this.latestValues)&&Mh(y,this.latestValues),y}removeTransform(h){const p=Nn();Ss(p,h);for(let y=0;y<this.path.length;y++){const _=this.path[y];if(!_.instance||!Fc(_.latestValues))continue;gT(_.latestValues)&&_.updateSnapshot();const A=Nn(),w=_.measurePageBox();Ss(A,w),$S(p,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,A)}return Fc(this.latestValues)&&$S(p,this.latestValues),p}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ei.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var p;const y=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=y.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=y.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=y.isSharedProjectionDirty);const _=!!this.resumingFrom||this!==y;if(!(h||_&&this.isSharedProjectionDirty||this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:C}=this.options;if(!(!this.layout||!(w||C))){if(this.resolvedRelativeTargetAt=Ei.timestamp,!this.targetDelta&&!this.relativeTarget){const N=this.getClosestProjectingParent();N&&N.layout&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nn(),this.relativeTargetOrigin=Nn(),cp(this.relativeTargetOrigin,this.layout.layoutBox,N.layout.layoutBox),Ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nn(),this.targetWithTransforms=Nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),TI(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const N=this.getClosestProjectingParent();N&&!!N.resumingFrom==!!this.resumingFrom&&!N.options.layoutScroll&&N.target&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nn(),this.relativeTargetOrigin=Nn(),cp(this.relativeTargetOrigin,this.target,N.target),Ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gT(this.parent.latestValues)||vI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const p=this.getLead(),y=!!this.resumingFrom||this!==p;let _=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(_=!1),y&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(_=!1),this.resolvedRelativeTargetAt===Ei.timestamp&&(_=!1),_)return;const{layout:A,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(A||w))return;Ss(this.layoutCorrected,this.layout.layoutBox);const C=this.treeScale.x,N=this.treeScale.y;sB(this.layoutCorrected,this.treeScale,this.path,y),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=Nn());const{target:U}=p;if(!U){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jS(this.prevProjectionDelta.x,this.projectionDelta.x),jS(this.prevProjectionDelta.y,this.projectionDelta.y)),lp(this.projectionDelta,this.layoutCorrected,U,this.latestValues),(this.treeScale.x!==C||this.treeScale.y!==N||!ZS(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",U))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var p;if((p=this.options.visualElement)===null||p===void 0||p.scheduleRender(),h){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xh(),this.projectionDelta=xh(),this.projectionDeltaWithTransform=xh()}setAnimationOrigin(h,p=!1){const y=this.snapshot,_=y?y.latestValues:{},A={...this.latestValues},w=xh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const C=Nn(),N=y?y.source:void 0,U=this.layout?this.layout.source:void 0,j=N!==U,B=this.getStack(),$=!B||B.members.length<=1,re=!!(j&&!$&&this.options.crossfade===!0&&!this.path.some(jB));this.animationProgress=0;let ne;this.mixTargetDelta=Ae=>{const ce=Ae/1e3;nb(w.x,h.x,ce),nb(w.y,h.y,ce),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cp(C,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qB(this.relativeTarget,this.relativeTargetOrigin,C,ce),ne&&CB(this.relativeTarget,ne)&&(this.isProjectionDirty=!1),ne||(ne=Nn()),Ss(ne,this.relativeTarget)),j&&(this.animationValues=A,EB(A,_,this.latestValues,ce,re,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ce},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{Jy.hasAnimatedSinceResize=!0,this.currentAnimation=pB(0,JS,{...h,onUpdate:p=>{this.mixTargetDelta(p),h.onUpdate&&h.onUpdate(p)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:p,target:y,layout:_,latestValues:A}=h;if(!(!p||!y||!_)){if(this!==h&&this.layout&&_&&DI(this.options.animationType,this.layout.layoutBox,_.layoutBox)){y=this.target||Nn();const w=sr(this.layout.layoutBox.x);y.x.min=h.target.x.min,y.x.max=y.x.min+w;const C=sr(this.layout.layoutBox.y);y.y.min=h.target.y.min,y.y.max=y.y.min+C}Ss(p,y),Mh(p,A),lp(this.projectionDeltaWithTransform,this.layoutCorrected,p,A)}}registerSharedNode(h,p){this.sharedNodes.has(h)||this.sharedNodes.set(h,new IB),this.sharedNodes.get(h).add(p);const _=p.options.initialPromotionConfig;p.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(p):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:p}=this.options;return p?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:p}=this.options;return p?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:p,preserveFollowOpacity:y}={}){const _=this.getStack();_&&_.promote(this,y),h&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let p=!1;const{latestValues:y}=h;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(p=!0),!p)return;const _={};y.z&&C0("z",h,_,this.animationValues);for(let A=0;A<R0.length;A++)C0(`rotate${R0[A]}`,h,_,this.animationValues),C0(`skew${R0[A]}`,h,_,this.animationValues);h.render();for(const A in _)h.setStaticValue(A,_[A]),this.animationValues&&(this.animationValues[A]=_[A]);h.scheduleRender()}getProjectionStyles(h){var p,y;if(!this.instance||this.isSVG)return;if(!this.isVisible)return DB;const _={visibility:""},A=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,_.opacity="",_.pointerEvents=Xy(h==null?void 0:h.pointerEvents)||"",_.transform=A?A(this.latestValues,""):"none",_;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=Xy(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Fc(this.latestValues)&&(j.transform=A?A({},""):"none",this.hasProjected=!1),j}const C=w.animationValues||w.latestValues;this.applyTransformsToTarget(),_.transform=xB(this.projectionDeltaWithTransform,this.treeScale,C),A&&(_.transform=A(C,_.transform));const{x:N,y:U}=this.projectionDelta;_.transformOrigin=`${N.origin*100}% ${U.origin*100}% 0`,w.animationValues?_.opacity=w===this?(y=(p=C.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&y!==void 0?y:1:this.preserveOpacity?this.latestValues.opacity:C.opacityExit:_.opacity=w===this?C.opacity!==void 0?C.opacity:"":C.opacityExit!==void 0?C.opacityExit:0;for(const j in Ap){if(C[j]===void 0)continue;const{correct:B,applyTo:$,isCSSVariable:re}=Ap[j],ne=_.transform==="none"?C[j]:B(C[j],w);if($){const Ae=$.length;for(let ce=0;ce<Ae;ce++)_[$[ce]]=ne}else re?this.options.visualElement.renderState.vars[j]=ne:_[j]=ne}return this.options.layoutId&&(_.pointerEvents=w===this?Xy(h==null?void 0:h.pointerEvents)||"":"none"),_}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var p;return(p=h.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(eb),this.root.sharedNodes.clear()}}}function OB(n){n.updateLayout()}function PB(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:l}=n.options,h=t.source!==n.layout.source;l==="size"?bs(w=>{const C=h?t.measuredBox[w]:t.layoutBox[w],N=sr(C);C.min=r[w].min,C.max=C.min+N}):DI(l,t.layoutBox,r)&&bs(w=>{const C=h?t.measuredBox[w]:t.layoutBox[w],N=sr(r[w]);C.max=C.min+N,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+N)});const p=xh();lp(p,r,t.layoutBox);const y=xh();h?lp(y,n.applyTransform(a,!0),t.measuredBox):lp(y,r,t.layoutBox);const _=!RI(p);let A=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:C,layout:N}=w;if(C&&N){const U=Nn();cp(U,t.layoutBox,C.layoutBox);const j=Nn();cp(j,r,N.layoutBox),CI(U,j)||(A=!0),w.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=U,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:y,layoutDelta:p,hasLayoutChanged:_,hasRelativeLayoutChanged:A})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function VB(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function NB(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function LB(n){n.clearSnapshot()}function eb(n){n.clearMeasurements()}function UB(n){n.isLayoutDirty=!1}function kB(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function tb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function BB(n){n.resolveTargetDelta()}function zB(n){n.calcProjection()}function FB(n){n.resetSkewAndRotation()}function HB(n){n.removeLeadSnapshot()}function nb(n,e,t){n.translate=En(e.translate,0,t),n.scale=En(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function ib(n,e,t,r){n.min=En(e.min,t.min,r),n.max=En(e.max,t.max,r)}function qB(n,e,t,r){ib(n.x,e.x,t.x,r),ib(n.y,e.y,t.y,r)}function jB(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const GB={duration:.45,ease:[.4,0,.1,1]},rb=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),sb=rb("applewebkit/")&&!rb("chrome/")?Math.round:Qr;function ab(n){n.min=sb(n.min),n.max=sb(n.max)}function KB(n){ab(n.x),ab(n.y)}function DI(n,e,t){return n==="position"||n==="preserve-aspect"&&!Y4(XS(e),XS(t),.2)}function $B(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const WB=xI({attachResizeListener:(n,e)=>Cp(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),I0={current:void 0},MI=xI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!I0.current){const n=new WB({});n.mount(window),n.setOptions({layoutScroll:!0}),I0.current=n}return I0.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),YB={pan:{Feature:fB},drag:{Feature:cB,ProjectionNode:MI,MeasureLayout:wI}};function ob(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,l=r[a];l&&nn.postRender(()=>l(e,Gp(e)))}class QB extends Ol{mount(){const{current:e}=this.node;e&&(this.unmount=YU(e,(t,r)=>(ob(this.node,r,"Start"),a=>ob(this.node,a,"End"))))}unmount(){}}class XB extends Ol{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jp(Cp(this.node.current,"focus",()=>this.onFocus()),Cp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ub(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),l=r[a];l&&nn.postRender(()=>l(e,Gp(e)))}class ZB extends Ol{mount(){const{current:e}=this.node;e&&(this.unmount=JU(e,(t,r)=>(ub(this.node,r,"Start"),(a,{success:l})=>ub(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _T=new WeakMap,x0=new WeakMap,JB=n=>{const e=_T.get(n.target);e&&e(n)},e9=n=>{n.forEach(JB)};function t9({root:n,...e}){const t=n||document;x0.has(t)||x0.set(t,{});const r=x0.get(t),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(e9,{root:n,...e})),r[a]}function n9(n,e,t){const r=t9(e);return _T.set(n,t),r.observe(n),()=>{_T.delete(n),r.unobserve(n)}}const i9={some:0,all:1};class r9 extends Ol{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:a="some",once:l}=e,h={root:t?t.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:i9[a]},p=y=>{const{isIntersecting:_}=y;if(this.isInView===_||(this.isInView=_,l&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:A,onViewportLeave:w}=this.node.getProps(),C=_?A:w;C&&C(y)};return n9(this.node.current,h,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(s9(e,t))&&this.startObserver()}unmount(){}}function s9({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const a9={inView:{Feature:r9},tap:{Feature:ZB},focus:{Feature:XB},hover:{Feature:QB}},o9={layout:{ProjectionNode:MI,MeasureLayout:wI}},vT={current:null},OI={current:!1};function u9(){if(OI.current=!0,!!CE)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>vT.current=n.matches;n.addListener(e),e()}else vT.current=!1}const l9=[...nI,Li,Il],c9=n=>l9.find(tI(n)),f9=new WeakMap;function h9(n,e,t){for(const r in e){const a=e[r],l=t[r];if(Bi(a))n.addValue(r,a);else if(Bi(l))n.addValue(r,bp(a,{owner:n}));else if(l!==a)if(n.hasValue(r)){const h=n.getValue(r);h.liveStyle===!0?h.jump(a):h.hasAnimated||h.set(a)}else{const h=n.getStaticValue(r);n.addValue(r,bp(h!==void 0?h:a,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const lb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class d9{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:h},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=ao.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,nn.render(this.render,!1,!0))};const{latestValues:y,renderState:_,onUpdate:A}=h;this.onUpdate=A,this.latestValues=y,this.baseTarget={...y},this.initialValues=t.initial?{...y}:{},this.renderState=_,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=p,this.blockInitialAnimation=!!l,this.isControllingVariants=J_(t),this.isVariantNode=fC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...C}=this.scrapeMotionValuesFromProps(t,{},this);for(const N in C){const U=C[N];y[N]!==void 0&&Bi(U)&&U.set(y[N],!1)}}mount(e){this.current=e,f9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),OI.current||u9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cl(this.notifyUpdate),Cl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=tf.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",p=>{this.latestValues[e]=p,this.props.onUpdate&&nn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),l(),h&&h(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kh){const t=Kh[e];if(!t)continue;const{isEnabled:r,Feature:a}=t;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<lb.length;r++){const a=lb[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,h=e[l];h&&(this.propEventSubscriptions[a]=this.on(a,h))}this.prevMotionValues=h9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=bp(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(JC(a)||jC(a))?a=parseFloat(a):!c9(a)&&Il.test(t)&&(a=QC(e,t)),this.setBaseTarget(e,Bi(a)?a.get():a)),Bi(a)?a.get():a}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const h=FE(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);h&&(a=h[e])}if(r&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Bi(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new YE),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class PI extends d9{constructor(){super(...arguments),this.KeyframeResolver=iI}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function m9(n){return window.getComputedStyle(n)}class p9 extends PI{constructor(){super(...arguments),this.type="html",this.renderInstance=AC}readValueFromInstance(e,t){if(tf.has(t)){const r=eA(t);return r&&r.default||0}else{const r=m9(e),a=(PE(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return EI(e,t)}build(e,t,r){LE(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return HE(e,t,r)}}class g9 extends PI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&EC(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(tf.has(t)){const r=eA(t);return r&&r.default||0}return t=wC.has(t)?t:ME(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return bC(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&nn.postRender(this.updateDimensions)}build(e,t,r){BE(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,a){SC(e,t,r,a)}mount(e){this.isSVGTag=zE(e.tagName),super.mount(e)}}const y9=(n,e)=>kE(n)?new g9(e):new p9(e,{allowProjection:n!==X.Fragment}),_9=HU({...z4,...a9,...YB,...o9},y9),Wm=rU(_9),v9=()=>{const[n,e]=X.useState(null),[t,r]=X.useState(0),[a,l]=X.useState([]),[h,p]=X.useState(null),[y,_]=X.useState(!0),[A,w]=X.useState(null),C=I_();X.useEffect(()=>{const U=wE(Q_,async j=>{if(!j){C("/auth");return}e(j);try{const[B,$]=await Promise.all([rC(j.uid),KL()]);r(B),l($);const re=$.findIndex(ne=>ne.uid===j.uid);p(re!==-1?re+1:await $L(j.uid))}catch{w("Ошибка загрузки данных. Попробуйте снова.")}finally{_(!1)}});return()=>U()},[C]);const N=X.useCallback(async()=>{try{await qL(),C("/auth")}catch(U){w(`Ошибка выхода: ${U.message}`)}},[C,w]);return y?Ie.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:Ie.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})}):Ie.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4 sm:px-6 md:px-8",children:[A&&Ie.jsx("p",{className:"text-red-500 mb-4",children:A}),n&&Ie.jsxs(Wm.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center bg-white p-6 rounded-xl shadow-md w-full mt-10 sm:w-96",children:[Ie.jsx(Wm.img,{src:n.photoURL||"default-avatar.png",alt:"Profile",className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full mb-4 mx-auto",whileHover:{scale:1.1}}),Ie.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:n.displayName||"Аноним"}),Ie.jsxs("p",{className:"text-lg text-gray-600",children:["Email: ",n.email]}),Ie.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:["Баланс: ",t," PencilCoins"]}),Ie.jsx(Wm.button,{onClick:N,className:"bg-red-500 text-white py-2 px-6 rounded-lg hover:bg-red-400 transition duration-300",whileTap:{scale:.9},children:"Выйти"})]}),Ie.jsxs(Wm.div,{className:"mt-6 mb-10 bg-white text-black p-6 rounded-xl shadow-md w-full sm:w-96",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[Ie.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"🏆 Лидерборд"}),(a==null?void 0:a.length)>0?a.map((U,j)=>Ie.jsxs(Wm.div,{className:"flex justify-between p-2 border-b",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:j*.1},children:[Ie.jsxs("span",{children:["#",j+1," ",U.name||"Аноним"]}),Ie.jsxs("span",{children:[U.balance," 💰"]})]},U.uid)):Ie.jsx("p",{className:"text-center text-gray-500",children:"Лидерборд пуст"}),n&&h>10&&Ie.jsxs("div",{className:"mt-4 p-2 bg-yellow-100 rounded-lg",children:[Ie.jsxs("p",{className:"font-bold",children:["Вы: #",h]}),Ie.jsxs("p",{children:["Баланс: ",t," 💰"]})]})]})]})},T9=()=>{const[n,e]=X.useState(null),[t,r]=X.useState(!1),a=I_();X.useEffect(()=>{const y=wE(Q_,A=>{e(A),A&&a("/profile")}),_=setTimeout(()=>r(!0),100);return()=>{y(),clearTimeout(_)}},[a]);const l=async()=>{try{await HL()}catch(y){console.error("Ошибка входа:",y.message)}},h=[{top:"5%",left:"10%"},{top:"20%",left:"75%"},{top:"80%",left:"5%"},{top:"80%",left:"80%"},{top:"65%",left:"25%"},{top:"10%",left:"50%"},{top:"85%",left:"10%"},{top:"30%",left:"85%"}],p=["reg1.png","reg2.png","reg3.png","reg1.png","reg2.png","reg3.png"];return Ie.jsxs("div",{className:"relative flex flex-col items-center justify-center h-full bg-gray-50 overflow-hidden",children:[Ie.jsxs("button",{className:"text-4xl text-white font-bold text-gray-800 bg-blue-500 py-3 px-8 rounded-lg hover:bg-blue-400 transition duration-300 flex items-center z-50 max-w-3/4",onClick:l,children:[Ie.jsx("img",{src:"reg4.png",alt:"Image reg",className:"w-20 h-20 object-contain transition-transform duration-500 mr-5"}),"Войдите в PencilCoin"]}),p.map((y,_)=>Ie.jsx("img",{src:y,alt:`Image ${_}`,className:`w-16 h-16 object-contain absolute transition-all duration-1000 ease-out 
            ${t?"opacity-100 scale-100 animate-pulse":"opacity-0 scale-75"}`,style:h[_]},_))]})};var Kp={};(function n(e,t,r,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",p=function(){if(!e.OffscreenCanvas)return!1;var x=new OffscreenCanvas(1,1),L=x.getContext("2d");L.fillRect(0,0,1,1);var ge=x.transferToImageBitmap();try{L.createPattern(ge,"no-repeat")}catch{return!1}return!0}();function y(){}function _(x){var L=t.exports.Promise,ge=L!==void 0?L:e.Promise;return typeof ge=="function"?new ge(x):(x(y,y),null)}var A=function(x,L){return{transform:function(ge){if(x)return ge;if(L.has(ge))return L.get(ge);var he=new OffscreenCanvas(ge.width,ge.height),ve=he.getContext("2d");return ve.drawImage(ge,0,0),L.set(ge,he),he},clear:function(){L.clear()}}}(p,new Map),w=function(){var x=Math.floor(16.666666666666668),L,ge,he={},ve=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(L=function(Se){var Re=Math.random();return he[Re]=requestAnimationFrame(function Pe(xe){ve===xe||ve+x-1<xe?(ve=xe,delete he[Re],Se()):he[Re]=requestAnimationFrame(Pe)}),Re},ge=function(Se){he[Se]&&cancelAnimationFrame(he[Se])}):(L=function(Se){return setTimeout(Se,x)},ge=function(Se){return clearTimeout(Se)}),{frame:L,cancel:ge}}(),C=function(){var x,L,ge={};function he(ve){function Se(Re,Pe){ve.postMessage({options:Re||{},callback:Pe})}ve.init=function(Pe){var xe=Pe.transferControlToOffscreen();ve.postMessage({canvas:xe},[xe])},ve.fire=function(Pe,xe,He){if(L)return Se(Pe,null),L;var qe=Math.random().toString(36).slice(2);return L=_(function(et){function yt(Pt){Pt.data.callback===qe&&(delete ge[qe],ve.removeEventListener("message",yt),L=null,A.clear(),He(),et())}ve.addEventListener("message",yt),Se(Pe,qe),ge[qe]=yt.bind(null,{data:{callback:qe}})}),L},ve.reset=function(){ve.postMessage({reset:!0});for(var Pe in ge)ge[Pe](),delete ge[Pe]}}return function(){if(x)return x;if(!r&&l){var ve=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{x=new Worker(URL.createObjectURL(new Blob([ve])))}catch(Se){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",Se),null}he(x)}return x}}(),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function U(x,L){return L?L(x):x}function j(x){return x!=null}function B(x,L,ge){return U(x&&j(x[L])?x[L]:N[L],ge)}function $(x){return x<0?0:Math.floor(x)}function re(x,L){return Math.floor(Math.random()*(L-x))+x}function ne(x){return parseInt(x,16)}function Ae(x){return x.map(ce)}function ce(x){var L=String(x).replace(/[^0-9a-f]/gi,"");return L.length<6&&(L=L[0]+L[0]+L[1]+L[1]+L[2]+L[2]),{r:ne(L.substring(0,2)),g:ne(L.substring(2,4)),b:ne(L.substring(4,6))}}function be(x){var L=B(x,"origin",Object);return L.x=B(L,"x",Number),L.y=B(L,"y",Number),L}function q(x){x.width=document.documentElement.clientWidth,x.height=document.documentElement.clientHeight}function D(x){var L=x.getBoundingClientRect();x.width=L.width,x.height=L.height}function O(x){var L=document.createElement("canvas");return L.style.position="fixed",L.style.top="0px",L.style.left="0px",L.style.pointerEvents="none",L.style.zIndex=x,L}function k(x,L,ge,he,ve,Se,Re,Pe,xe){x.save(),x.translate(L,ge),x.rotate(Se),x.scale(he,ve),x.arc(0,0,1,Re,Pe,xe),x.restore()}function G(x){var L=x.angle*(Math.PI/180),ge=x.spread*(Math.PI/180);return{x:x.x,y:x.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:x.startVelocity*.5+Math.random()*x.startVelocity,angle2D:-L+(.5*ge-Math.random()*ge),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:x.color,shape:x.shape,tick:0,totalTicks:x.ticks,decay:x.decay,drift:x.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:x.gravity*3,ovalScalar:.6,scalar:x.scalar,flat:x.flat}}function Z(x,L){L.x+=Math.cos(L.angle2D)*L.velocity+L.drift,L.y+=Math.sin(L.angle2D)*L.velocity+L.gravity,L.velocity*=L.decay,L.flat?(L.wobble=0,L.wobbleX=L.x+10*L.scalar,L.wobbleY=L.y+10*L.scalar,L.tiltSin=0,L.tiltCos=0,L.random=1):(L.wobble+=L.wobbleSpeed,L.wobbleX=L.x+10*L.scalar*Math.cos(L.wobble),L.wobbleY=L.y+10*L.scalar*Math.sin(L.wobble),L.tiltAngle+=.1,L.tiltSin=Math.sin(L.tiltAngle),L.tiltCos=Math.cos(L.tiltAngle),L.random=Math.random()+2);var ge=L.tick++/L.totalTicks,he=L.x+L.random*L.tiltCos,ve=L.y+L.random*L.tiltSin,Se=L.wobbleX+L.random*L.tiltCos,Re=L.wobbleY+L.random*L.tiltSin;if(x.fillStyle="rgba("+L.color.r+", "+L.color.g+", "+L.color.b+", "+(1-ge)+")",x.beginPath(),h&&L.shape.type==="path"&&typeof L.shape.path=="string"&&Array.isArray(L.shape.matrix))x.fill(Oe(L.shape.path,L.shape.matrix,L.x,L.y,Math.abs(Se-he)*.1,Math.abs(Re-ve)*.1,Math.PI/10*L.wobble));else if(L.shape.type==="bitmap"){var Pe=Math.PI/10*L.wobble,xe=Math.abs(Se-he)*.1,He=Math.abs(Re-ve)*.1,qe=L.shape.bitmap.width*L.scalar,et=L.shape.bitmap.height*L.scalar,yt=new DOMMatrix([Math.cos(Pe)*xe,Math.sin(Pe)*xe,-Math.sin(Pe)*He,Math.cos(Pe)*He,L.x,L.y]);yt.multiplySelf(new DOMMatrix(L.shape.matrix));var Pt=x.createPattern(A.transform(L.shape.bitmap),"no-repeat");Pt.setTransform(yt),x.globalAlpha=1-ge,x.fillStyle=Pt,x.fillRect(L.x-qe/2,L.y-et/2,qe,et),x.globalAlpha=1}else if(L.shape==="circle")x.ellipse?x.ellipse(L.x,L.y,Math.abs(Se-he)*L.ovalScalar,Math.abs(Re-ve)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI):k(x,L.x,L.y,Math.abs(Se-he)*L.ovalScalar,Math.abs(Re-ve)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI);else if(L.shape==="star")for(var je=Math.PI/2*3,jt=4*L.scalar,gn=8*L.scalar,Xt=L.x,Kn=L.y,Ri=5,cn=Math.PI/Ri;Ri--;)Xt=L.x+Math.cos(je)*gn,Kn=L.y+Math.sin(je)*gn,x.lineTo(Xt,Kn),je+=cn,Xt=L.x+Math.cos(je)*jt,Kn=L.y+Math.sin(je)*jt,x.lineTo(Xt,Kn),je+=cn;else x.moveTo(Math.floor(L.x),Math.floor(L.y)),x.lineTo(Math.floor(L.wobbleX),Math.floor(ve)),x.lineTo(Math.floor(Se),Math.floor(Re)),x.lineTo(Math.floor(he),Math.floor(L.wobbleY));return x.closePath(),x.fill(),L.tick<L.totalTicks}function H(x,L,ge,he,ve){var Se=L.slice(),Re=x.getContext("2d"),Pe,xe,He=_(function(qe){function et(){Pe=xe=null,Re.clearRect(0,0,he.width,he.height),A.clear(),ve(),qe()}function yt(){r&&!(he.width===a.width&&he.height===a.height)&&(he.width=x.width=a.width,he.height=x.height=a.height),!he.width&&!he.height&&(ge(x),he.width=x.width,he.height=x.height),Re.clearRect(0,0,he.width,he.height),Se=Se.filter(function(Pt){return Z(Re,Pt)}),Se.length?Pe=w.frame(yt):et()}Pe=w.frame(yt),xe=et});return{addFettis:function(qe){return Se=Se.concat(qe),He},canvas:x,promise:He,reset:function(){Pe&&w.cancel(Pe),xe&&xe()}}}function zt(x,L){var ge=!x,he=!!B(L||{},"resize"),ve=!1,Se=B(L,"disableForReducedMotion",Boolean),Re=l&&!!B(L||{},"useWorker"),Pe=Re?C():null,xe=ge?q:D,He=x&&Pe?!!x.__confetti_initialized:!1,qe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,et;function yt(je,jt,gn){for(var Xt=B(je,"particleCount",$),Kn=B(je,"angle",Number),Ri=B(je,"spread",Number),cn=B(je,"startVelocity",Number),Un=B(je,"decay",Number),Rs=B(je,"gravity",Number),Xr=B(je,"drift",Number),$n=B(je,"colors",Ae),Zr=B(je,"ticks",Number),fn=B(je,"shapes"),Zt=B(je,"scalar"),ii=!!B(je,"flat"),Cs=be(je),Jr=Xt,Is=[],Sr=x.width*Cs.x,or=x.height*Cs.y;Jr--;)Is.push(G({x:Sr,y:or,angle:Kn,spread:Ri,startVelocity:cn,color:$n[Jr%$n.length],shape:fn[re(0,fn.length)],ticks:Zr,decay:Un,gravity:Rs,drift:Xr,scalar:Zt,flat:ii}));return et?et.addFettis(Is):(et=H(x,Is,xe,jt,gn),et.promise)}function Pt(je){var jt=Se||B(je,"disableForReducedMotion",Boolean),gn=B(je,"zIndex",Number);if(jt&&qe)return _(function(cn){cn()});ge&&et?x=et.canvas:ge&&!x&&(x=O(gn),document.body.appendChild(x)),he&&!He&&xe(x);var Xt={width:x.width,height:x.height};Pe&&!He&&Pe.init(x),He=!0,Pe&&(x.__confetti_initialized=!0);function Kn(){if(Pe){var cn={getBoundingClientRect:function(){if(!ge)return x.getBoundingClientRect()}};xe(cn),Pe.postMessage({resize:{width:cn.width,height:cn.height}});return}Xt.width=Xt.height=null}function Ri(){et=null,he&&(ve=!1,e.removeEventListener("resize",Kn)),ge&&x&&(document.body.contains(x)&&document.body.removeChild(x),x=null,He=!1)}return he&&!ve&&(ve=!0,e.addEventListener("resize",Kn,!1)),Pe?Pe.fire(je,Xt,Ri):yt(je,Xt,Ri)}return Pt.reset=function(){Pe&&Pe.reset(),et&&et.reset()},Pt}var Qt;function Ce(){return Qt||(Qt=zt(null,{useWorker:!0,resize:!0})),Qt}function Oe(x,L,ge,he,ve,Se,Re){var Pe=new Path2D(x),xe=new Path2D;xe.addPath(Pe,new DOMMatrix(L));var He=new Path2D;return He.addPath(xe,new DOMMatrix([Math.cos(Re)*ve,Math.sin(Re)*ve,-Math.sin(Re)*Se,Math.cos(Re)*Se,ge,he])),He}function Me(x){if(!h)throw new Error("path confetti are not supported in this browser");var L,ge;typeof x=="string"?L=x:(L=x.path,ge=x.matrix);var he=new Path2D(L),ve=document.createElement("canvas"),Se=ve.getContext("2d");if(!ge){for(var Re=1e3,Pe=Re,xe=Re,He=0,qe=0,et,yt,Pt=0;Pt<Re;Pt+=2)for(var je=0;je<Re;je+=2)Se.isPointInPath(he,Pt,je,"nonzero")&&(Pe=Math.min(Pe,Pt),xe=Math.min(xe,je),He=Math.max(He,Pt),qe=Math.max(qe,je));et=He-Pe,yt=qe-xe;var jt=10,gn=Math.min(jt/et,jt/yt);ge=[gn,0,0,gn,-Math.round(et/2+Pe)*gn,-Math.round(yt/2+xe)*gn]}return{type:"path",path:L,matrix:ge}}function mt(x){var L,ge=1,he="#000000",ve='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof x=="string"?L=x:(L=x.text,ge="scalar"in x?x.scalar:ge,ve="fontFamily"in x?x.fontFamily:ve,he="color"in x?x.color:he);var Se=10*ge,Re=""+Se+"px "+ve,Pe=new OffscreenCanvas(Se,Se),xe=Pe.getContext("2d");xe.font=Re;var He=xe.measureText(L),qe=Math.ceil(He.actualBoundingBoxRight+He.actualBoundingBoxLeft),et=Math.ceil(He.actualBoundingBoxAscent+He.actualBoundingBoxDescent),yt=2,Pt=He.actualBoundingBoxLeft+yt,je=He.actualBoundingBoxAscent+yt;qe+=yt+yt,et+=yt+yt,Pe=new OffscreenCanvas(qe,et),xe=Pe.getContext("2d"),xe.font=Re,xe.fillStyle=he,xe.fillText(L,Pt,je);var jt=1/ge;return{type:"bitmap",bitmap:Pe.transferToImageBitmap(),matrix:[jt,0,0,jt,-qe*jt/2,-et*jt/2]}}t.exports=function(){return Ce().apply(this,arguments)},t.exports.reset=function(){Ce().reset()},t.exports.create=zt,t.exports.shapeFromPath=Me,t.exports.shapeFromText=mt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Kp,!1);const E9=Kp.exports;Kp.exports.create;var tp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var A9=tp.exports,cb;function w9(){return cb||(cb=1,function(n,e){(function(){var t,r="4.17.21",a=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",p="Invalid `variable` option passed into `_.template`",y="__lodash_hash_undefined__",_=500,A="__lodash_placeholder__",w=1,C=2,N=4,U=1,j=2,B=1,$=2,re=4,ne=8,Ae=16,ce=32,be=64,q=128,D=256,O=512,k=30,G="...",Z=800,H=16,zt=1,Qt=2,Ce=3,Oe=1/0,Me=9007199254740991,mt=17976931348623157e292,x=NaN,L=4294967295,ge=L-1,he=L>>>1,ve=[["ary",q],["bind",B],["bindKey",$],["curry",ne],["curryRight",Ae],["flip",O],["partial",ce],["partialRight",be],["rearg",D]],Se="[object Arguments]",Re="[object Array]",Pe="[object AsyncFunction]",xe="[object Boolean]",He="[object Date]",qe="[object DOMException]",et="[object Error]",yt="[object Function]",Pt="[object GeneratorFunction]",je="[object Map]",jt="[object Number]",gn="[object Null]",Xt="[object Object]",Kn="[object Promise]",Ri="[object Proxy]",cn="[object RegExp]",Un="[object Set]",Rs="[object String]",Xr="[object Symbol]",$n="[object Undefined]",Zr="[object WeakMap]",fn="[object WeakSet]",Zt="[object ArrayBuffer]",ii="[object DataView]",Cs="[object Float32Array]",Jr="[object Float64Array]",Is="[object Int8Array]",Sr="[object Int16Array]",or="[object Int32Array]",kn="[object Uint8Array]",co="[object Uint8ClampedArray]",ur="[object Uint16Array]",Wn="[object Uint32Array]",Pl=/\b__p \+= '';/g,nf=/\b(__p \+=) '' \+/g,rf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,br=/&(?:amp|lt|gt|quot|#39);/g,xs=/[&<>"']/g,Rr=RegExp(br.source),lr=RegExp(xs.source),ya=/<%-([\s\S]+?)%>/g,cu=/<%([\s\S]+?)%>/g,fu=/<%=([\s\S]+?)%>/g,_a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hu=/^\w*$/,yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,du=/[\\^$.*+?()[\]{}|]/g,va=RegExp(du.source),es=/^\s+/,sf=/\s/,af=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ta=/\{\n\/\* \[wrapped with (.+)\] \*/,ts=/,? & /,Bn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,In=/[()=,{}\[\]\/\s]/,Ds=/\\(\\)?/g,fo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ho=/\w*$/,ns=/^[-+]0x[0-9a-f]+$/i,Vl=/^0b[01]+$/i,Ea=/^\[object .+?Constructor\]$/,mo=/^0o[0-7]+$/i,Cr=/^(?:0|[1-9]\d*)$/,Ms=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ir=/($^)/,Aa=/['\n\r\u2028\u2029\\]/g,$t="\\ud800-\\udfff",Nl="\\u0300-\\u036f",mu="\\ufe20-\\ufe2f",Fi="\\u20d0-\\u20ff",hi=Nl+mu+Fi,Ci="\\u2700-\\u27bf",of="a-z\\xdf-\\xf6\\xf8-\\xff",Ll="\\xac\\xb1\\xd7\\xf7",Ul="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",uf="\\u2000-\\u206f",wa=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Os="A-Z\\xc0-\\xd6\\xd8-\\xde",Hi="\\ufe0e\\ufe0f",ri=Ll+Ul+uf+wa,pu="['’]",sd="["+$t+"]",Sa="["+ri+"]",ba="["+hi+"]",po="\\d+",Ps="["+Ci+"]",rn="["+of+"]",Vs="[^"+$t+ri+po+Ci+of+Os+"]",Ns="\\ud83c[\\udffb-\\udfff]",gu="(?:"+ba+"|"+Ns+")",xt="[^"+$t+"]",Ls="(?:\\ud83c[\\udde6-\\uddff]){2}",is="[\\ud800-\\udbff][\\udc00-\\udfff]",Yn="["+Os+"]",lf="\\u200d",yu="(?:"+rn+"|"+Vs+")",cf="(?:"+Yn+"|"+Vs+")",_u="(?:"+pu+"(?:d|ll|m|re|s|t|ve))?",ff="(?:"+pu+"(?:D|LL|M|RE|S|T|VE))?",hf=gu+"?",xr="["+Hi+"]?",cr="(?:"+lf+"(?:"+[xt,Ls,is].join("|")+")"+xr+hf+")*",vu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Us="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rs=xr+hf+cr,ks="(?:"+[Ps,Ls,is].join("|")+")"+rs,kl="(?:"+[xt+ba+"?",ba,Ls,is,sd].join("|")+")",df=RegExp(pu,"g"),go=RegExp(ba,"g"),Ii=RegExp(Ns+"(?="+Ns+")|"+kl+rs,"g"),yo=RegExp([Yn+"?"+rn+"+"+_u+"(?="+[Sa,Yn,"$"].join("|")+")",cf+"+"+ff+"(?="+[Sa,Yn+yu,"$"].join("|")+")",Yn+"?"+yu+"+"+_u,Yn+"+"+ff,Us,vu,po,ks].join("|"),"g"),ss=RegExp("["+lf+$t+hi+Hi+"]"),Ra=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bl=-1,wt={};wt[Cs]=wt[Jr]=wt[Is]=wt[Sr]=wt[or]=wt[kn]=wt[co]=wt[ur]=wt[Wn]=!0,wt[Se]=wt[Re]=wt[Zt]=wt[xe]=wt[ii]=wt[He]=wt[et]=wt[yt]=wt[je]=wt[jt]=wt[Xt]=wt[cn]=wt[Un]=wt[Rs]=wt[Zr]=!1;var _t={};_t[Se]=_t[Re]=_t[Zt]=_t[ii]=_t[xe]=_t[He]=_t[Cs]=_t[Jr]=_t[Is]=_t[Sr]=_t[or]=_t[je]=_t[jt]=_t[Xt]=_t[cn]=_t[Un]=_t[Rs]=_t[Xr]=_t[kn]=_t[co]=_t[ur]=_t[Wn]=!0,_t[et]=_t[yt]=_t[Zr]=!1;var zl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},zn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_o=parseFloat,mf=parseInt,vo=typeof Cy=="object"&&Cy&&Cy.Object===Object&&Cy,Eu=typeof self=="object"&&self&&self.Object===Object&&self,Wt=vo||Eu||Function("return this")(),zs=e&&!e.nodeType&&e,Fn=zs&&!0&&n&&!n.nodeType&&n,Fl=Fn&&Fn.exports===zs,Hl=Fl&&vo.process,Hn=function(){try{var Q=Fn&&Fn.require&&Fn.require("util").types;return Q||Hl&&Hl.binding&&Hl.binding("util")}catch{}}(),To=Hn&&Hn.isArrayBuffer,Au=Hn&&Hn.isDate,Eo=Hn&&Hn.isMap,ql=Hn&&Hn.isRegExp,Ao=Hn&&Hn.isSet,pf=Hn&&Hn.isTypedArray;function Qn(Q,ue,ae){switch(ae.length){case 0:return Q.call(ue);case 1:return Q.call(ue,ae[0]);case 2:return Q.call(ue,ae[0],ae[1]);case 3:return Q.call(ue,ae[0],ae[1],ae[2])}return Q.apply(ue,ae)}function wo(Q,ue,ae,Ve){for(var Ke=-1,gt=Q==null?0:Q.length;++Ke<gt;){var vn=Q[Ke];ue(Ve,vn,ae(vn),Q)}return Ve}function di(Q,ue){for(var ae=-1,Ve=Q==null?0:Q.length;++ae<Ve&&ue(Q[ae],ae,Q)!==!1;);return Q}function gf(Q,ue){for(var ae=Q==null?0:Q.length;ae--&&ue(Q[ae],ae,Q)!==!1;);return Q}function wu(Q,ue){for(var ae=-1,Ve=Q==null?0:Q.length;++ae<Ve;)if(!ue(Q[ae],ae,Q))return!1;return!0}function xi(Q,ue){for(var ae=-1,Ve=Q==null?0:Q.length,Ke=0,gt=[];++ae<Ve;){var vn=Q[ae];ue(vn,ae,Q)&&(gt[Ke++]=vn)}return gt}function So(Q,ue){var ae=Q==null?0:Q.length;return!!ae&&Fs(Q,ue,0)>-1}function Ca(Q,ue,ae){for(var Ve=-1,Ke=Q==null?0:Q.length;++Ve<Ke;)if(ae(ue,Q[Ve]))return!0;return!1}function Gt(Q,ue){for(var ae=-1,Ve=Q==null?0:Q.length,Ke=Array(Ve);++ae<Ve;)Ke[ae]=ue(Q[ae],ae,Q);return Ke}function fr(Q,ue){for(var ae=-1,Ve=ue.length,Ke=Q.length;++ae<Ve;)Q[Ke+ae]=ue[ae];return Q}function Dr(Q,ue,ae,Ve){var Ke=-1,gt=Q==null?0:Q.length;for(Ve&&gt&&(ae=Q[++Ke]);++Ke<gt;)ae=ue(ae,Q[Ke],Ke,Q);return ae}function yf(Q,ue,ae,Ve){var Ke=Q==null?0:Q.length;for(Ve&&Ke&&(ae=Q[--Ke]);Ke--;)ae=ue(ae,Q[Ke],Ke,Q);return ae}function Su(Q,ue){for(var ae=-1,Ve=Q==null?0:Q.length;++ae<Ve;)if(ue(Q[ae],ae,Q))return!0;return!1}var _f=S("length");function vf(Q){return Q.split("")}function bu(Q){return Q.match(Bn)||[]}function si(Q,ue,ae){var Ve;return ae(Q,function(Ke,gt,vn){if(ue(Ke,gt,vn))return Ve=gt,!1}),Ve}function bo(Q,ue,ae,Ve){for(var Ke=Q.length,gt=ae+(Ve?1:-1);Ve?gt--:++gt<Ke;)if(ue(Q[gt],gt,Q))return gt;return-1}function Fs(Q,ue,ae){return ue===ue?nv(Q,ue,ae):bo(Q,d,ae)}function as(Q,ue,ae,Ve){for(var Ke=ae-1,gt=Q.length;++Ke<gt;)if(Ve(Q[Ke],ue))return Ke;return-1}function d(Q){return Q!==Q}function T(Q,ue){var ae=Q==null?0:Q.length;return ae?we(Q,ue)/ae:x}function S(Q){return function(ue){return ue==null?t:ue[Q]}}function P(Q){return function(ue){return Q==null?t:Q[ue]}}function te(Q,ue,ae,Ve,Ke){return Ke(Q,function(gt,vn,Ft){ae=Ve?(Ve=!1,gt):ue(ae,gt,vn,Ft)}),ae}function oe(Q,ue){var ae=Q.length;for(Q.sort(ue);ae--;)Q[ae]=Q[ae].value;return Q}function we(Q,ue){for(var ae,Ve=-1,Ke=Q.length;++Ve<Ke;){var gt=ue(Q[Ve]);gt!==t&&(ae=ae===t?gt:ae+gt)}return ae}function pt(Q,ue){for(var ae=-1,Ve=Array(Q);++ae<Q;)Ve[ae]=ue(ae);return Ve}function xn(Q,ue){return Gt(ue,function(ae){return[ae,Q[ae]]})}function vt(Q){return Q&&Q.slice(0,od(Q)+1).replace(es,"")}function Lt(Q){return function(ue){return Q(ue)}}function _n(Q,ue){return Gt(ue,function(ae){return Q[ae]})}function qi(Q,ue){return Q.has(ue)}function qn(Q,ue){for(var ae=-1,Ve=Q.length;++ae<Ve&&Fs(ue,Q[ae],0)>-1;);return ae}function Mr(Q,ue){for(var ae=Q.length;ae--&&Fs(ue,Q[ae],0)>-1;);return ae}function jl(Q,ue){for(var ae=Q.length,Ve=0;ae--;)Q[ae]===ue&&++Ve;return Ve}var Tf=P(zl),$p=P(zn);function Wp(Q){return"\\"+Tu[Q]}function ad(Q,ue){return Q==null?t:Q[ue]}function Ia(Q){return ss.test(Q)}function Yp(Q){return Ra.test(Q)}function Qp(Q){for(var ue,ae=[];!(ue=Q.next()).done;)ae.push(ue.value);return ae}function Ef(Q){var ue=-1,ae=Array(Q.size);return Q.forEach(function(Ve,Ke){ae[++ue]=[Ke,Ve]}),ae}function Xp(Q,ue){return function(ae){return Q(ue(ae))}}function xa(Q,ue){for(var ae=-1,Ve=Q.length,Ke=0,gt=[];++ae<Ve;){var vn=Q[ae];(vn===ue||vn===A)&&(Q[ae]=A,gt[Ke++]=ae)}return gt}function Af(Q){var ue=-1,ae=Array(Q.size);return Q.forEach(function(Ve){ae[++ue]=Ve}),ae}function tv(Q){var ue=-1,ae=Array(Q.size);return Q.forEach(function(Ve){ae[++ue]=[Ve,Ve]}),ae}function nv(Q,ue,ae){for(var Ve=ae-1,Ke=Q.length;++Ve<Ke;)if(Q[Ve]===ue)return Ve;return-1}function ji(Q,ue,ae){for(var Ve=ae+1;Ve--;)if(Q[Ve]===ue)return Ve;return Ve}function os(Q){return Ia(Q)?Jp(Q):_f(Q)}function hr(Q){return Ia(Q)?ud(Q):vf(Q)}function od(Q){for(var ue=Q.length;ue--&&sf.test(Q.charAt(ue)););return ue}var Zp=P(Nt);function Jp(Q){for(var ue=Ii.lastIndex=0;Ii.test(Q);)++ue;return ue}function ud(Q){return Q.match(Ii)||[]}function iv(Q){return Q.match(yo)||[]}var rv=function Q(ue){ue=ue==null?Wt:Or.defaults(Wt.Object(),ue,Or.pick(Wt,Bs));var ae=ue.Array,Ve=ue.Date,Ke=ue.Error,gt=ue.Function,vn=ue.Math,Ft=ue.Object,Hs=ue.RegExp,eg=ue.String,Gi=ue.TypeError,Gl=ae.prototype,sv=gt.prototype,Ru=Ft.prototype,wf=ue["__core-js_shared__"],Kl=sv.toString,Ut=Ru.hasOwnProperty,tg=0,dr=function(){var u=/[^.]+$/.exec(wf&&wf.keys&&wf.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),mi=Ru.toString,Cu=Kl.call(Ft),ld=Wt._,Sf=Hs("^"+Kl.call(Ut).replace(du,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ro=Fl?ue.Buffer:t,us=ue.Symbol,Pr=ue.Uint8Array,cd=Ro?Ro.allocUnsafe:t,Co=Xp(Ft.getPrototypeOf,Ft),Io=Ft.create,fd=Ru.propertyIsEnumerable,pi=Gl.splice,xo=us?us.isConcatSpreadable:t,ls=us?us.iterator:t,cs=us?us.toStringTag:t,Do=function(){try{var u=Hr(Ft,"defineProperty");return u({},"",{}),u}catch{}}(),mr=ue.clearTimeout!==Wt.clearTimeout&&ue.clearTimeout,pr=Ve&&Ve.now!==Wt.Date.now&&Ve.now,Mo=ue.setTimeout!==Wt.setTimeout&&ue.setTimeout,gr=vn.ceil,yr=vn.floor,qs=Ft.getOwnPropertySymbols,ng=Ro?Ro.isBuffer:t,bf=ue.isFinite,hd=Gl.join,gi=Xp(Ft.keys,Ft),Tt=vn.max,Xe=vn.min,Vr=Ve.now,fs=ue.parseInt,Rf=vn.random,Oo=Gl.reverse,Cf=Hr(ue,"DataView"),Iu=Hr(ue,"Map"),Po=Hr(ue,"Promise"),hs=Hr(ue,"Set"),js=Hr(ue,"WeakMap"),Gs=Hr(Ft,"create"),$l=js&&new js,Da={},ig=Pi(Cf),If=Pi(Iu),rg=Pi(Po),Wl=Pi(hs),sg=Pi(js),Ks=us?us.prototype:t,$s=Ks?Ks.valueOf:t,Yl=Ks?Ks.toString:t;function I(u){if(pn(u)&&!tt(u)&&!(u instanceof rt)){if(u instanceof Ki)return u;if(Ut.call(u,"__wrapped__"))return Xf(u)}return new Ki(u)}var Ws=function(){function u(){}return function(c){if(!tn(c))return{};if(Io)return Io(c);u.prototype=c;var g=new u;return u.prototype=t,g}}();function Ql(){}function Ki(u,c){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}I.templateSettings={escape:ya,evaluate:cu,interpolate:fu,variable:"",imports:{_:I}},I.prototype=Ql.prototype,I.prototype.constructor=I,Ki.prototype=Ws(Ql.prototype),Ki.prototype.constructor=Ki;function rt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function ag(){var u=new rt(this.__wrapped__);return u.__actions__=yi(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=yi(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=yi(this.__views__),u}function xu(){if(this.__filtered__){var u=new rt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function xf(){var u=this.__wrapped__.value(),c=this.__dir__,g=tt(u),E=c<0,R=g?u.length:0,V=ja(0,R,this.__views__),F=V.start,K=V.end,J=K-F,de=E?K:F-1,pe=this.__iteratees__,Ee=pe.length,De=0,Be=Xe(J,this.__takeCount__);if(!g||!E&&R==J&&Be==J)return zf(u,this.__actions__);var We=[];e:for(;J--&&De<Be;){de+=c;for(var ht=-1,Ye=u[de];++ht<Ee;){var At=pe[ht],Dt=At.iteratee,$r=At.type,rr=Dt(Ye);if($r==Qt)Ye=rr;else if(!rr){if($r==zt)continue e;break e}}We[De++]=Ye}return We}rt.prototype=Ws(Ql.prototype),rt.prototype.constructor=rt;function Ma(u){var c=-1,g=u==null?0:u.length;for(this.clear();++c<g;){var E=u[c];this.set(E[0],E[1])}}function dd(){this.__data__=Gs?Gs(null):{},this.size=0}function md(u){var c=this.has(u)&&delete this.__data__[u];return this.size-=c?1:0,c}function _r(u){var c=this.__data__;if(Gs){var g=c[u];return g===y?t:g}return Ut.call(c,u)?c[u]:t}function ds(u){var c=this.__data__;return Gs?c[u]!==t:Ut.call(c,u)}function Oa(u,c){var g=this.__data__;return this.size+=this.has(u)?0:1,g[u]=Gs&&c===t?y:c,this}Ma.prototype.clear=dd,Ma.prototype.delete=md,Ma.prototype.get=_r,Ma.prototype.has=ds,Ma.prototype.set=Oa;function ms(u){var c=-1,g=u==null?0:u.length;for(this.clear();++c<g;){var E=u[c];this.set(E[0],E[1])}}function Pa(){this.__data__=[],this.size=0}function Ys(u){var c=this.__data__,g=No(c,u);if(g<0)return!1;var E=c.length-1;return g==E?c.pop():pi.call(c,g,1),--this.size,!0}function Dn(u){var c=this.__data__,g=No(c,u);return g<0?t:c[g][1]}function Df(u){return No(this.__data__,u)>-1}function av(u,c){var g=this.__data__,E=No(g,u);return E<0?(++this.size,g.push([u,c])):g[E][1]=c,this}ms.prototype.clear=Pa,ms.prototype.delete=Ys,ms.prototype.get=Dn,ms.prototype.has=Df,ms.prototype.set=av;function Qs(u){var c=-1,g=u==null?0:u.length;for(this.clear();++c<g;){var E=u[c];this.set(E[0],E[1])}}function ov(){this.size=0,this.__data__={hash:new Ma,map:new(Iu||ms),string:new Ma}}function Mn(u){var c=Wu(this,u).delete(u);return this.size-=c?1:0,c}function pd(u){return Wu(this,u).get(u)}function Xl(u){return Wu(this,u).has(u)}function Zl(u,c){var g=Wu(this,u),E=g.size;return g.set(u,c),this.size+=g.size==E?0:1,this}Qs.prototype.clear=ov,Qs.prototype.delete=Mn,Qs.prototype.get=pd,Qs.prototype.has=Xl,Qs.prototype.set=Zl;function Xs(u){var c=-1,g=u==null?0:u.length;for(this.__data__=new Qs;++c<g;)this.add(u[c])}function Du(u){return this.__data__.set(u,y),this}function Mu(u){return this.__data__.has(u)}Xs.prototype.add=Xs.prototype.push=Du,Xs.prototype.has=Mu;function Nr(u){var c=this.__data__=new ms(u);this.size=c.size}function og(){this.__data__=new ms,this.size=0}function uv(u){var c=this.__data__,g=c.delete(u);return this.size=c.size,g}function ug(u){return this.__data__.get(u)}function Vo(u){return this.__data__.has(u)}function gd(u,c){var g=this.__data__;if(g instanceof ms){var E=g.__data__;if(!Iu||E.length<a-1)return E.push([u,c]),this.size=++g.size,this;g=this.__data__=new Qs(E)}return g.set(u,c),this.size=g.size,this}Nr.prototype.clear=og,Nr.prototype.delete=uv,Nr.prototype.get=ug,Nr.prototype.has=Vo,Nr.prototype.set=gd;function Jl(u,c){var g=tt(u),E=!g&&Ya(u),R=!g&&!E&&Qa(u),V=!g&&!E&&!R&&Kr(u),F=g||E||R||V,K=F?pt(u.length,eg):[],J=K.length;for(var de in u)(c||Ut.call(u,de))&&!(F&&(de=="length"||R&&(de=="offset"||de=="parent")||V&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||qr(de,J)))&&K.push(de);return K}function yd(u){var c=u.length;return c?u[Bf(0,c-1)]:t}function Va(u,c){return pc(yi(u),Lo(c,0,u.length))}function lt(u){return pc(yi(u))}function kt(u,c,g){(g!==t&&!Er(u[c],g)||g===t&&!(c in u))&&$i(u,c,g)}function Jt(u,c,g){var E=u[c];(!(Ut.call(u,c)&&Er(E,g))||g===t&&!(c in u))&&$i(u,c,g)}function No(u,c){for(var g=u.length;g--;)if(Er(u[g][0],c))return g;return-1}function Ou(u,c,g,E){return Ua(u,function(R,V,F){c(E,R,g(R),F)}),E}function Na(u,c){return u&&Ur(c,Pn(c),u)}function Mf(u,c){return u&&Ur(c,Ti(c),u)}function $i(u,c,g){c=="__proto__"&&Do?Do(u,c,{configurable:!0,enumerable:!0,value:g,writable:!0}):u[c]=g}function La(u,c){for(var g=-1,E=c.length,R=ae(E),V=u==null;++g<E;)R[g]=V?t:ol(u,c[g]);return R}function Lo(u,c,g){return u===u&&(g!==t&&(u=u<=g?u:g),c!==t&&(u=u>=c?u:c)),u}function Mt(u,c,g,E,R,V){var F,K=c&w,J=c&C,de=c&N;if(g&&(F=R?g(u,E,R,V):g(u)),F!==t)return F;if(!tn(u))return u;var pe=tt(u);if(pe){if(F=zo(u),!K)return yi(u,F)}else{var Ee=bn(u),De=Ee==yt||Ee==Pt;if(Qa(u))return Ld(u,K);if(Ee==Xt||Ee==Se||De&&!R){if(F=J||De?{}:Oi(u),!K)return J?uc(u,Mf(F,u)):bg(u,Na(F,u))}else{if(!_t[Ee])return R?u:{};F=Cg(u,Ee,K)}}V||(V=new Nr);var Be=V.get(u);if(Be)return Be;V.set(u,F),ws(u)?u.forEach(function(Ye){F.add(Mt(Ye,c,g,Ye,u,V))}):fy(u)&&u.forEach(function(Ye,At){F.set(At,Mt(Ye,c,g,At,u,V))});var We=de?J?fc:_s:J?Ti:Pn,ht=pe?t:We(u);return di(ht||u,function(Ye,At){ht&&(At=Ye,Ye=u[At]),Jt(F,At,Mt(Ye,c,g,At,u,V))}),F}function _d(u){var c=Pn(u);return function(g){return Of(g,u,c)}}function Of(u,c,g){var E=g.length;if(u==null)return!E;for(u=Ft(u);E--;){var R=g[E],V=c[R],F=u[R];if(F===t&&!(R in u)||!V(F))return!1}return!0}function vd(u,c,g){if(typeof u!="function")throw new Gi(h);return ui(function(){u.apply(t,g)},c)}function Pu(u,c,g,E){var R=-1,V=So,F=!0,K=u.length,J=[],de=c.length;if(!K)return J;g&&(c=Gt(c,Lt(g))),E?(V=Ca,F=!1):c.length>=a&&(V=qi,F=!1,c=new Xs(c));e:for(;++R<K;){var pe=u[R],Ee=g==null?pe:g(pe);if(pe=E||pe!==0?pe:0,F&&Ee===Ee){for(var De=de;De--;)if(c[De]===Ee)continue e;J.push(pe)}else V(c,Ee,E)||J.push(pe)}return J}var Ua=zd(vr),Pf=zd(Lr,!0);function Td(u,c){var g=!0;return Ua(u,function(E,R,V){return g=!!c(E,R,V),g}),g}function Vu(u,c,g){for(var E=-1,R=u.length;++E<R;){var V=u[E],F=c(V);if(F!=null&&(K===t?F===F&&!nr(F):g(F,K)))var K=F,J=V}return J}function Di(u,c,g,E){var R=u.length;for(g=ot(g),g<0&&(g=-g>R?0:R+g),E=E===t||E>R?R:ot(E),E<0&&(E+=R),E=g>E?0:Pm(E);g<E;)u[g++]=c;return u}function Tn(u,c){var g=[];return Ua(u,function(E,R,V){c(E,R,V)&&g.push(E)}),g}function Sn(u,c,g,E,R){var V=-1,F=u.length;for(g||(g=xg),R||(R=[]);++V<F;){var K=u[V];c>0&&g(K)?c>1?Sn(K,c-1,g,E,R):fr(R,K):E||(R[R.length]=K)}return R}var Uo=Fd(),ec=Fd(!0);function vr(u,c){return u&&Uo(u,c,Pn)}function Lr(u,c){return u&&ec(u,c,Pn)}function ko(u,c){return xi(c,function(g){return ua(u[g])})}function Zs(u,c){c=ea(c,u);for(var g=0,E=c.length;u!=null&&g<E;)u=u[_i(c[g++])];return g&&g==E?u:t}function Vf(u,c,g){var E=c(u);return tt(u)?E:fr(E,g(u))}function ai(u){return u==null?u===t?$n:gn:cs&&cs in Ft(u)?mc(u):Qi(u)}function Nf(u,c){return u>c}function lg(u,c){return u!=null&&Ut.call(u,c)}function cg(u,c){return u!=null&&c in Ft(u)}function fg(u,c,g){return u>=Xe(c,g)&&u<Tt(c,g)}function Lf(u,c,g){for(var E=g?Ca:So,R=u[0].length,V=u.length,F=V,K=ae(V),J=1/0,de=[];F--;){var pe=u[F];F&&c&&(pe=Gt(pe,Lt(c))),J=Xe(pe.length,J),K[F]=!g&&(c||R>=120&&pe.length>=120)?new Xs(F&&pe):t}pe=u[0];var Ee=-1,De=K[0];e:for(;++Ee<R&&de.length<J;){var Be=pe[Ee],We=c?c(Be):Be;if(Be=g||Be!==0?Be:0,!(De?qi(De,We):E(de,We,g))){for(F=V;--F;){var ht=K[F];if(!(ht?qi(ht,We):E(u[F],We,g)))continue e}De&&De.push(We),de.push(Be)}}return de}function Ed(u,c,g,E){return vr(u,function(R,V,F){c(E,g(R),V,F)}),E}function Nu(u,c,g){c=ea(c,u),u=Yd(u,c);var E=u==null?u:u[_i(vi(c))];return E==null?t:Qn(E,u,g)}function hg(u){return pn(u)&&ai(u)==Se}function dg(u){return pn(u)&&ai(u)==Zt}function mg(u){return pn(u)&&ai(u)==He}function Lu(u,c,g,E,R){return u===c?!0:u==null||c==null||!pn(u)&&!pn(c)?u!==u&&c!==c:Ad(u,c,g,E,Lu,R)}function Ad(u,c,g,E,R,V){var F=tt(u),K=tt(c),J=F?Re:bn(u),de=K?Re:bn(c);J=J==Se?Xt:J,de=de==Se?Xt:de;var pe=J==Xt,Ee=de==Xt,De=J==de;if(De&&Qa(u)){if(!Qa(c))return!1;F=!0,pe=!1}if(De&&!pe)return V||(V=new Nr),F||Kr(u)?qa(u,c,g,E,R,V):oi(u,c,J,g,E,R,V);if(!(g&U)){var Be=pe&&Ut.call(u,"__wrapped__"),We=Ee&&Ut.call(c,"__wrapped__");if(Be||We){var ht=Be?u.value():u,Ye=We?c.value():c;return V||(V=new Nr),R(ht,Ye,g,E,V)}}return De?(V||(V=new Nr),Wf(u,c,g,E,R,V)):!1}function pg(u){return pn(u)&&bn(u)==je}function Uf(u,c,g,E){var R=g.length,V=R,F=!E;if(u==null)return!V;for(u=Ft(u);R--;){var K=g[R];if(F&&K[2]?K[1]!==u[K[0]]:!(K[0]in u))return!1}for(;++R<V;){K=g[R];var J=K[0],de=u[J],pe=K[1];if(F&&K[2]){if(de===t&&!(J in u))return!1}else{var Ee=new Nr;if(E)var De=E(de,pe,J,u,c,Ee);if(!(De===t?Lu(pe,de,U|j,E,Ee):De))return!1}}return!0}function wd(u){if(!tn(u)||$d(u))return!1;var c=ua(u)?Sf:Ea;return c.test(Pi(u))}function gg(u){return pn(u)&&ai(u)==cn}function yg(u){return pn(u)&&bn(u)==Un}function lv(u){return pn(u)&&uh(u.length)&&!!wt[ai(u)]}function Sd(u){return typeof u=="function"?u:u==null?Vt:typeof u=="object"?tt(u)?kf(u[0],u[1]):bd(u):sA(u)}function ka(u){if(!dn(u))return gi(u);var c=[];for(var g in Ft(u))Ut.call(u,g)&&g!="constructor"&&c.push(g);return c}function _g(u){if(!tn(u))return Rn(u);var c=dn(u),g=[];for(var E in u)E=="constructor"&&(c||!Ut.call(u,E))||g.push(E);return g}function Uu(u,c){return u<c}function tc(u,c){var g=-1,E=at(u)?ae(u.length):[];return Ua(u,function(R,V,F){E[++g]=c(R,V,F)}),E}function bd(u){var c=dc(u);return c.length==1&&c[0][2]?Mg(c[0][0],c[0][1]):function(g){return g===u||Uf(g,u,c)}}function kf(u,c){return Yu(u)&&Wd(c)?Mg(_i(u),c):function(g){var E=ol(g,u);return E===t&&E===c?Um(g,u):Lu(c,E,U|j)}}function nc(u,c,g,E,R){u!==c&&Uo(c,function(V,F){if(R||(R=new Nr),tn(V))vg(u,c,F,g,nc,E,R);else{var K=E?E(Qd(u,F),V,F+"",u,c,R):t;K===t&&(K=V),kt(u,F,K)}},Ti)}function vg(u,c,g,E,R,V,F){var K=Qd(u,g),J=Qd(c,g),de=F.get(J);if(de){kt(u,g,de);return}var pe=V?V(K,J,g+"",u,c,F):t,Ee=pe===t;if(Ee){var De=tt(J),Be=!De&&Qa(J),We=!De&&!Be&&Kr(J);pe=J,De||Be||We?tt(K)?pe=K:on(K)?pe=yi(K):Be?(Ee=!1,pe=Ld(J,!0)):We?(Ee=!1,pe=Ud(J,!0)):pe=[]:ci(J)||Ya(J)?(pe=K,Ya(K)?pe=rl(K):(!tn(K)||ua(K))&&(pe=Oi(J))):Ee=!1}Ee&&(F.set(J,pe),R(pe,J,E,V,F),F.delete(J)),kt(u,g,pe)}function Rd(u,c){var g=u.length;if(g)return c+=c<0?g:0,qr(c,g)?u[c]:t}function Cd(u,c,g){c.length?c=Gt(c,function(V){return tt(V)?function(F){return Zs(F,V.length===1?V[0]:V)}:V}):c=[Vt];var E=-1;c=Gt(c,Lt(Fe()));var R=tc(u,function(V,F,K){var J=Gt(c,function(de){return de(V)});return{criteria:J,index:++E,value:V}});return oe(R,function(V,F){return Xn(V,F,g)})}function Id(u,c){return xd(u,c,function(g,E){return Um(u,E)})}function xd(u,c,g){for(var E=-1,R=c.length,V={};++E<R;){var F=c[E],K=Zs(u,F);g(K,F)&&ku(V,ea(F,u),K)}return V}function Tg(u){return function(c){return Zs(c,u)}}function ic(u,c,g,E){var R=E?as:Fs,V=-1,F=c.length,K=u;for(u===c&&(c=yi(c)),g&&(K=Gt(u,Lt(g)));++V<F;)for(var J=0,de=c[V],pe=g?g(de):de;(J=R(K,pe,J,E))>-1;)K!==u&&pi.call(K,J,1),pi.call(u,J,1);return u}function Dd(u,c){for(var g=u?c.length:0,E=g-1;g--;){var R=c[g];if(g==E||R!==V){var V=R;qr(R)?pi.call(u,R,1):ps(u,R)}}return u}function Bf(u,c){return u+yr(Rf()*(c-u+1))}function cv(u,c,g,E){for(var R=-1,V=Tt(gr((c-u)/(g||1)),0),F=ae(V);V--;)F[E?V:++R]=u,u+=g;return F}function rc(u,c){var g="";if(!u||c<1||c>Me)return g;do c%2&&(g+=u),c=yr(c/2),c&&(u+=u);while(c);return g}function ut(u,c){return Xi(vs(u,c,Vt),u+"")}function Eg(u){return yd(ir(u))}function Md(u,c){var g=ir(u);return pc(g,Lo(c,0,g.length))}function ku(u,c,g,E){if(!tn(u))return u;c=ea(c,u);for(var R=-1,V=c.length,F=V-1,K=u;K!=null&&++R<V;){var J=_i(c[R]),de=g;if(J==="__proto__"||J==="constructor"||J==="prototype")return u;if(R!=F){var pe=K[J];de=E?E(pe,J,K):t,de===t&&(de=tn(pe)?pe:qr(c[R+1])?[]:{})}Jt(K,J,de),K=K[J]}return u}var Od=$l?function(u,c){return $l.set(u,c),u}:Vt,fv=Do?function(u,c){return Do(u,"toString",{configurable:!0,enumerable:!1,value:Ne(c),writable:!0})}:Vt;function hv(u){return pc(ir(u))}function Wi(u,c,g){var E=-1,R=u.length;c<0&&(c=-c>R?0:R+c),g=g>R?R:g,g<0&&(g+=R),R=c>g?0:g-c>>>0,c>>>=0;for(var V=ae(R);++E<R;)V[E]=u[E+c];return V}function sc(u,c){var g;return Ua(u,function(E,R,V){return g=c(E,R,V),!g}),!!g}function Bu(u,c,g){var E=0,R=u==null?E:u.length;if(typeof c=="number"&&c===c&&R<=he){for(;E<R;){var V=E+R>>>1,F=u[V];F!==null&&!nr(F)&&(g?F<=c:F<c)?E=V+1:R=V}return R}return zu(u,c,Vt,g)}function zu(u,c,g,E){var R=0,V=u==null?0:u.length;if(V===0)return 0;c=g(c);for(var F=c!==c,K=c===null,J=nr(c),de=c===t;R<V;){var pe=yr((R+V)/2),Ee=g(u[pe]),De=Ee!==t,Be=Ee===null,We=Ee===Ee,ht=nr(Ee);if(F)var Ye=E||We;else de?Ye=We&&(E||De):K?Ye=We&&De&&(E||!Be):J?Ye=We&&De&&!Be&&(E||!ht):Be||ht?Ye=!1:Ye=E?Ee<=c:Ee<c;Ye?R=pe+1:V=pe}return Xe(V,ge)}function Pd(u,c){for(var g=-1,E=u.length,R=0,V=[];++g<E;){var F=u[g],K=c?c(F):F;if(!g||!Er(K,J)){var J=K;V[R++]=F===0?0:F}}return V}function Vd(u){return typeof u=="number"?u:nr(u)?x:+u}function hn(u){if(typeof u=="string")return u;if(tt(u))return Gt(u,hn)+"";if(nr(u))return Yl?Yl.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}function Mi(u,c,g){var E=-1,R=So,V=u.length,F=!0,K=[],J=K;if(g)F=!1,R=Ca;else if(V>=a){var de=c?null:Ha(u);if(de)return Af(de);F=!1,R=qi,J=new Xs}else J=c?[]:K;e:for(;++E<V;){var pe=u[E],Ee=c?c(pe):pe;if(pe=g||pe!==0?pe:0,F&&Ee===Ee){for(var De=J.length;De--;)if(J[De]===Ee)continue e;c&&J.push(Ee),K.push(pe)}else R(J,Ee,g)||(J!==K&&J.push(Ee),K.push(pe))}return K}function ps(u,c){return c=ea(c,u),u=Yd(u,c),u==null||delete u[_i(vi(c))]}function Ba(u,c,g,E){return ku(u,c,g(Zs(u,c)),E)}function Fu(u,c,g,E){for(var R=u.length,V=E?R:-1;(E?V--:++V<R)&&c(u[V],V,u););return g?Wi(u,E?0:V,E?V+1:R):Wi(u,E?V+1:0,E?R:V)}function zf(u,c){var g=u;return g instanceof rt&&(g=g.value()),Dr(c,function(E,R){return R.func.apply(R.thisArg,fr([E],R.args))},g)}function Ff(u,c,g){var E=u.length;if(E<2)return E?Mi(u[0]):[];for(var R=-1,V=ae(E);++R<E;)for(var F=u[R],K=-1;++K<E;)K!=R&&(V[R]=Pu(V[R]||F,u[K],c,g));return Mi(Sn(V,1),c,g)}function Nd(u,c,g){for(var E=-1,R=u.length,V=c.length,F={};++E<R;){var K=E<V?c[E]:t;g(F,u[E],K)}return F}function Js(u){return on(u)?u:[]}function Hu(u){return typeof u=="function"?u:Vt}function ea(u,c){return tt(u)?u:Yu(u,c)?[u]:Ts(Bt(u))}var Ag=ut;function ta(u,c,g){var E=u.length;return g=g===t?E:g,!c&&g>=E?u:Wi(u,c,g)}var ac=mr||function(u){return Wt.clearTimeout(u)};function Ld(u,c){if(c)return u.slice();var g=u.length,E=cd?cd(g):new u.constructor(g);return u.copy(E),E}function oc(u){var c=new u.constructor(u.byteLength);return new Pr(c).set(new Pr(u)),c}function wg(u,c){var g=c?oc(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.byteLength)}function Sg(u){var c=new u.constructor(u.source,ho.exec(u));return c.lastIndex=u.lastIndex,c}function dv(u){return $s?Ft($s.call(u)):{}}function Ud(u,c){var g=c?oc(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.length)}function On(u,c){if(u!==c){var g=u!==t,E=u===null,R=u===u,V=nr(u),F=c!==t,K=c===null,J=c===c,de=nr(c);if(!K&&!de&&!V&&u>c||V&&F&&J&&!K&&!de||E&&F&&J||!g&&J||!R)return 1;if(!E&&!V&&!de&&u<c||de&&g&&R&&!E&&!V||K&&g&&R||!F&&R||!J)return-1}return 0}function Xn(u,c,g){for(var E=-1,R=u.criteria,V=c.criteria,F=R.length,K=g.length;++E<F;){var J=On(R[E],V[E]);if(J){if(E>=K)return J;var de=g[E];return J*(de=="desc"?-1:1)}}return u.index-c.index}function kd(u,c,g,E){for(var R=-1,V=u.length,F=g.length,K=-1,J=c.length,de=Tt(V-F,0),pe=ae(J+de),Ee=!E;++K<J;)pe[K]=c[K];for(;++R<F;)(Ee||R<V)&&(pe[g[R]]=u[R]);for(;de--;)pe[K++]=u[R++];return pe}function Bd(u,c,g,E){for(var R=-1,V=u.length,F=-1,K=g.length,J=-1,de=c.length,pe=Tt(V-K,0),Ee=ae(pe+de),De=!E;++R<pe;)Ee[R]=u[R];for(var Be=R;++J<de;)Ee[Be+J]=c[J];for(;++F<K;)(De||R<V)&&(Ee[Be+g[F]]=u[R++]);return Ee}function yi(u,c){var g=-1,E=u.length;for(c||(c=ae(E));++g<E;)c[g]=u[g];return c}function Ur(u,c,g,E){var R=!g;g||(g={});for(var V=-1,F=c.length;++V<F;){var K=c[V],J=E?E(g[K],u[K],K,g,u):t;J===t&&(J=u[K]),R?$i(g,K,J):Jt(g,K,J)}return g}function bg(u,c){return Ur(u,Yf(u),c)}function uc(u,c){return Ur(u,Gd(u),c)}function qu(u,c){return function(g,E){var R=tt(g)?wo:Ou,V=c?c():{};return R(g,u,Fe(E,2),V)}}function Bo(u){return ut(function(c,g){var E=-1,R=g.length,V=R>1?g[R-1]:t,F=R>2?g[2]:t;for(V=u.length>3&&typeof V=="function"?(R--,V):t,F&&Zn(g[0],g[1],F)&&(V=R<3?t:V,R=1),c=Ft(c);++E<R;){var K=g[E];K&&u(c,K,E,V)}return c})}function zd(u,c){return function(g,E){if(g==null)return g;if(!at(g))return u(g,E);for(var R=g.length,V=c?R:-1,F=Ft(g);(c?V--:++V<R)&&E(F[V],V,F)!==!1;);return g}}function Fd(u){return function(c,g,E){for(var R=-1,V=Ft(c),F=E(c),K=F.length;K--;){var J=F[u?K:++R];if(g(V[J],J,V)===!1)break}return c}}function Hd(u,c,g){var E=c&B,R=ju(u);function V(){var F=this&&this!==Wt&&this instanceof V?R:u;return F.apply(E?g:this,arguments)}return V}function Hf(u){return function(c){c=Bt(c);var g=Ia(c)?hr(c):t,E=g?g[0]:c.charAt(0),R=g?ta(g,1).join(""):c.slice(1);return E[u]()+R}}function za(u){return function(c){return Dr(un(Fm(c).replace(df,"")),u,"")}}function ju(u){return function(){var c=arguments;switch(c.length){case 0:return new u;case 1:return new u(c[0]);case 2:return new u(c[0],c[1]);case 3:return new u(c[0],c[1],c[2]);case 4:return new u(c[0],c[1],c[2],c[3]);case 5:return new u(c[0],c[1],c[2],c[3],c[4]);case 6:return new u(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new u(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var g=Ws(u.prototype),E=u.apply(g,c);return tn(E)?E:g}}function qd(u,c,g){var E=ju(u);function R(){for(var V=arguments.length,F=ae(V),K=V,J=Yi(R);K--;)F[K]=arguments[K];var de=V<3&&F[0]!==J&&F[V-1]!==J?[]:xa(F,J);if(V-=de.length,V<g)return Fa(u,c,lc,R.placeholder,t,F,de,t,t,g-V);var pe=this&&this!==Wt&&this instanceof R?E:u;return Qn(pe,this,F)}return R}function qf(u){return function(c,g,E){var R=Ft(c);if(!at(c)){var V=Fe(g,3);c=Pn(c),g=function(K){return V(R[K],K,R)}}var F=u(c,g,E);return F>-1?R[V?c[F]:F]:t}}function jf(u){return ys(function(c){var g=c.length,E=g,R=Ki.prototype.thru;for(u&&c.reverse();E--;){var V=c[E];if(typeof V!="function")throw new Gi(h);if(R&&!F&&Fr(V)=="wrapper")var F=new Ki([],!0)}for(E=F?E:g;++E<g;){V=c[E];var K=Fr(V),J=K=="wrapper"?hc(V):t;J&&en(J[0])&&J[1]==(q|ne|ce|D)&&!J[4].length&&J[9]==1?F=F[Fr(J[0])].apply(F,J[3]):F=V.length==1&&en(V)?F[K]():F.thru(V)}return function(){var de=arguments,pe=de[0];if(F&&de.length==1&&tt(pe))return F.plant(pe).value();for(var Ee=0,De=g?c[Ee].apply(this,de):pe;++Ee<g;)De=c[Ee].call(this,De);return De}})}function lc(u,c,g,E,R,V,F,K,J,de){var pe=c&q,Ee=c&B,De=c&$,Be=c&(ne|Ae),We=c&O,ht=De?t:ju(u);function Ye(){for(var At=arguments.length,Dt=ae(At),$r=At;$r--;)Dt[$r]=arguments[$r];if(Be)var rr=Yi(Ye),Wr=jl(Dt,rr);if(E&&(Dt=kd(Dt,E,R,Be)),V&&(Dt=Bd(Dt,V,F,Be)),At-=Wr,Be&&At<de){var Vn=xa(Dt,rr);return Fa(u,c,lc,Ye.placeholder,g,Dt,Vn,K,J,de-At)}var fa=Ee?g:this,$o=De?fa[u]:u;return At=Dt.length,K?Dt=Vg(Dt,K):We&&At>1&&Dt.reverse(),pe&&J<At&&(Dt.length=J),this&&this!==Wt&&this instanceof Ye&&($o=ht||ju($o)),$o.apply(fa,Dt)}return Ye}function Gf(u,c){return function(g,E){return Ed(g,u,c(E),{})}}function cc(u,c){return function(g,E){var R;if(g===t&&E===t)return c;if(g!==t&&(R=g),E!==t){if(R===t)return E;typeof g=="string"||typeof E=="string"?(g=hn(g),E=hn(E)):(g=Vd(g),E=Vd(E)),R=u(g,E)}return R}}function kr(u){return ys(function(c){return c=Gt(c,Lt(Fe())),ut(function(g){var E=this;return u(c,function(R){return Qn(R,E,g)})})})}function Gu(u,c){c=c===t?" ":hn(c);var g=c.length;if(g<2)return g?rc(c,u):c;var E=rc(c,gr(u/os(c)));return Ia(c)?ta(hr(E),0,u).join(""):E.slice(0,u)}function mv(u,c,g,E){var R=c&B,V=ju(u);function F(){for(var K=-1,J=arguments.length,de=-1,pe=E.length,Ee=ae(pe+J),De=this&&this!==Wt&&this instanceof F?V:u;++de<pe;)Ee[de]=E[de];for(;J--;)Ee[de++]=arguments[++K];return Qn(De,R?g:this,Ee)}return F}function jd(u){return function(c,g,E){return E&&typeof E!="number"&&Zn(c,g,E)&&(g=E=t),c=la(c),g===t?(g=c,c=0):g=la(g),E=E===t?c<g?1:-1:la(E),cv(c,g,E,u)}}function Ku(u){return function(c,g){return typeof c=="string"&&typeof g=="string"||(c=ei(c),g=ei(g)),u(c,g)}}function Fa(u,c,g,E,R,V,F,K,J,de){var pe=c&ne,Ee=pe?F:t,De=pe?t:F,Be=pe?V:t,We=pe?t:V;c|=pe?ce:be,c&=~(pe?be:ce),c&re||(c&=-4);var ht=[u,c,R,Be,Ee,We,De,K,J,de],Ye=g.apply(t,ht);return en(u)&&Qf(Ye,ht),Ye.placeholder=E,Xd(Ye,u,c)}function Br(u){var c=vn[u];return function(g,E){if(g=ei(g),E=E==null?0:Xe(ot(E),292),E&&bf(g)){var R=(Bt(g)+"e").split("e"),V=c(R[0]+"e"+(+R[1]+E));return R=(Bt(V)+"e").split("e"),+(R[0]+"e"+(+R[1]-E))}return c(g)}}var Ha=hs&&1/Af(new hs([,-0]))[1]==Oe?function(u){return new hs(u)}:Qv;function gs(u){return function(c){var g=bn(c);return g==je?Ef(c):g==Un?tv(c):xn(c,u(c))}}function zr(u,c,g,E,R,V,F,K){var J=c&$;if(!J&&typeof u!="function")throw new Gi(h);var de=E?E.length:0;if(de||(c&=-97,E=R=t),F=F===t?F:Tt(ot(F),0),K=K===t?K:ot(K),de-=R?R.length:0,c&be){var pe=E,Ee=R;E=R=t}var De=J?t:hc(u),Be=[u,c,g,E,R,pe,Ee,V,F,K];if(De&&Pg(Be,De),u=Be[0],c=Be[1],g=Be[2],E=Be[3],R=Be[4],K=Be[9]=Be[9]===t?J?0:u.length:Tt(Be[9]-de,0),!K&&c&(ne|Ae)&&(c&=-25),!c||c==B)var We=Hd(u,c,g);else c==ne||c==Ae?We=qd(u,c,K):(c==ce||c==(B|ce))&&!R.length?We=mv(u,c,g,E):We=lc.apply(t,Be);var ht=De?Od:Qf;return Xd(ht(We,Be),u,c)}function Kf(u,c,g,E){return u===t||Er(u,Ru[g])&&!Ut.call(E,g)?c:u}function $u(u,c,g,E,R,V){return tn(u)&&tn(c)&&(V.set(c,u),nc(u,c,t,$u,V),V.delete(c)),u}function $f(u){return ci(u)?t:u}function qa(u,c,g,E,R,V){var F=g&U,K=u.length,J=c.length;if(K!=J&&!(F&&J>K))return!1;var de=V.get(u),pe=V.get(c);if(de&&pe)return de==c&&pe==u;var Ee=-1,De=!0,Be=g&j?new Xs:t;for(V.set(u,c),V.set(c,u);++Ee<K;){var We=u[Ee],ht=c[Ee];if(E)var Ye=F?E(ht,We,Ee,c,u,V):E(We,ht,Ee,u,c,V);if(Ye!==t){if(Ye)continue;De=!1;break}if(Be){if(!Su(c,function(At,Dt){if(!qi(Be,Dt)&&(We===At||R(We,At,g,E,V)))return Be.push(Dt)})){De=!1;break}}else if(!(We===ht||R(We,ht,g,E,V))){De=!1;break}}return V.delete(u),V.delete(c),De}function oi(u,c,g,E,R,V,F){switch(g){case ii:if(u.byteLength!=c.byteLength||u.byteOffset!=c.byteOffset)return!1;u=u.buffer,c=c.buffer;case Zt:return!(u.byteLength!=c.byteLength||!V(new Pr(u),new Pr(c)));case xe:case He:case jt:return Er(+u,+c);case et:return u.name==c.name&&u.message==c.message;case cn:case Rs:return u==c+"";case je:var K=Ef;case Un:var J=E&U;if(K||(K=Af),u.size!=c.size&&!J)return!1;var de=F.get(u);if(de)return de==c;E|=j,F.set(u,c);var pe=qa(K(u),K(c),E,R,V,F);return F.delete(u),pe;case Xr:if($s)return $s.call(u)==$s.call(c)}return!1}function Wf(u,c,g,E,R,V){var F=g&U,K=_s(u),J=K.length,de=_s(c),pe=de.length;if(J!=pe&&!F)return!1;for(var Ee=J;Ee--;){var De=K[Ee];if(!(F?De in c:Ut.call(c,De)))return!1}var Be=V.get(u),We=V.get(c);if(Be&&We)return Be==c&&We==u;var ht=!0;V.set(u,c),V.set(c,u);for(var Ye=F;++Ee<J;){De=K[Ee];var At=u[De],Dt=c[De];if(E)var $r=F?E(Dt,At,De,c,u,V):E(At,Dt,De,u,c,V);if(!($r===t?At===Dt||R(At,Dt,g,E,V):$r)){ht=!1;break}Ye||(Ye=De=="constructor")}if(ht&&!Ye){var rr=u.constructor,Wr=c.constructor;rr!=Wr&&"constructor"in u&&"constructor"in c&&!(typeof rr=="function"&&rr instanceof rr&&typeof Wr=="function"&&Wr instanceof Wr)&&(ht=!1)}return V.delete(u),V.delete(c),ht}function ys(u){return Xi(vs(u,t,Ji),u+"")}function _s(u){return Vf(u,Pn,Yf)}function fc(u){return Vf(u,Ti,Gd)}var hc=$l?function(u){return $l.get(u)}:Qv;function Fr(u){for(var c=u.name+"",g=Da[c],E=Ut.call(Da,c)?g.length:0;E--;){var R=g[E],V=R.func;if(V==null||V==u)return R.name}return c}function Yi(u){var c=Ut.call(I,"placeholder")?I:u;return c.placeholder}function Fe(){var u=I.iteratee||bt;return u=u===bt?Sd:u,arguments.length?u(arguments[0],arguments[1]):u}function Wu(u,c){var g=u.__data__;return na(c)?g[typeof c=="string"?"string":"hash"]:g.map}function dc(u){for(var c=Pn(u),g=c.length;g--;){var E=c[g],R=u[E];c[g]=[E,R,Wd(R)]}return c}function Hr(u,c){var g=ad(u,c);return wd(g)?g:t}function mc(u){var c=Ut.call(u,cs),g=u[cs];try{u[cs]=t;var E=!0}catch{}var R=mi.call(u);return E&&(c?u[cs]=g:delete u[cs]),R}var Yf=qs?function(u){return u==null?[]:(u=Ft(u),xi(qs(u),function(c){return fd.call(u,c)}))}:Xv,Gd=qs?function(u){for(var c=[];u;)fr(c,Yf(u)),u=Co(u);return c}:Xv,bn=ai;(Cf&&bn(new Cf(new ArrayBuffer(1)))!=ii||Iu&&bn(new Iu)!=je||Po&&bn(Po.resolve())!=Kn||hs&&bn(new hs)!=Un||js&&bn(new js)!=Zr)&&(bn=function(u){var c=ai(u),g=c==Xt?u.constructor:t,E=g?Pi(g):"";if(E)switch(E){case ig:return ii;case If:return je;case rg:return Kn;case Wl:return Un;case sg:return Zr}return c});function ja(u,c,g){for(var E=-1,R=g.length;++E<R;){var V=g[E],F=V.size;switch(V.type){case"drop":u+=F;break;case"dropRight":c-=F;break;case"take":c=Xe(c,u+F);break;case"takeRight":u=Tt(u,c-F);break}}return{start:u,end:c}}function Rg(u){var c=u.match(Ta);return c?c[1].split(ts):[]}function Kd(u,c,g){c=ea(c,u);for(var E=-1,R=c.length,V=!1;++E<R;){var F=_i(c[E]);if(!(V=u!=null&&g(u,F)))break;u=u[F]}return V||++E!=R?V:(R=u==null?0:u.length,!!R&&uh(R)&&qr(F,R)&&(tt(u)||Ya(u)))}function zo(u){var c=u.length,g=new u.constructor(c);return c&&typeof u[0]=="string"&&Ut.call(u,"index")&&(g.index=u.index,g.input=u.input),g}function Oi(u){return typeof u.constructor=="function"&&!dn(u)?Ws(Co(u)):{}}function Cg(u,c,g){var E=u.constructor;switch(c){case Zt:return oc(u);case xe:case He:return new E(+u);case ii:return wg(u,g);case Cs:case Jr:case Is:case Sr:case or:case kn:case co:case ur:case Wn:return Ud(u,g);case je:return new E;case jt:case Rs:return new E(u);case cn:return Sg(u);case Un:return new E;case Xr:return dv(u)}}function Ig(u,c){var g=c.length;if(!g)return u;var E=g-1;return c[E]=(g>1?"& ":"")+c[E],c=c.join(g>2?", ":" "),u.replace(af,`{
/* [wrapped with `+c+`] */
`)}function xg(u){return tt(u)||Ya(u)||!!(xo&&u&&u[xo])}function qr(u,c){var g=typeof u;return c=c??Me,!!c&&(g=="number"||g!="symbol"&&Cr.test(u))&&u>-1&&u%1==0&&u<c}function Zn(u,c,g){if(!tn(g))return!1;var E=typeof c;return(E=="number"?at(g)&&qr(c,g.length):E=="string"&&c in g)?Er(g[c],u):!1}function Yu(u,c){if(tt(u))return!1;var g=typeof u;return g=="number"||g=="symbol"||g=="boolean"||u==null||nr(u)?!0:hu.test(u)||!_a.test(u)||c!=null&&u in Ft(c)}function na(u){var c=typeof u;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?u!=="__proto__":u===null}function en(u){var c=Fr(u),g=I[c];if(typeof g!="function"||!(c in rt.prototype))return!1;if(u===g)return!0;var E=hc(g);return!!E&&u===E[0]}function $d(u){return!!dr&&dr in u}var Dg=wf?ua:Zv;function dn(u){var c=u&&u.constructor,g=typeof c=="function"&&c.prototype||Ru;return u===g}function Wd(u){return u===u&&!tn(u)}function Mg(u,c){return function(g){return g==null?!1:g[u]===c&&(c!==t||u in Ft(g))}}function Og(u){var c=Rc(u,function(E){return g.size===_&&g.clear(),E}),g=c.cache;return c}function Pg(u,c){var g=u[1],E=c[1],R=g|E,V=R<(B|$|q),F=E==q&&g==ne||E==q&&g==D&&u[7].length<=c[8]||E==(q|D)&&c[7].length<=c[8]&&g==ne;if(!(V||F))return u;E&B&&(u[2]=c[2],R|=g&B?0:re);var K=c[3];if(K){var J=u[3];u[3]=J?kd(J,K,c[4]):K,u[4]=J?xa(u[3],A):c[4]}return K=c[5],K&&(J=u[5],u[5]=J?Bd(J,K,c[6]):K,u[6]=J?xa(u[5],A):c[6]),K=c[7],K&&(u[7]=K),E&q&&(u[8]=u[8]==null?c[8]:Xe(u[8],c[8])),u[9]==null&&(u[9]=c[9]),u[0]=c[0],u[1]=R,u}function Rn(u){var c=[];if(u!=null)for(var g in Ft(u))c.push(g);return c}function Qi(u){return mi.call(u)}function vs(u,c,g){return c=Tt(c===t?u.length-1:c,0),function(){for(var E=arguments,R=-1,V=Tt(E.length-c,0),F=ae(V);++R<V;)F[R]=E[c+R];R=-1;for(var K=ae(c+1);++R<c;)K[R]=E[R];return K[c]=g(F),Qn(u,this,K)}}function Yd(u,c){return c.length<2?u:Zs(u,Wi(c,0,-1))}function Vg(u,c){for(var g=u.length,E=Xe(c.length,g),R=yi(u);E--;){var V=c[E];u[E]=qr(V,g)?R[V]:t}return u}function Qd(u,c){if(!(c==="constructor"&&typeof u[c]=="function")&&c!="__proto__")return u[c]}var Qf=Zi(Od),ui=Mo||function(u,c){return Wt.setTimeout(u,c)},Xi=Zi(fv);function Xd(u,c,g){var E=c+"";return Xi(u,Ig(E,Zd(Rg(E),g)))}function Zi(u){var c=0,g=0;return function(){var E=Vr(),R=H-(E-g);if(g=E,R>0){if(++c>=Z)return arguments[0]}else c=0;return u.apply(t,arguments)}}function pc(u,c){var g=-1,E=u.length,R=E-1;for(c=c===t?E:c;++g<c;){var V=Bf(g,R),F=u[V];u[V]=u[g],u[g]=F}return u.length=c,u}var Ts=Og(function(u){var c=[];return u.charCodeAt(0)===46&&c.push(""),u.replace(yn,function(g,E,R,V){c.push(R?V.replace(Ds,"$1"):E||g)}),c});function _i(u){if(typeof u=="string"||nr(u))return u;var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}function Pi(u){if(u!=null){try{return Kl.call(u)}catch{}try{return u+""}catch{}}return""}function Zd(u,c){return di(ve,function(g){var E="_."+g[0];c&g[1]&&!So(u,E)&&u.push(E)}),u.sort()}function Xf(u){if(u instanceof rt)return u.clone();var c=new Ki(u.__wrapped__,u.__chain__);return c.__actions__=yi(u.__actions__),c.__index__=u.__index__,c.__values__=u.__values__,c}function Ga(u,c,g){(g?Zn(u,c,g):c===t)?c=1:c=Tt(ot(c),0);var E=u==null?0:u.length;if(!E||c<1)return[];for(var R=0,V=0,F=ae(gr(E/c));R<E;)F[V++]=Wi(u,R,R+=c);return F}function Ng(u){for(var c=-1,g=u==null?0:u.length,E=0,R=[];++c<g;){var V=u[c];V&&(R[E++]=V)}return R}function Qu(){var u=arguments.length;if(!u)return[];for(var c=ae(u-1),g=arguments[0],E=u;E--;)c[E-1]=arguments[E];return fr(tt(g)?yi(g):[g],Sn(c,1))}var gc=ut(function(u,c){return on(u)?Pu(u,Sn(c,1,on,!0)):[]}),yc=ut(function(u,c){var g=vi(c);return on(g)&&(g=t),on(u)?Pu(u,Sn(c,1,on,!0),Fe(g,2)):[]}),Xu=ut(function(u,c){var g=vi(c);return on(g)&&(g=t),on(u)?Pu(u,Sn(c,1,on,!0),t,g):[]});function Lg(u,c,g){var E=u==null?0:u.length;return E?(c=g||c===t?1:ot(c),Wi(u,c<0?0:c,E)):[]}function Ug(u,c,g){var E=u==null?0:u.length;return E?(c=g||c===t?1:ot(c),c=E-c,Wi(u,0,c<0?0:c)):[]}function _c(u,c){return u&&u.length?Fu(u,Fe(c,3),!0,!0):[]}function kg(u,c){return u&&u.length?Fu(u,Fe(c,3),!0):[]}function Zf(u,c,g,E){var R=u==null?0:u.length;return R?(g&&typeof g!="number"&&Zn(u,c,g)&&(g=0,E=R),Di(u,c,g,E)):[]}function Jd(u,c,g){var E=u==null?0:u.length;if(!E)return-1;var R=g==null?0:ot(g);return R<0&&(R=Tt(E+R,0)),bo(u,Fe(c,3),R)}function Bg(u,c,g){var E=u==null?0:u.length;if(!E)return-1;var R=E-1;return g!==t&&(R=ot(g),R=g<0?Tt(E+R,0):Xe(R,E-1)),bo(u,Fe(c,3),R,!0)}function Ji(u){var c=u==null?0:u.length;return c?Sn(u,1):[]}function em(u){var c=u==null?0:u.length;return c?Sn(u,Oe):[]}function Ka(u,c){var g=u==null?0:u.length;return g?(c=c===t?1:ot(c),Sn(u,c)):[]}function zg(u){for(var c=-1,g=u==null?0:u.length,E={};++c<g;){var R=u[c];E[R[0]]=R[1]}return E}function vc(u){return u&&u.length?u[0]:t}function Fo(u,c,g){var E=u==null?0:u.length;if(!E)return-1;var R=g==null?0:ot(g);return R<0&&(R=Tt(E+R,0)),Fs(u,c,R)}function Fg(u){var c=u==null?0:u.length;return c?Wi(u,0,-1):[]}var tm=ut(function(u){var c=Gt(u,Js);return c.length&&c[0]===u[0]?Lf(c):[]}),nm=ut(function(u){var c=vi(u),g=Gt(u,Js);return c===vi(g)?c=t:g.pop(),g.length&&g[0]===u[0]?Lf(g,Fe(c,2)):[]}),ia=ut(function(u){var c=vi(u),g=Gt(u,Js);return c=typeof c=="function"?c:t,c&&g.pop(),g.length&&g[0]===u[0]?Lf(g,t,c):[]});function Hg(u,c){return u==null?"":hd.call(u,c)}function vi(u){var c=u==null?0:u.length;return c?u[c-1]:t}function Tc(u,c,g){var E=u==null?0:u.length;if(!E)return-1;var R=E;return g!==t&&(R=ot(g),R=R<0?Tt(E+R,0):Xe(R,E-1)),c===c?ji(u,c,R):bo(u,d,R,!0)}function sn(u,c){return u&&u.length?Rd(u,ot(c)):t}var pv=ut(qg);function qg(u,c){return u&&u.length&&c&&c.length?ic(u,c):u}function jg(u,c,g){return u&&u.length&&c&&c.length?ic(u,c,Fe(g,2)):u}function gv(u,c,g){return u&&u.length&&c&&c.length?ic(u,c,t,g):u}var yv=ys(function(u,c){var g=u==null?0:u.length,E=La(u,c);return Dd(u,Gt(c,function(R){return qr(R,g)?+R:R}).sort(On)),E});function an(u,c){var g=[];if(!(u&&u.length))return g;var E=-1,R=[],V=u.length;for(c=Fe(c,3);++E<V;){var F=u[E];c(F,E,u)&&(g.push(F),R.push(E))}return Dd(u,R),g}function Ht(u){return u==null?u:Oo.call(u)}function dt(u,c,g){var E=u==null?0:u.length;return E?(g&&typeof g!="number"&&Zn(u,c,g)?(c=0,g=E):(c=c==null?0:ot(c),g=g===t?E:ot(g)),Wi(u,c,g)):[]}function St(u,c){return Bu(u,c)}function Yt(u,c,g){return zu(u,c,Fe(g,2))}function er(u,c){var g=u==null?0:u.length;if(g){var E=Bu(u,c);if(E<g&&Er(u[E],c))return E}return-1}function ra(u,c){return Bu(u,c,!0)}function Zu(u,c,g){return zu(u,c,Fe(g,2),!0)}function im(u,c){var g=u==null?0:u.length;if(g){var E=Bu(u,c,!0)-1;if(Er(u[E],c))return E}return-1}function sa(u){return u&&u.length?Pd(u):[]}function mn(u,c){return u&&u.length?Pd(u,Fe(c,2)):[]}function $a(u){var c=u==null?0:u.length;return c?Wi(u,1,c):[]}function Ho(u,c,g){return u&&u.length?(c=g||c===t?1:ot(c),Wi(u,0,c<0?0:c)):[]}function rm(u,c,g){var E=u==null?0:u.length;return E?(c=g||c===t?1:ot(c),c=E-c,Wi(u,c<0?0:c,E)):[]}function Tr(u,c){return u&&u.length?Fu(u,Fe(c,3),!1,!0):[]}function Ju(u,c){return u&&u.length?Fu(u,Fe(c,3)):[]}var Ec=ut(function(u){return Mi(Sn(u,1,on,!0))}),Es=ut(function(u){var c=vi(u);return on(c)&&(c=t),Mi(Sn(u,1,on,!0),Fe(c,2))}),sm=ut(function(u){var c=vi(u);return c=typeof c=="function"?c:t,Mi(Sn(u,1,on,!0),t,c)});function am(u){return u&&u.length?Mi(u):[]}function Jf(u,c){return u&&u.length?Mi(u,Fe(c,2)):[]}function eh(u,c){return c=typeof c=="function"?c:t,u&&u.length?Mi(u,t,c):[]}function As(u){if(!(u&&u.length))return[];var c=0;return u=xi(u,function(g){if(on(g))return c=Tt(g.length,c),!0}),pt(c,function(g){return Gt(u,S(g))})}function Ac(u,c){if(!(u&&u.length))return[];var g=As(u);return c==null?g:Gt(g,function(E){return Qn(c,t,E)})}var qo=ut(function(u,c){return on(u)?Pu(u,c):[]}),wc=ut(function(u){return Ff(xi(u,on))}),om=ut(function(u){var c=vi(u);return on(c)&&(c=t),Ff(xi(u,on),Fe(c,2))}),um=ut(function(u){var c=vi(u);return c=typeof c=="function"?c:t,Ff(xi(u,on),t,c)}),Sc=ut(As);function lm(u,c){return Nd(u||[],c||[],Jt)}function tr(u,c){return Nd(u||[],c||[],ku)}var Gg=ut(function(u){var c=u.length,g=c>1?u[c-1]:t;return g=typeof g=="function"?(u.pop(),g):t,Ac(u,g)});function li(u){var c=I(u);return c.__chain__=!0,c}function Kg(u,c){return c(u),u}function el(u,c){return c(u)}var $g=ys(function(u){var c=u.length,g=c?u[0]:0,E=this.__wrapped__,R=function(V){return La(V,u)};return c>1||this.__actions__.length||!(E instanceof rt)||!qr(g)?this.thru(R):(E=E.slice(g,+g+(c?1:0)),E.__actions__.push({func:el,args:[R],thisArg:t}),new Ki(E,this.__chain__).thru(function(V){return c&&!V.length&&V.push(t),V}))});function _v(){return li(this)}function aa(){return new Ki(this.value(),this.__chain__)}function th(){this.__values__===t&&(this.__values__=my(this.value()));var u=this.__index__>=this.__values__.length,c=u?t:this.__values__[this.__index__++];return{done:u,value:c}}function cm(){return this}function tl(u){for(var c,g=this;g instanceof Ql;){var E=Xf(g);E.__index__=0,E.__values__=t,c?R.__wrapped__=E:c=E;var R=E;g=g.__wrapped__}return R.__wrapped__=u,c}function Wg(){var u=this.__wrapped__;if(u instanceof rt){var c=u;return this.__actions__.length&&(c=new rt(this)),c=c.reverse(),c.__actions__.push({func:el,args:[Ht],thisArg:t}),new Ki(c,this.__chain__)}return this.thru(Ht)}function Yg(){return zf(this.__wrapped__,this.__actions__)}var Qg=qu(function(u,c,g){Ut.call(u,g)?++u[g]:$i(u,g,1)});function fm(u,c,g){var E=tt(u)?wu:Td;return g&&Zn(u,c,g)&&(c=t),E(u,Fe(c,3))}function hm(u,c){var g=tt(u)?xi:Tn;return g(u,Fe(c,3))}var vv=qf(Jd),Tv=qf(Bg);function Ev(u,c){return Sn(oa(u,c),1)}function Xg(u,c){return Sn(oa(u,c),Oe)}function Zg(u,c,g){return g=g===t?1:ot(g),Sn(oa(u,c),g)}function jo(u,c){var g=tt(u)?di:Ua;return g(u,Fe(c,3))}function bc(u,c){var g=tt(u)?gf:Pf;return g(u,Fe(c,3))}var Jg=qu(function(u,c,g){Ut.call(u,g)?u[g].push(c):$i(u,g,[c])});function ey(u,c,g,E){u=at(u)?u:ir(u),g=g&&!E?ot(g):0;var R=u.length;return g<0&&(g=Tt(R+g,0)),fh(u)?g<=R&&u.indexOf(c,g)>-1:!!R&&Fs(u,c,g)>-1}var Av=ut(function(u,c,g){var E=-1,R=typeof c=="function",V=at(u)?ae(u.length):[];return Ua(u,function(F){V[++E]=R?Qn(c,F,g):Nu(F,c,g)}),V}),ty=qu(function(u,c,g){$i(u,g,c)});function oa(u,c){var g=tt(u)?Gt:tc;return g(u,Fe(c,3))}function ny(u,c,g,E){return u==null?[]:(tt(c)||(c=c==null?[]:[c]),g=E?t:g,tt(g)||(g=g==null?[]:[g]),Cd(u,c,g))}var Kt=qu(function(u,c,g){u[g?0:1].push(c)},function(){return[[],[]]});function dm(u,c,g){var E=tt(u)?Dr:te,R=arguments.length<3;return E(u,Fe(c,4),g,R,Ua)}function wv(u,c,g){var E=tt(u)?yf:te,R=arguments.length<3;return E(u,Fe(c,4),g,R,Pf)}function iy(u,c){var g=tt(u)?xi:Tn;return g(u,ih(Fe(c,3)))}function Sv(u){var c=tt(u)?yd:Eg;return c(u)}function bv(u,c,g){(g?Zn(u,c,g):c===t)?c=1:c=ot(c);var E=tt(u)?Va:Md;return E(u,c)}function Rv(u){var c=tt(u)?lt:hv;return c(u)}function nh(u){if(u==null)return 0;if(at(u))return fh(u)?os(u):u.length;var c=bn(u);return c==je||c==Un?u.size:ka(u).length}function nl(u,c,g){var E=tt(u)?Su:sc;return g&&Zn(u,c,g)&&(c=t),E(u,Fe(c,3))}var mm=ut(function(u,c){if(u==null)return[];var g=c.length;return g>1&&Zn(u,c[0],c[1])?c=[]:g>2&&Zn(c[0],c[1],c[2])&&(c=[c[0]]),Cd(u,Sn(c,1),[])}),Go=pr||function(){return Wt.Date.now()};function pm(u,c){if(typeof c!="function")throw new Gi(h);return u=ot(u),function(){if(--u<1)return c.apply(this,arguments)}}function Wa(u,c,g){return c=g?t:c,c=u&&c==null?u.length:c,zr(u,q,t,t,t,t,c)}function jr(u,c){var g;if(typeof c!="function")throw new Gi(h);return u=ot(u),function(){return--u>0&&(g=c.apply(this,arguments)),u<=1&&(c=t),g}}var Ko=ut(function(u,c,g){var E=B;if(g.length){var R=xa(g,Yi(Ko));E|=ce}return zr(u,E,c,g,R)}),ry=ut(function(u,c,g){var E=B|$;if(g.length){var R=xa(g,Yi(ry));E|=ce}return zr(c,E,u,g,R)});function gm(u,c,g){c=g?t:c;var E=zr(u,ne,t,t,t,t,t,c);return E.placeholder=gm.placeholder,E}function ym(u,c,g){c=g?t:c;var E=zr(u,Ae,t,t,t,t,t,c);return E.placeholder=ym.placeholder,E}function _m(u,c,g){var E,R,V,F,K,J,de=0,pe=!1,Ee=!1,De=!0;if(typeof u!="function")throw new Gi(h);c=ei(c)||0,tn(g)&&(pe=!!g.leading,Ee="maxWait"in g,V=Ee?Tt(ei(g.maxWait)||0,c):V,De="trailing"in g?!!g.trailing:De);function Be(Vn){var fa=E,$o=R;return E=R=t,de=Vn,F=u.apply($o,fa),F}function We(Vn){return de=Vn,K=ui(At,c),pe?Be(Vn):F}function ht(Vn){var fa=Vn-J,$o=Vn-de,aA=c-fa;return Ee?Xe(aA,V-$o):aA}function Ye(Vn){var fa=Vn-J,$o=Vn-de;return J===t||fa>=c||fa<0||Ee&&$o>=V}function At(){var Vn=Go();if(Ye(Vn))return Dt(Vn);K=ui(At,ht(Vn))}function Dt(Vn){return K=t,De&&E?Be(Vn):(E=R=t,F)}function $r(){K!==t&&ac(K),de=0,E=J=R=K=t}function rr(){return K===t?F:Dt(Go())}function Wr(){var Vn=Go(),fa=Ye(Vn);if(E=arguments,R=this,J=Vn,fa){if(K===t)return We(J);if(Ee)return ac(K),K=ui(At,c),Be(J)}return K===t&&(K=ui(At,c)),F}return Wr.cancel=$r,Wr.flush=rr,Wr}var Cv=ut(function(u,c){return vd(u,1,c)}),vm=ut(function(u,c,g){return vd(u,ei(c)||0,g)});function sy(u){return zr(u,O)}function Rc(u,c){if(typeof u!="function"||c!=null&&typeof c!="function")throw new Gi(h);var g=function(){var E=arguments,R=c?c.apply(this,E):E[0],V=g.cache;if(V.has(R))return V.get(R);var F=u.apply(this,E);return g.cache=V.set(R,F)||V,F};return g.cache=new(Rc.Cache||Qs),g}Rc.Cache=Qs;function ih(u){if(typeof u!="function")throw new Gi(h);return function(){var c=arguments;switch(c.length){case 0:return!u.call(this);case 1:return!u.call(this,c[0]);case 2:return!u.call(this,c[0],c[1]);case 3:return!u.call(this,c[0],c[1],c[2])}return!u.apply(this,c)}}function Tm(u){return jr(2,u)}var Em=Ag(function(u,c){c=c.length==1&&tt(c[0])?Gt(c[0],Lt(Fe())):Gt(Sn(c,1),Lt(Fe()));var g=c.length;return ut(function(E){for(var R=-1,V=Xe(E.length,g);++R<V;)E[R]=c[R].call(this,E[R]);return Qn(u,this,E)})}),Am=ut(function(u,c){var g=xa(c,Yi(Am));return zr(u,ce,t,c,g)}),ay=ut(function(u,c){var g=xa(c,Yi(ay));return zr(u,be,t,c,g)}),Cc=ys(function(u,c){return zr(u,D,t,t,t,c)});function Iv(u,c){if(typeof u!="function")throw new Gi(h);return c=c===t?c:ot(c),ut(u,c)}function oy(u,c){if(typeof u!="function")throw new Gi(h);return c=c==null?0:Tt(ot(c),0),ut(function(g){var E=g[c],R=ta(g,0,c);return E&&fr(R,E),Qn(u,this,R)})}function Et(u,c,g){var E=!0,R=!0;if(typeof u!="function")throw new Gi(h);return tn(g)&&(E="leading"in g?!!g.leading:E,R="trailing"in g?!!g.trailing:R),_m(u,c,{leading:E,maxWait:c,trailing:R})}function wm(u){return Wa(u,1)}function rh(u,c){return Am(Hu(c),u)}function Sm(){if(!arguments.length)return[];var u=arguments[0];return tt(u)?u:[u]}function uy(u){return Mt(u,N)}function bm(u,c){return c=typeof c=="function"?c:t,Mt(u,N,c)}function Ic(u){return Mt(u,w|N)}function sh(u,c){return c=typeof c=="function"?c:t,Mt(u,w|N,c)}function il(u,c){return c==null||Of(u,c,Pn(c))}function Er(u,c){return u===c||u!==u&&c!==c}var xv=Ku(Nf),Dv=Ku(function(u,c){return u>=c}),Ya=hg(function(){return arguments}())?hg:function(u){return pn(u)&&Ut.call(u,"callee")&&!fd.call(u,"callee")},tt=ae.isArray,ah=To?Lt(To):dg;function at(u){return u!=null&&uh(u.length)&&!ua(u)}function on(u){return pn(u)&&at(u)}function Jn(u){return u===!0||u===!1||pn(u)&&ai(u)==xe}var Qa=ng||Zv,Rm=Au?Lt(Au):mg;function Cm(u){return pn(u)&&u.nodeType===1&&!ci(u)}function oh(u){if(u==null)return!0;if(at(u)&&(tt(u)||typeof u=="string"||typeof u.splice=="function"||Qa(u)||Kr(u)||Ya(u)))return!u.length;var c=bn(u);if(c==je||c==Un)return!u.size;if(dn(u))return!ka(u).length;for(var g in u)if(Ut.call(u,g))return!1;return!0}function ly(u,c){return Lu(u,c)}function cy(u,c,g){g=typeof g=="function"?g:t;var E=g?g(u,c):t;return E===t?Lu(u,c,t,g):!!E}function xc(u){if(!pn(u))return!1;var c=ai(u);return c==et||c==qe||typeof u.message=="string"&&typeof u.name=="string"&&!ci(u)}function Im(u){return typeof u=="number"&&bf(u)}function ua(u){if(!tn(u))return!1;var c=ai(u);return c==yt||c==Pt||c==Pe||c==Ri}function xm(u){return typeof u=="number"&&u==ot(u)}function uh(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Me}function tn(u){var c=typeof u;return u!=null&&(c=="object"||c=="function")}function pn(u){return u!=null&&typeof u=="object"}var fy=Eo?Lt(Eo):pg;function Dm(u,c){return u===c||Uf(u,c,dc(c))}function Mm(u,c,g){return g=typeof g=="function"?g:t,Uf(u,c,dc(c),g)}function Mv(u){return Om(u)&&u!=+u}function Ov(u){if(Dg(u))throw new Ke(l);return wd(u)}function Gr(u){return u===null}function hy(u){return u==null}function Om(u){return typeof u=="number"||pn(u)&&ai(u)==jt}function ci(u){if(!pn(u)||ai(u)!=Xt)return!1;var c=Co(u);if(c===null)return!0;var g=Ut.call(c,"constructor")&&c.constructor;return typeof g=="function"&&g instanceof g&&Kl.call(g)==Cu}var lh=ql?Lt(ql):gg;function ch(u){return xm(u)&&u>=-9007199254740991&&u<=Me}var ws=Ao?Lt(Ao):yg;function fh(u){return typeof u=="string"||!tt(u)&&pn(u)&&ai(u)==Rs}function nr(u){return typeof u=="symbol"||pn(u)&&ai(u)==Xr}var Kr=pf?Lt(pf):lv;function dy(u){return u===t}function Pv(u){return pn(u)&&bn(u)==Zr}function Vv(u){return pn(u)&&ai(u)==fn}var Nv=Ku(Uu),Lv=Ku(function(u,c){return u<=c});function my(u){if(!u)return[];if(at(u))return fh(u)?hr(u):yi(u);if(ls&&u[ls])return Qp(u[ls]());var c=bn(u),g=c==je?Ef:c==Un?Af:ir;return g(u)}function la(u){if(!u)return u===0?u:0;if(u=ei(u),u===Oe||u===-1/0){var c=u<0?-1:1;return c*mt}return u===u?u:0}function ot(u){var c=la(u),g=c%1;return c===c?g?c-g:c:0}function Pm(u){return u?Lo(ot(u),0,L):0}function ei(u){if(typeof u=="number")return u;if(nr(u))return x;if(tn(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=tn(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=vt(u);var g=Vl.test(u);return g||mo.test(u)?mf(u.slice(2),g?2:8):ns.test(u)?x:+u}function rl(u){return Ur(u,Ti(u))}function py(u){return u?Lo(ot(u),-9007199254740991,Me):u===0?u:0}function Bt(u){return u==null?"":hn(u)}var sl=Bo(function(u,c){if(dn(c)||at(c)){Ur(c,Pn(c),u);return}for(var g in c)Ut.call(c,g)&&Jt(u,g,c[g])}),al=Bo(function(u,c){Ur(c,Ti(c),u)}),Dc=Bo(function(u,c,g,E){Ur(c,Ti(c),u,E)}),hh=Bo(function(u,c,g,E){Ur(c,Pn(c),u,E)}),Vm=ys(La);function Nm(u,c){var g=Ws(u);return c==null?g:Na(g,c)}var dh=ut(function(u,c){u=Ft(u);var g=-1,E=c.length,R=E>2?c[2]:t;for(R&&Zn(c[0],c[1],R)&&(E=1);++g<E;)for(var V=c[g],F=Ti(V),K=-1,J=F.length;++K<J;){var de=F[K],pe=u[de];(pe===t||Er(pe,Ru[de])&&!Ut.call(u,de))&&(u[de]=V[de])}return u}),gy=ut(function(u){return u.push(t,$u),Qn(Pc,t,u)});function yy(u,c){return si(u,Fe(c,3),vr)}function Uv(u,c){return si(u,Fe(c,3),Lr)}function _y(u,c){return u==null?u:Uo(u,Fe(c,3),Ti)}function Mc(u,c){return u==null?u:ec(u,Fe(c,3),Ti)}function kv(u,c){return u&&vr(u,Fe(c,3))}function Bv(u,c){return u&&Lr(u,Fe(c,3))}function zv(u){return u==null?[]:ko(u,Pn(u))}function mh(u){return u==null?[]:ko(u,Ti(u))}function ol(u,c,g){var E=u==null?t:Zs(u,c);return E===t?g:E}function Lm(u,c){return u!=null&&Kd(u,c,lg)}function Um(u,c){return u!=null&&Kd(u,c,cg)}var Oc=Gf(function(u,c,g){c!=null&&typeof c.toString!="function"&&(c=mi.call(c)),u[c]=g},Ne(Vt)),Fv=Gf(function(u,c,g){c!=null&&typeof c.toString!="function"&&(c=mi.call(c)),Ut.call(u,c)?u[c].push(g):u[c]=[g]},Fe),vy=ut(Nu);function Pn(u){return at(u)?Jl(u):ka(u)}function Ti(u){return at(u)?Jl(u,!0):_g(u)}function Ty(u,c){var g={};return c=Fe(c,3),vr(u,function(E,R,V){$i(g,c(E,R,V),E)}),g}function km(u,c){var g={};return c=Fe(c,3),vr(u,function(E,R,V){$i(g,R,c(E,R,V))}),g}var Ey=Bo(function(u,c,g){nc(u,c,g)}),Pc=Bo(function(u,c,g,E){nc(u,c,g,E)}),Hv=ys(function(u,c){var g={};if(u==null)return g;var E=!1;c=Gt(c,function(V){return V=ea(V,u),E||(E=V.length>1),V}),Ur(u,fc(u),g),E&&(g=Mt(g,w|C|N,$f));for(var R=c.length;R--;)ps(g,c[R]);return g});function qv(u,c){return ph(u,ih(Fe(c)))}var Bm=ys(function(u,c){return u==null?{}:Id(u,c)});function ph(u,c){if(u==null)return{};var g=Gt(fc(u),function(E){return[E]});return c=Fe(c),xd(u,g,function(E,R){return c(E,R[0])})}function gh(u,c,g){c=ea(c,u);var E=-1,R=c.length;for(R||(R=1,u=t);++E<R;){var V=u==null?t:u[_i(c[E])];V===t&&(E=R,V=g),u=ua(V)?V.call(u):V}return u}function zm(u,c,g){return u==null?u:ku(u,c,g)}function Ay(u,c,g,E){return E=typeof E=="function"?E:t,u==null?u:ku(u,c,g,E)}var yh=gs(Pn),ca=gs(Ti);function Xa(u,c,g){var E=tt(u),R=E||Qa(u)||Kr(u);if(c=Fe(c,4),g==null){var V=u&&u.constructor;R?g=E?new V:[]:tn(u)?g=ua(V)?Ws(Co(u)):{}:g={}}return(R?di:vr)(u,function(F,K,J){return c(g,F,K,J)}),g}function Za(u,c){return u==null?!0:ps(u,c)}function Vc(u,c,g){return u==null?u:Ba(u,c,Hu(g))}function Nc(u,c,g,E){return E=typeof E=="function"?E:t,u==null?u:Ba(u,c,Hu(g),E)}function ir(u){return u==null?[]:_n(u,Pn(u))}function jv(u){return u==null?[]:_n(u,Ti(u))}function wy(u,c,g){return g===t&&(g=c,c=t),g!==t&&(g=ei(g),g=g===g?g:0),c!==t&&(c=ei(c),c=c===c?c:0),Lo(ei(u),c,g)}function Lc(u,c,g){return c=la(c),g===t?(g=c,c=0):g=la(g),u=ei(u),fg(u,c,g)}function Gv(u,c,g){if(g&&typeof g!="boolean"&&Zn(u,c,g)&&(c=g=t),g===t&&(typeof c=="boolean"?(g=c,c=t):typeof u=="boolean"&&(g=u,u=t)),u===t&&c===t?(u=0,c=1):(u=la(u),c===t?(c=u,u=0):c=la(c)),u>c){var E=u;u=c,c=E}if(g||u%1||c%1){var R=Rf();return Xe(u+R*(c-u+_o("1e-"+((R+"").length-1))),c)}return Bf(u,c)}var Sy=za(function(u,c,g){return c=c.toLowerCase(),u+(g?Uc(c):c)});function Uc(u){return Ze(Bt(u).toLowerCase())}function Fm(u){return u=Bt(u),u&&u.replace(Ms,Tf).replace(go,"")}function Kv(u,c,g){u=Bt(u),c=hn(c);var E=u.length;g=g===t?E:Lo(ot(g),0,E);var R=g;return g-=c.length,g>=0&&u.slice(g,R)==c}function _h(u){return u=Bt(u),u&&lr.test(u)?u.replace(xs,$p):u}function vh(u){return u=Bt(u),u&&va.test(u)?u.replace(du,"\\$&"):u}var by=za(function(u,c,g){return u+(g?"-":"")+c.toLowerCase()}),kc=za(function(u,c,g){return u+(g?" ":"")+c.toLowerCase()}),Hm=Hf("toLowerCase");function Th(u,c,g){u=Bt(u),c=ot(c);var E=c?os(u):0;if(!c||E>=c)return u;var R=(c-E)/2;return Gu(yr(R),g)+u+Gu(gr(R),g)}function Ry(u,c,g){u=Bt(u),c=ot(c);var E=c?os(u):0;return c&&E<c?u+Gu(c-E,g):u}function $v(u,c,g){u=Bt(u),c=ot(c);var E=c?os(u):0;return c&&E<c?Gu(c-E,g)+u:u}function Eh(u,c,g){return g||c==null?c=0:c&&(c=+c),fs(Bt(u).replace(es,""),c||0)}function i(u,c,g){return(g?Zn(u,c,g):c===t)?c=1:c=ot(c),rc(Bt(u),c)}function s(){var u=arguments,c=Bt(u[0]);return u.length<3?c:c.replace(u[1],u[2])}var o=za(function(u,c,g){return u+(g?"_":"")+c.toLowerCase()});function f(u,c,g){return g&&typeof g!="number"&&Zn(u,c,g)&&(c=g=t),g=g===t?L:g>>>0,g?(u=Bt(u),u&&(typeof c=="string"||c!=null&&!lh(c))&&(c=hn(c),!c&&Ia(u))?ta(hr(u),0,g):u.split(c,g)):[]}var m=za(function(u,c,g){return u+(g?" ":"")+Ze(c)});function v(u,c,g){return u=Bt(u),g=g==null?0:Lo(ot(g),0,u.length),c=hn(c),u.slice(g,g+c.length)==c}function b(u,c,g){var E=I.templateSettings;g&&Zn(u,c,g)&&(c=t),u=Bt(u),c=Dc({},c,E,Kf);var R=Dc({},c.imports,E.imports,Kf),V=Pn(R),F=_n(R,V),K,J,de=0,pe=c.interpolate||Ir,Ee="__p += '",De=Hs((c.escape||Ir).source+"|"+pe.source+"|"+(pe===fu?fo:Ir).source+"|"+(c.evaluate||Ir).source+"|$","g"),Be="//# sourceURL="+(Ut.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bl+"]")+`
`;u.replace(De,function(Ye,At,Dt,$r,rr,Wr){return Dt||(Dt=$r),Ee+=u.slice(de,Wr).replace(Aa,Wp),At&&(K=!0,Ee+=`' +
__e(`+At+`) +
'`),rr&&(J=!0,Ee+=`';
`+rr+`;
__p += '`),Dt&&(Ee+=`' +
((__t = (`+Dt+`)) == null ? '' : __t) +
'`),de=Wr+Ye.length,Ye}),Ee+=`';
`;var We=Ut.call(c,"variable")&&c.variable;if(!We)Ee=`with (obj) {
`+Ee+`
}
`;else if(In.test(We))throw new Ke(p);Ee=(J?Ee.replace(Pl,""):Ee).replace(nf,"$1").replace(rf,"$1;"),Ee="function("+(We||"obj")+`) {
`+(We?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(J?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ee+`return __p
}`;var ht=ee(function(){return gt(V,Be+"return "+Ee).apply(t,F)});if(ht.source=Ee,xc(ht))throw ht;return ht}function M(u){return Bt(u).toLowerCase()}function z(u){return Bt(u).toUpperCase()}function Y(u,c,g){if(u=Bt(u),u&&(g||c===t))return vt(u);if(!u||!(c=hn(c)))return u;var E=hr(u),R=hr(c),V=qn(E,R),F=Mr(E,R)+1;return ta(E,V,F).join("")}function fe(u,c,g){if(u=Bt(u),u&&(g||c===t))return u.slice(0,od(u)+1);if(!u||!(c=hn(c)))return u;var E=hr(u),R=Mr(E,hr(c))+1;return ta(E,0,R).join("")}function Te(u,c,g){if(u=Bt(u),u&&(g||c===t))return u.replace(es,"");if(!u||!(c=hn(c)))return u;var E=hr(u),R=qn(E,hr(c));return ta(E,R).join("")}function se(u,c){var g=k,E=G;if(tn(c)){var R="separator"in c?c.separator:R;g="length"in c?ot(c.length):g,E="omission"in c?hn(c.omission):E}u=Bt(u);var V=u.length;if(Ia(u)){var F=hr(u);V=F.length}if(g>=V)return u;var K=g-os(E);if(K<1)return E;var J=F?ta(F,0,K).join(""):u.slice(0,K);if(R===t)return J+E;if(F&&(K+=J.length-K),lh(R)){if(u.slice(K).search(R)){var de,pe=J;for(R.global||(R=Hs(R.source,Bt(ho.exec(R))+"g")),R.lastIndex=0;de=R.exec(pe);)var Ee=de.index;J=J.slice(0,Ee===t?K:Ee)}}else if(u.indexOf(hn(R),K)!=K){var De=J.lastIndexOf(R);De>-1&&(J=J.slice(0,De))}return J+E}function le(u){return u=Bt(u),u&&Rr.test(u)?u.replace(br,Zp):u}var ke=za(function(u,c,g){return u+(g?" ":"")+c.toUpperCase()}),Ze=Hf("toUpperCase");function un(u,c,g){return u=Bt(u),c=g?t:c,c===t?Yp(u)?iv(u):bu(u):u.match(c)||[]}var ee=ut(function(u,c){try{return Qn(u,t,c)}catch(g){return xc(g)?g:new Ke(g)}}),W=ys(function(u,c){return di(c,function(g){g=_i(g),$i(u,g,Ko(u[g],u))}),u});function ie(u){var c=u==null?0:u.length,g=Fe();return u=c?Gt(u,function(E){if(typeof E[1]!="function")throw new Gi(h);return[g(E[0]),E[1]]}):[],ut(function(E){for(var R=-1;++R<c;){var V=u[R];if(Qn(V[0],this,E))return Qn(V[1],this,E)}})}function me(u){return _d(Mt(u,w))}function Ne(u){return function(){return u}}function ft(u,c){return u==null||u!==u?c:u}var ze=jf(),$e=jf(!0);function Vt(u){return u}function bt(u){return Sd(typeof u=="function"?u:Mt(u,w))}function Ja(u){return bd(Mt(u,w))}function Wv(u,c){return kf(u,Mt(c,w))}var VI=ut(function(u,c){return function(g){return Nu(g,u,c)}}),NI=ut(function(u,c){return function(g){return Nu(u,g,c)}});function Yv(u,c,g){var E=Pn(c),R=ko(c,E);g==null&&!(tn(c)&&(R.length||!E.length))&&(g=c,c=u,u=this,R=ko(c,Pn(c)));var V=!(tn(g)&&"chain"in g)||!!g.chain,F=ua(u);return di(R,function(K){var J=c[K];u[K]=J,F&&(u.prototype[K]=function(){var de=this.__chain__;if(V||de){var pe=u(this.__wrapped__),Ee=pe.__actions__=yi(this.__actions__);return Ee.push({func:J,args:arguments,thisArg:u}),pe.__chain__=de,pe}return J.apply(u,fr([this.value()],arguments))})}),u}function LI(){return Wt._===this&&(Wt._=ld),this}function Qv(){}function UI(u){return u=ot(u),ut(function(c){return Rd(c,u)})}var kI=kr(Gt),BI=kr(wu),zI=kr(Su);function sA(u){return Yu(u)?S(_i(u)):Tg(u)}function FI(u){return function(c){return u==null?t:Zs(u,c)}}var HI=jd(),qI=jd(!0);function Xv(){return[]}function Zv(){return!1}function jI(){return{}}function GI(){return""}function KI(){return!0}function $I(u,c){if(u=ot(u),u<1||u>Me)return[];var g=L,E=Xe(u,L);c=Fe(c),u-=L;for(var R=pt(E,c);++g<u;)c(g);return R}function WI(u){return tt(u)?Gt(u,_i):nr(u)?[u]:yi(Ts(Bt(u)))}function YI(u){var c=++tg;return Bt(u)+c}var QI=cc(function(u,c){return u+c},0),XI=Br("ceil"),ZI=cc(function(u,c){return u/c},1),JI=Br("floor");function ex(u){return u&&u.length?Vu(u,Vt,Nf):t}function tx(u,c){return u&&u.length?Vu(u,Fe(c,2),Nf):t}function nx(u){return T(u,Vt)}function ix(u,c){return T(u,Fe(c,2))}function rx(u){return u&&u.length?Vu(u,Vt,Uu):t}function sx(u,c){return u&&u.length?Vu(u,Fe(c,2),Uu):t}var ax=cc(function(u,c){return u*c},1),ox=Br("round"),ux=cc(function(u,c){return u-c},0);function lx(u){return u&&u.length?we(u,Vt):0}function cx(u,c){return u&&u.length?we(u,Fe(c,2)):0}return I.after=pm,I.ary=Wa,I.assign=sl,I.assignIn=al,I.assignInWith=Dc,I.assignWith=hh,I.at=Vm,I.before=jr,I.bind=Ko,I.bindAll=W,I.bindKey=ry,I.castArray=Sm,I.chain=li,I.chunk=Ga,I.compact=Ng,I.concat=Qu,I.cond=ie,I.conforms=me,I.constant=Ne,I.countBy=Qg,I.create=Nm,I.curry=gm,I.curryRight=ym,I.debounce=_m,I.defaults=dh,I.defaultsDeep=gy,I.defer=Cv,I.delay=vm,I.difference=gc,I.differenceBy=yc,I.differenceWith=Xu,I.drop=Lg,I.dropRight=Ug,I.dropRightWhile=_c,I.dropWhile=kg,I.fill=Zf,I.filter=hm,I.flatMap=Ev,I.flatMapDeep=Xg,I.flatMapDepth=Zg,I.flatten=Ji,I.flattenDeep=em,I.flattenDepth=Ka,I.flip=sy,I.flow=ze,I.flowRight=$e,I.fromPairs=zg,I.functions=zv,I.functionsIn=mh,I.groupBy=Jg,I.initial=Fg,I.intersection=tm,I.intersectionBy=nm,I.intersectionWith=ia,I.invert=Oc,I.invertBy=Fv,I.invokeMap=Av,I.iteratee=bt,I.keyBy=ty,I.keys=Pn,I.keysIn=Ti,I.map=oa,I.mapKeys=Ty,I.mapValues=km,I.matches=Ja,I.matchesProperty=Wv,I.memoize=Rc,I.merge=Ey,I.mergeWith=Pc,I.method=VI,I.methodOf=NI,I.mixin=Yv,I.negate=ih,I.nthArg=UI,I.omit=Hv,I.omitBy=qv,I.once=Tm,I.orderBy=ny,I.over=kI,I.overArgs=Em,I.overEvery=BI,I.overSome=zI,I.partial=Am,I.partialRight=ay,I.partition=Kt,I.pick=Bm,I.pickBy=ph,I.property=sA,I.propertyOf=FI,I.pull=pv,I.pullAll=qg,I.pullAllBy=jg,I.pullAllWith=gv,I.pullAt=yv,I.range=HI,I.rangeRight=qI,I.rearg=Cc,I.reject=iy,I.remove=an,I.rest=Iv,I.reverse=Ht,I.sampleSize=bv,I.set=zm,I.setWith=Ay,I.shuffle=Rv,I.slice=dt,I.sortBy=mm,I.sortedUniq=sa,I.sortedUniqBy=mn,I.split=f,I.spread=oy,I.tail=$a,I.take=Ho,I.takeRight=rm,I.takeRightWhile=Tr,I.takeWhile=Ju,I.tap=Kg,I.throttle=Et,I.thru=el,I.toArray=my,I.toPairs=yh,I.toPairsIn=ca,I.toPath=WI,I.toPlainObject=rl,I.transform=Xa,I.unary=wm,I.union=Ec,I.unionBy=Es,I.unionWith=sm,I.uniq=am,I.uniqBy=Jf,I.uniqWith=eh,I.unset=Za,I.unzip=As,I.unzipWith=Ac,I.update=Vc,I.updateWith=Nc,I.values=ir,I.valuesIn=jv,I.without=qo,I.words=un,I.wrap=rh,I.xor=wc,I.xorBy=om,I.xorWith=um,I.zip=Sc,I.zipObject=lm,I.zipObjectDeep=tr,I.zipWith=Gg,I.entries=yh,I.entriesIn=ca,I.extend=al,I.extendWith=Dc,Yv(I,I),I.add=QI,I.attempt=ee,I.camelCase=Sy,I.capitalize=Uc,I.ceil=XI,I.clamp=wy,I.clone=uy,I.cloneDeep=Ic,I.cloneDeepWith=sh,I.cloneWith=bm,I.conformsTo=il,I.deburr=Fm,I.defaultTo=ft,I.divide=ZI,I.endsWith=Kv,I.eq=Er,I.escape=_h,I.escapeRegExp=vh,I.every=fm,I.find=vv,I.findIndex=Jd,I.findKey=yy,I.findLast=Tv,I.findLastIndex=Bg,I.findLastKey=Uv,I.floor=JI,I.forEach=jo,I.forEachRight=bc,I.forIn=_y,I.forInRight=Mc,I.forOwn=kv,I.forOwnRight=Bv,I.get=ol,I.gt=xv,I.gte=Dv,I.has=Lm,I.hasIn=Um,I.head=vc,I.identity=Vt,I.includes=ey,I.indexOf=Fo,I.inRange=Lc,I.invoke=vy,I.isArguments=Ya,I.isArray=tt,I.isArrayBuffer=ah,I.isArrayLike=at,I.isArrayLikeObject=on,I.isBoolean=Jn,I.isBuffer=Qa,I.isDate=Rm,I.isElement=Cm,I.isEmpty=oh,I.isEqual=ly,I.isEqualWith=cy,I.isError=xc,I.isFinite=Im,I.isFunction=ua,I.isInteger=xm,I.isLength=uh,I.isMap=fy,I.isMatch=Dm,I.isMatchWith=Mm,I.isNaN=Mv,I.isNative=Ov,I.isNil=hy,I.isNull=Gr,I.isNumber=Om,I.isObject=tn,I.isObjectLike=pn,I.isPlainObject=ci,I.isRegExp=lh,I.isSafeInteger=ch,I.isSet=ws,I.isString=fh,I.isSymbol=nr,I.isTypedArray=Kr,I.isUndefined=dy,I.isWeakMap=Pv,I.isWeakSet=Vv,I.join=Hg,I.kebabCase=by,I.last=vi,I.lastIndexOf=Tc,I.lowerCase=kc,I.lowerFirst=Hm,I.lt=Nv,I.lte=Lv,I.max=ex,I.maxBy=tx,I.mean=nx,I.meanBy=ix,I.min=rx,I.minBy=sx,I.stubArray=Xv,I.stubFalse=Zv,I.stubObject=jI,I.stubString=GI,I.stubTrue=KI,I.multiply=ax,I.nth=sn,I.noConflict=LI,I.noop=Qv,I.now=Go,I.pad=Th,I.padEnd=Ry,I.padStart=$v,I.parseInt=Eh,I.random=Gv,I.reduce=dm,I.reduceRight=wv,I.repeat=i,I.replace=s,I.result=gh,I.round=ox,I.runInContext=Q,I.sample=Sv,I.size=nh,I.snakeCase=o,I.some=nl,I.sortedIndex=St,I.sortedIndexBy=Yt,I.sortedIndexOf=er,I.sortedLastIndex=ra,I.sortedLastIndexBy=Zu,I.sortedLastIndexOf=im,I.startCase=m,I.startsWith=v,I.subtract=ux,I.sum=lx,I.sumBy=cx,I.template=b,I.times=$I,I.toFinite=la,I.toInteger=ot,I.toLength=Pm,I.toLower=M,I.toNumber=ei,I.toSafeInteger=py,I.toString=Bt,I.toUpper=z,I.trim=Y,I.trimEnd=fe,I.trimStart=Te,I.truncate=se,I.unescape=le,I.uniqueId=YI,I.upperCase=ke,I.upperFirst=Ze,I.each=jo,I.eachRight=bc,I.first=vc,Yv(I,function(){var u={};return vr(I,function(c,g){Ut.call(I.prototype,g)||(u[g]=c)}),u}(),{chain:!1}),I.VERSION=r,di(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){I[u].placeholder=I}),di(["drop","take"],function(u,c){rt.prototype[u]=function(g){g=g===t?1:Tt(ot(g),0);var E=this.__filtered__&&!c?new rt(this):this.clone();return E.__filtered__?E.__takeCount__=Xe(g,E.__takeCount__):E.__views__.push({size:Xe(g,L),type:u+(E.__dir__<0?"Right":"")}),E},rt.prototype[u+"Right"]=function(g){return this.reverse()[u](g).reverse()}}),di(["filter","map","takeWhile"],function(u,c){var g=c+1,E=g==zt||g==Ce;rt.prototype[u]=function(R){var V=this.clone();return V.__iteratees__.push({iteratee:Fe(R,3),type:g}),V.__filtered__=V.__filtered__||E,V}}),di(["head","last"],function(u,c){var g="take"+(c?"Right":"");rt.prototype[u]=function(){return this[g](1).value()[0]}}),di(["initial","tail"],function(u,c){var g="drop"+(c?"":"Right");rt.prototype[u]=function(){return this.__filtered__?new rt(this):this[g](1)}}),rt.prototype.compact=function(){return this.filter(Vt)},rt.prototype.find=function(u){return this.filter(u).head()},rt.prototype.findLast=function(u){return this.reverse().find(u)},rt.prototype.invokeMap=ut(function(u,c){return typeof u=="function"?new rt(this):this.map(function(g){return Nu(g,u,c)})}),rt.prototype.reject=function(u){return this.filter(ih(Fe(u)))},rt.prototype.slice=function(u,c){u=ot(u);var g=this;return g.__filtered__&&(u>0||c<0)?new rt(g):(u<0?g=g.takeRight(-u):u&&(g=g.drop(u)),c!==t&&(c=ot(c),g=c<0?g.dropRight(-c):g.take(c-u)),g)},rt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},rt.prototype.toArray=function(){return this.take(L)},vr(rt.prototype,function(u,c){var g=/^(?:filter|find|map|reject)|While$/.test(c),E=/^(?:head|last)$/.test(c),R=I[E?"take"+(c=="last"?"Right":""):c],V=E||/^find/.test(c);R&&(I.prototype[c]=function(){var F=this.__wrapped__,K=E?[1]:arguments,J=F instanceof rt,de=K[0],pe=J||tt(F),Ee=function(At){var Dt=R.apply(I,fr([At],K));return E&&De?Dt[0]:Dt};pe&&g&&typeof de=="function"&&de.length!=1&&(J=pe=!1);var De=this.__chain__,Be=!!this.__actions__.length,We=V&&!De,ht=J&&!Be;if(!V&&pe){F=ht?F:new rt(this);var Ye=u.apply(F,K);return Ye.__actions__.push({func:el,args:[Ee],thisArg:t}),new Ki(Ye,De)}return We&&ht?u.apply(this,K):(Ye=this.thru(Ee),We?E?Ye.value()[0]:Ye.value():Ye)})}),di(["pop","push","shift","sort","splice","unshift"],function(u){var c=Gl[u],g=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",E=/^(?:pop|shift)$/.test(u);I.prototype[u]=function(){var R=arguments;if(E&&!this.__chain__){var V=this.value();return c.apply(tt(V)?V:[],R)}return this[g](function(F){return c.apply(tt(F)?F:[],R)})}}),vr(rt.prototype,function(u,c){var g=I[c];if(g){var E=g.name+"";Ut.call(Da,E)||(Da[E]=[]),Da[E].push({name:c,func:g})}}),Da[lc(t,$).name]=[{name:"wrapper",func:t}],rt.prototype.clone=ag,rt.prototype.reverse=xu,rt.prototype.value=xf,I.prototype.at=$g,I.prototype.chain=_v,I.prototype.commit=aa,I.prototype.next=th,I.prototype.plant=tl,I.prototype.reverse=Wg,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=Yg,I.prototype.first=I.prototype.head,ls&&(I.prototype[ls]=cm),I},Or=rv();Fn?((Fn.exports=Or)._=Or,zs._=Or):Wt._=Or}).call(A9)}(tp,tp.exports)),tp.exports}var S9=w9();const ky=20,b9=()=>{const n=X.useRef(null),e=X.useRef(null),[t,r]=X.useState({coins:0,balance:0}),[a,l]=X.useState(0),[h,p]=X.useState(!1),[y,_]=X.useState(null),[A,w]=X.useState(null),[C,N]=X.useState(!0),U=I_();X.useEffect(()=>{const D=wE(nC(),async O=>{if(O){w(O),_(O.uid);try{const[k,G]=await Promise.all([rC(O.uid),GL(O.uid)]);r({balance:k,coins:G})}catch(k){console.error("Ошибка загрузки данных:",k)}finally{N(!1)}}else U("/auth")});return()=>D()},[U]),X.useEffect(()=>{if(!y)return;const D=setInterval(()=>{r(O=>{const k=Math.max(O.coins-1,0);return Ww(y,k),{...O,coins:k}})},3e4);return()=>clearInterval(D)},[y]);const j=X.useCallback(()=>{const D=n.current;D&&(D.width=window.innerWidth*.9,D.height=window.innerHeight*.6,B())},[]),B=X.useCallback(()=>{const D=n.current,O=e.current;D&&O&&(O.fillStyle="gray",O.fillRect(0,0,D.width,D.height))},[]),$=X.useCallback((D,O)=>{const k=n.current,G=e.current;k&&G&&(G.globalCompositeOperation="destination-out",G.beginPath(),G.arc(D,O,40,0,Math.PI*2),G.fill(),G.globalCompositeOperation="source-over")},[]),re=X.useCallback(()=>{const D=n.current,O=e.current;if(D&&O){const G=O.getImageData(0,0,D.width,D.height).data;let Z=0;for(let H=3;H<G.length;H+=4)G[H]===0&&Z++;return Z/(D.width*D.height)*100}return 0},[]),ne=X.useCallback(()=>{E9({particleCount:150,angle:0,spread:360,origin:{x:.5,y:.5}})},[]),Ae=X.useCallback(D=>{p(!0);const{clientX:O,clientY:k}=D.touches?D.touches[0]:D,G=n.current.getBoundingClientRect();$(O-G.left,k-G.top)},[$]),ce=X.useCallback(D=>{if(h){const{clientX:O,clientY:k}=D.touches?D.touches[0]:D,G=n.current.getBoundingClientRect();$(O-G.left,k-G.top);const Z=re();if(l(Z),Z>=80&&t.coins<ky){const H=Math.min(t.coins+1,ky);H!==t.coins&&(r(zt=>({...zt,coins:H,balance:zt.balance+1})),Ww(y,H),jL(y,t.balance+1),ne())}}},[h,$,re,y,t,ne]),be=X.useCallback(()=>{p(!1)},[]),q=X.useCallback(S9.debounce(j,200),[j]);return X.useEffect(()=>{const D=n.current;if(!D)return;const O=D.getContext("2d");if(O)return e.current=O,j(),D.addEventListener("mousedown",Ae),D.addEventListener("mousemove",ce),D.addEventListener("mouseup",be),D.addEventListener("touchstart",Ae),D.addEventListener("touchmove",ce),D.addEventListener("touchend",be),window.addEventListener("resize",q),()=>{D.removeEventListener("mousedown",Ae),D.removeEventListener("mousemove",ce),D.removeEventListener("mouseup",be),D.removeEventListener("touchstart",Ae),D.removeEventListener("touchmove",ce),D.removeEventListener("touchend",be),window.removeEventListener("resize",q)}},[Ae,ce,be,j,q]),C?Ie.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:Ie.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})}):Ie.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gray-50",children:[Ie.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6 text-center",children:"Заработайте PencilCoins, стирая!"}),Ie.jsxs("p",{className:"text-xl mb-4 text-gray-800",children:["Ваши монеты: ",t.balance]}),Ie.jsxs("p",{className:"text-xl mb-4 text-gray-800",children:["Доступные монеты: ",Math.max(ky-t.coins,0)," / ",ky]}),Ie.jsx("div",{className:"w-1/3 bg-gray-200 rounded-full h-4 mb-4 inline-block",children:Ie.jsx("div",{className:"bg-yellow-400 h-4 rounded-full",style:{width:`${Math.min(a*1.25,100)}%`}})}),Ie.jsxs("p",{className:"text-xl mb-4 text-gray-800",children:["Прогресс: ",Math.min((a*1.25).toFixed(2),100),"% / 100%"]}),Ie.jsx("canvas",{ref:n,className:"border border-black bg-gray-300",style:{width:"90%",height:"60%"}})]})},R9=()=>Ie.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[Ie.jsx("h2",{className:"text-4xl font-bold text-center",children:Ie.jsx(ml,{to:"/PCoin/",children:"Eror 404! Страница не найдена."})}),Ie.jsx("p",{className:"mt-2 text-lg",children:Ie.jsx(ml,{to:"/PCoin/",children:"Перейти на главную страницу"})})]}),C9=()=>Ie.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[Ie.jsxs("nav",{className:"p-4 bg-gray-800 flex justify-between items-center px-4 sm:px-10",children:[Ie.jsx("h1",{className:"text-xl font-bold sm:block",children:Ie.jsx("img",{src:"logot.png",alt:"logo",className:"h-6"})}),Ie.jsxs("div",{className:"flex space-x-6",children:[Ie.jsxs(ml,{to:"/mining",className:"flex items-center hover:text-yellow-400 transform transition-transform hover:scale-105",children:[Ie.jsx("img",{src:"swipe.png",className:"w-6 h-6 rounded-full transition-transform duration-300 filter invert",alt:"Get Coins Icon"}),Ie.jsx("span",{className:"ml-2 hidden sm:block",children:"Get Coins"})]}),Ie.jsxs(ml,{to:"/",className:"flex items-center hover:text-yellow-400 transform transition-transform hover:scale-105",children:[Ie.jsx("img",{src:"home.png",className:"w-6 h-6 rounded-full transition-transform duration-300 filter invert",alt:"Home Icon"}),Ie.jsx("span",{className:"ml-2 hidden sm:block",children:"Home"})]}),Ie.jsxs(ml,{to:"/profile",className:"flex items-center hover:text-yellow-400 transform transition-transform hover:scale-105",children:[Ie.jsx("img",{src:"profile.png",className:"w-6 h-6 rounded-full transition-transform duration-300 filter invert",alt:"Profile Icon"}),Ie.jsx("span",{className:"ml-2 hidden sm:block",children:"Profile"})]})]})]}),Ie.jsx("main",{className:"flex-grow",children:Ie.jsxs(dD,{children:[Ie.jsx(Ah,{path:"/",element:Ie.jsx(WD,{})}),Ie.jsx(Ah,{path:"/profile",element:Ie.jsx(v9,{})}),Ie.jsx(Ah,{path:"/auth",element:Ie.jsx(T9,{})}),Ie.jsx(Ah,{path:"/mining",element:Ie.jsx(b9,{})}),Ie.jsx(Ah,{path:"*",element:Ie.jsx(R9,{})})]})})]});wx.createRoot(document.getElementById("root")).render(Ie.jsx(px.StrictMode,{children:Ie.jsx(UD,{children:Ie.jsx(C9,{})})}))});export default I9();
