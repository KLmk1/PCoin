(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Jv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bd={exports:{}},fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function lS(){if(p_)return fo;p_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return fo.Fragment=e,fo.jsx=n,fo.jsxs=n,fo}var y_;function oS(){return y_||(y_=1,bd.exports=lS()),bd.exports}var Re=oS(),wd={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function uS(){if(__)return we;__=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,K={};function H(O,ee,ce){this.props=O,this.context=ee,this.refs=K,this.updater=ce||x}H.prototype.isReactComponent={},H.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=H.prototype;function W(O,ee,ce){this.props=O,this.context=ee,this.refs=K,this.updater=ce||x}var ie=W.prototype=new X;ie.constructor=W,z(ie,H.prototype),ie.isPureReactComponent=!0;var pe=Array.isArray,oe={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function M(O,ee,ce,re,se,Ce){return ce=Ce.ref,{$$typeof:r,type:O,key:ee,ref:ce!==void 0?ce:null,props:Ce}}function w(O,ee){return M(O.type,ee,void 0,void 0,void 0,O.props)}function S(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function I(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return ee[ce]})}var V=/\/+/g;function L(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):ee.toString(36)}function D(){}function _t(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ht(O,ee,ce,re,se){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(Ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case r:case e:be=!0;break;case E:return be=O._init,ht(be(O._payload),ee,ce,re,se)}}if(be)return se=se(O),be=re===""?"."+L(O,0):re,pe(se)?(ce="",be!=null&&(ce=be.replace(V,"$&/")+"/"),ht(se,ee,ce,"",function(nt){return nt})):se!=null&&(S(se)&&(se=w(se,ce+(se.key==null||O&&O.key===se.key?"":(""+se.key).replace(V,"$&/")+"/")+be)),ee.push(se)),1;be=0;var ft=re===""?".":re+":";if(pe(O))for(var ze=0;ze<O.length;ze++)re=O[ze],Ce=ft+L(re,ze),be+=ht(re,ee,ce,Ce,se);else if(ze=C(O),typeof ze=="function")for(O=ze.call(O),ze=0;!(re=O.next()).done;)re=re.value,Ce=ft+L(re,ze++),be+=ht(re,ee,ce,Ce,se);else if(Ce==="object"){if(typeof O.then=="function")return ht(_t(O),ee,ce,re,se);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return be}function ne(O,ee,ce){if(O==null)return O;var re=[],se=0;return ht(O,re,"","",function(Ce){return ee.call(ce,Ce,se++)}),re}function ye(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var fe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qe(){}return we.Children={map:ne,forEach:function(O,ee,ce){ne(O,function(){ee.apply(this,arguments)},ce)},count:function(O){var ee=0;return ne(O,function(){ee++}),ee},toArray:function(O){return ne(O,function(ee){return ee})||[]},only:function(O){if(!S(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},we.Component=H,we.Fragment=n,we.Profiler=l,we.PureComponent=W,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,we.act=function(){throw Error("act(...) is not supported in production builds of React.")},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cloneElement=function(O,ee,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=z({},O.props),se=O.key,Ce=void 0;if(ee!=null)for(be in ee.ref!==void 0&&(Ce=void 0),ee.key!==void 0&&(se=""+ee.key),ee)!Se.call(ee,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ee.ref===void 0||(re[be]=ee[be]);var be=arguments.length-2;if(be===1)re.children=ce;else if(1<be){for(var ft=Array(be),ze=0;ze<be;ze++)ft[ze]=arguments[ze+2];re.children=ft}return M(O.type,se,void 0,void 0,Ce,re)},we.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},we.createElement=function(O,ee,ce){var re,se={},Ce=null;if(ee!=null)for(re in ee.key!==void 0&&(Ce=""+ee.key),ee)Se.call(ee,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(se[re]=ee[re]);var be=arguments.length-2;if(be===1)se.children=ce;else if(1<be){for(var ft=Array(be),ze=0;ze<be;ze++)ft[ze]=arguments[ze+2];se.children=ft}if(O&&O.defaultProps)for(re in be=O.defaultProps,be)se[re]===void 0&&(se[re]=be[re]);return M(O,Ce,void 0,void 0,null,se)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:m,render:O}},we.isValidElement=S,we.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ye}},we.memo=function(O,ee){return{$$typeof:y,type:O,compare:ee===void 0?null:ee}},we.startTransition=function(O){var ee=oe.T,ce={};oe.T=ce;try{var re=O(),se=oe.S;se!==null&&se(ce,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(qe,fe)}catch(Ce){fe(Ce)}finally{oe.T=ee}},we.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},we.use=function(O){return oe.H.use(O)},we.useActionState=function(O,ee,ce){return oe.H.useActionState(O,ee,ce)},we.useCallback=function(O,ee){return oe.H.useCallback(O,ee)},we.useContext=function(O){return oe.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,ee){return oe.H.useDeferredValue(O,ee)},we.useEffect=function(O,ee){return oe.H.useEffect(O,ee)},we.useId=function(){return oe.H.useId()},we.useImperativeHandle=function(O,ee,ce){return oe.H.useImperativeHandle(O,ee,ce)},we.useInsertionEffect=function(O,ee){return oe.H.useInsertionEffect(O,ee)},we.useLayoutEffect=function(O,ee){return oe.H.useLayoutEffect(O,ee)},we.useMemo=function(O,ee){return oe.H.useMemo(O,ee)},we.useOptimistic=function(O,ee){return oe.H.useOptimistic(O,ee)},we.useReducer=function(O,ee,ce){return oe.H.useReducer(O,ee,ce)},we.useRef=function(O){return oe.H.useRef(O)},we.useState=function(O){return oe.H.useState(O)},we.useSyncExternalStore=function(O,ee,ce){return oe.H.useSyncExternalStore(O,ee,ce)},we.useTransition=function(){return oe.H.useTransition()},we.version="19.0.0",we}var v_;function gm(){return v_||(v_=1,wd.exports=uS()),wd.exports}var Q=gm();const cS=Jv(Q);var Rd={exports:{}},mo={},Cd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function hS(){return E_||(E_=1,function(r){function e(ne,ye){var fe=ne.length;ne.push(ye);e:for(;0<fe;){var qe=fe-1>>>1,O=ne[qe];if(0<l(O,ye))ne[qe]=ye,ne[fe]=O,fe=qe;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var ye=ne[0],fe=ne.pop();if(fe!==ye){ne[0]=fe;e:for(var qe=0,O=ne.length,ee=O>>>1;qe<ee;){var ce=2*(qe+1)-1,re=ne[ce],se=ce+1,Ce=ne[se];if(0>l(re,fe))se<O&&0>l(Ce,re)?(ne[qe]=Ce,ne[se]=fe,qe=se):(ne[qe]=re,ne[ce]=fe,qe=ce);else if(se<O&&0>l(Ce,fe))ne[qe]=Ce,ne[se]=fe,qe=se;else break e}}return ye}function l(ne,ye){var fe=ne.sortIndex-ye.sortIndex;return fe!==0?fe:ne.id-ye.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,C=3,x=!1,z=!1,K=!1,H=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ie(ne){for(var ye=n(y);ye!==null;){if(ye.callback===null)s(y);else if(ye.startTime<=ne)s(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=n(y)}}function pe(ne){if(K=!1,ie(ne),!z)if(n(p)!==null)z=!0,_t();else{var ye=n(y);ye!==null&&ht(pe,ye.startTime-ne)}}var oe=!1,Se=-1,M=5,w=-1;function S(){return!(r.unstable_now()-w<M)}function I(){if(oe){var ne=r.unstable_now();w=ne;var ye=!0;try{e:{z=!1,K&&(K=!1,X(Se),Se=-1),x=!0;var fe=C;try{t:{for(ie(ne),b=n(p);b!==null&&!(b.expirationTime>ne&&S());){var qe=b.callback;if(typeof qe=="function"){b.callback=null,C=b.priorityLevel;var O=qe(b.expirationTime<=ne);if(ne=r.unstable_now(),typeof O=="function"){b.callback=O,ie(ne),ye=!0;break t}b===n(p)&&s(p),ie(ne)}else s(p);b=n(p)}if(b!==null)ye=!0;else{var ee=n(y);ee!==null&&ht(pe,ee.startTime-ne),ye=!1}}break e}finally{b=null,C=fe,x=!1}ye=void 0}}finally{ye?V():oe=!1}}}var V;if(typeof W=="function")V=function(){W(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,D=L.port2;L.port1.onmessage=I,V=function(){D.postMessage(null)}}else V=function(){H(I,0)};function _t(){oe||(oe=!0,V())}function ht(ne,ye){Se=H(function(){ne(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){z||x||(z=!0,_t())},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ne){switch(C){case 1:case 2:case 3:var ye=3;break;default:ye=C}var fe=C;C=ye;try{return ne()}finally{C=fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,ye){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var fe=C;C=ne;try{return ye()}finally{C=fe}},r.unstable_scheduleCallback=function(ne,ye,fe){var qe=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?qe+fe:qe):fe=qe,ne){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=fe+O,ne={id:E++,callback:ye,priorityLevel:ne,startTime:fe,expirationTime:O,sortIndex:-1},fe>qe?(ne.sortIndex=fe,e(y,ne),n(p)===null&&ne===n(y)&&(K?(X(Se),Se=-1):K=!0,ht(pe,fe-qe))):(ne.sortIndex=O,e(p,ne),z||x||(z=!0,_t())),ne},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(ne){var ye=C;return function(){var fe=C;C=ye;try{return ne.apply(this,arguments)}finally{C=fe}}}}(Id)),Id}var T_;function fS(){return T_||(T_=1,Cd.exports=hS()),Cd.exports}var Dd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function dS(){if(A_)return Gt;A_=1;var r=gm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Gt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:C,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Gt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,y){return p(y)},Gt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.0.0",Gt}var S_;function mS(){if(S_)return Dd.exports;S_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dd.exports=dS(),Dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function gS(){if(b_)return mo;b_=1;var r=fS(),e=gm(),n=mS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),x=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function Se(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return i=t.displayName||null,i!==null?i:w(t.type)||"Memo";case W:i=t._payload,t=t._init;try{return w(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,L;function D(t){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",L=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+L}var _t=!1;function ht(t,i){if(!t||_t)return"";_t=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var j=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){j=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){j=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),k=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var G=`
`+R[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{_t=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function ne(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=ht(t.type,!1),t;case 11:return t=ht(t.type.render,!1),t;case 1:return t=ht(t.type,!0),t;default:return""}}function ye(t){try{var i="";do i+=ne(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fe(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function qe(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function O(t){if(fe(t)!==t)throw Error(s(188))}function ee(t){var i=t.alternate;if(!i){if(i=fe(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===o)return O(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function ce(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=ce(t),i!==null)return i;t=t.sibling}return null}var re=Array.isArray,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},be=[],ft=-1;function ze(t){return{current:t}}function nt(t){0>ft||(t.current=be[ft],be[ft]=null,ft--)}function Qe(t,i){ft++,be[ft]=t.current,t.current=i}var Xt=ze(null),gi=ze(null),_n=ze(null),Ji=ze(null);function er(t,i){switch(Qe(_n,i),Qe(gi,t),Qe(Xt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Gy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Gy(t),i=Qy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(Xt),Qe(Xt,i)}function pi(){nt(Xt),nt(gi),nt(_n)}function ll(t){t.memoizedState!==null&&Qe(Ji,t);var i=Xt.current,a=Qy(i,t.type);i!==a&&(Qe(gi,t),Qe(Xt,a))}function Gs(t){gi.current===t&&(nt(Xt),nt(gi)),Ji.current===t&&(nt(Ji),lo._currentValue=Ce)}var Qs=Object.prototype.hasOwnProperty,ts=r.unstable_scheduleCallback,Ks=r.unstable_cancelCallback,wh=r.unstable_shouldYield,ol=r.unstable_requestPaint,rn=r.unstable_now,Ko=r.unstable_getCurrentPriorityLevel,vt=r.unstable_ImmediatePriority,It=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,Yo=r.unstable_LowPriority,ul=r.unstable_IdlePriority,Rh=r.log,ns=r.unstable_setDisableYieldValue,tr=null,qt=null;function cl(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(tr,t,void 0,(t.current.flags&128)===128)}catch{}}function Fn(t){if(typeof Rh=="function"&&ns(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(tr,t)}catch{}}var Wt=Math.clz32?Math.clz32:Xo,hl=Math.log,$o=Math.LN2;function Xo(t){return t>>>=0,t===0?32:31-(hl(t)/$o|0)|0}var Gn=128,nr=4194304;function kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vn(t,i){var a=t.pendingLanes;if(a===0)return 0;var o=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?o=kn(a):(d&=T,d!==0?o=kn(d):t||(v=T&~v,v!==0&&(o=kn(v))))):(T=a&~h,T!==0?o=kn(T):d!==0?o=kn(d):t||(v=a&~v,v!==0&&(o=kn(v)))),o===0?0:i!==0&&i!==o&&!(i&h)&&(h=o&-o,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:o}function ir(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ys(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(){var t=Gn;return Gn<<=1,!(Gn&4194176)&&(Gn=128),t}function rr(){var t=nr;return nr<<=1,!(nr&62914560)&&(nr=4194304),t}function $s(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ot(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wo(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,k=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Wt(a),Z=1<<G;T[G]=0,R[G]=-1;var j=k[G];if(j!==null)for(k[G]=null,G=0;G<j.length;G++){var F=j[G];F!==null&&(F.lane&=-536870913)}a&=~Z}o!==0&&sr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Wt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function ar(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Wt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Zo(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Jo(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:c_(t.type))}function lr(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Qn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Qn,Et="__reactProps$"+Qn,_i="__reactContainer$"+Qn,is="__reactEvents$"+Qn,Xs="__reactListeners$"+Qn,Kn="__reactHandles$"+Qn,dl="__reactResources$"+Qn,or="__reactMarker$"+Qn;function rs(t){delete t[Dt],delete t[Et],delete t[is],delete t[Xs],delete t[Kn]}function Pn(t){var i=t[Dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_i]||a[Dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=$y(t);t!==null;){if(a=t[Dt])return a;t=$y(t)}return i}t=a,a=t.parentNode}return null}function vi(t){if(t=t[Dt]||t[_i]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ur(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function cr(t){var i=t[dl];return i||(i=t[dl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(t){t[or]=!0}var ml=new Set,Ws={};function un(t,i){sn(t,i),sn(t+"Capture",i)}function sn(t,i){for(Ws[t]=i,t=0;t<i.length;t++)ml.add(i[t])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ch=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},pl={};function eu(t){return Qs.call(pl,t)?!0:Qs.call(gl,t)?!1:Ch.test(t)?pl[t]=!0:(gl[t]=!0,!1)}function hr(t,i,a){if(eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function fr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function En(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ih(t){var i=tu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ss(t){t._valueTracker||(t._valueTracker=Ih(t))}function yl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=tu(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ei=/[\n"\\]/g;function it(t){return t.replace(Ei,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function dr(t,i,a,o,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Js(t,v,Zt(i)):a!=null?Js(t,v,Zt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function as(t,i,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Js(t,i,a){i==="number"&&Zs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Be(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ls(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function mr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Dh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function nu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&_l(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&_l(t,d,i[d])}function vl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(t){return Nh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var An=null;function ea(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ti=null,Ai=null;function Si(t){var i=vi(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(dr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+it(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Et]||null;if(!h)throw Error(s(90));dr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&yl(o)}break e;case"textarea":ls(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Be(t,!!a.multiple,i,!1)}}}var El=!1;function iu(t,i,a){if(El)return t(i,a);El=!0;try{var o=t(i);return o}finally{if(El=!1,(Ti!==null||Ai!==null)&&(Yu(),Ti&&(i=Ti,t=Ai,Ai=Ti=null,Si(i),t)))for(i=0;i<t.length;i++)Si(t[i])}}function os(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Et]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Sn=!1;if(cn)try{var us={};Object.defineProperty(us,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Sn=!1}var $n=null,gr=null,bi=null;function Tl(){if(bi)return bi;var t,i=gr,a=i.length,o,h="value"in $n?$n.value:$n.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return bi=h.slice(t,1<o?1-o:void 0)}function Xn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Al(){return!1}function Ot(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Al,this.isPropagationStopped=Al,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Ot(Fe),cs=I({},Fe,{view:0,detail:0}),ru=Ot(cs),na,ia,Zn,hs=I({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(na=t.screenX-Zn.screenX,ia=t.screenY-Zn.screenY):ia=na=0,Zn=t),na)},movementY:function(t){return"movementY"in t?t.movementY:ia}}),bn=Ot(hs),su=I({},hs,{dataTransfer:0}),Mh=Ot(su),fs=I({},cs,{relatedTarget:0}),ra=Ot(fs),Sl=I({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=Ot(Sl),au=I({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aa=Ot(au),Vh=I({},Fe,{data:0}),bl=Ot(Vh),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ou[t])?!!i[t]:!1}function ms(){return wl}var uu=I({},cs,{key:function(t){if(t.key){var i=ds[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(t){return t.type==="keypress"?Xn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),la=Ot(uu),cu=I({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Ot(cu),wi=I({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),hu=Ot(wi),fu=I({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=Ot(fu),mu=I({},hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=Ot(mu),Jt=I({},Fe,{newState:0,oldState:0}),gu=Ot(Jt),pu=[9,13,27,32],Jn=cn&&"CompositionEvent"in window,c=null;cn&&"documentMode"in document&&(c=document.documentMode);var g=cn&&"TextEvent"in window&&!c,_=cn&&(!Jn||c&&8<c&&11>=c),A=" ",U=!1;function q(t,i){switch(t){case"keyup":return pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function te(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function Tt(t,i){switch(t){case"compositionend":return te(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function Pe(t,i){if(ke)return t==="compositionend"||!Jn&&q(t,i)?(t=Tl(),bi=gr=$n=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Nt[t.type]:i==="textarea"}function Ri(t,i,a,o){Ti?Ai?Ai.push(o):Ai=[o]:Ti=o,i=Ju(i,"onChange"),0<i.length&&(a=new ta("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Pt=null,ei=null;function Cl(t){By(t,0)}function yu(t){var i=ur(t);if(yl(i))return t}function gg(t,i){if(t==="change")return i}var pg=!1;if(cn){var xh;if(cn){var kh="oninput"in document;if(!kh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),kh=typeof yg.oninput=="function"}xh=kh}else xh=!1;pg=xh&&(!document.documentMode||9<document.documentMode)}function _g(){Pt&&(Pt.detachEvent("onpropertychange",vg),ei=Pt=null)}function vg(t){if(t.propertyName==="value"&&yu(ei)){var i=[];Ri(i,ei,t,ea(t)),iu(Cl,i)}}function U0(t,i,a){t==="focusin"?(_g(),Pt=i,ei=a,Pt.attachEvent("onpropertychange",vg)):t==="focusout"&&_g()}function L0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(ei)}function z0(t,i){if(t==="click")return yu(i)}function B0(t,i){if(t==="input"||t==="change")return yu(i)}function H0(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:H0;function Il(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Qs.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,i){var a=Eg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function Ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Zs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Zs(t.document)}return i}function Ph(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function j0(t,i){var a=Sg(i);i=t.focusedElem;var o=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Ag(i.ownerDocument.documentElement,i)){if(o!==null&&Ph(i)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!a.extend&&d>o&&(h=o,o=d,d=h),h=Tg(i,d);var v=Tg(i,o);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>o?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var q0=cn&&"documentMode"in document&&11>=document.documentMode,ua=null,Uh=null,Dl=null,Lh=!1;function bg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lh||ua==null||ua!==Zs(o)||(o=ua,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Dl&&Il(Dl,o)||(Dl=o,o=Ju(Uh,"onSelect"),0<o.length&&(i=new ta("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ua)))}function gs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ca={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},zh={},wg={};cn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function ps(t){if(zh[t])return zh[t];if(!ca[t])return t;var i=ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in wg)return zh[t]=i[a];return t}var Rg=ps("animationend"),Cg=ps("animationiteration"),Ig=ps("animationstart"),F0=ps("transitionrun"),G0=ps("transitionstart"),Q0=ps("transitioncancel"),Dg=ps("transitionend"),Og=new Map,Ng="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(t,i){Og.set(t,i),un(i,[t])}var wn=[],ha=0,Bh=0;function _u(){for(var t=ha,i=Bh=ha=0;i<t;){var a=wn[i];wn[i++]=null;var o=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Mg(a,h,d)}}function vu(t,i,a,o){wn[ha++]=t,wn[ha++]=i,wn[ha++]=a,wn[ha++]=o,Bh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Hh(t,i,a,o){return vu(t,i,a,o),Eu(t)}function pr(t,i){return vu(t,null,null,i),Eu(t)}function Mg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Wt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Eu(t){if(50<eo)throw eo=0,Yf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var fa={},Vg=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ye(i)},Vg.set(t,i),i)}return{value:t,source:i,stack:ye(i)}}var da=[],ma=0,Tu=null,Au=0,Cn=[],In=0,ys=null,Ci=1,Ii="";function _s(t,i){da[ma++]=Au,da[ma++]=Tu,Tu=t,Au=i}function xg(t,i,a){Cn[In++]=Ci,Cn[In++]=Ii,Cn[In++]=ys,ys=t;var o=Ci;t=Ii;var h=32-Wt(o)-1;o&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ci=1<<32-Wt(i)+h|a<<h|o,Ii=d+t}else Ci=1<<d|a<<h|o,Ii=t}function jh(t){t.return!==null&&(_s(t,1),xg(t,1,0))}function qh(t){for(;t===Tu;)Tu=da[--ma],da[ma]=null,Au=da[--ma],da[ma]=null;for(;t===ys;)ys=Cn[--In],Cn[In]=null,Ii=Cn[--In],Cn[In]=null,Ci=Cn[--In],Cn[In]=null}var en=null,Ut=null,He=!1,Ln=null,ti=!1,Fh=Error(s(519));function vs(t){var i=Error(s(418,""));throw Ml(Rn(i,t)),Fh}function kg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Dt]=t,i[Et]=o,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<no.length;a++)xe(no[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),as(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ss(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),mr(i,o.value,o.defaultValue,o.children),ss(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Fy(i.textContent,a)?(o.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),o.onScroll!=null&&xe("scroll",i),o.onScrollEnd!=null&&xe("scrollend",i),o.onClick!=null&&(i.onclick=ec),i=!0):i=!1,i||vs(t)}function Pg(t){for(en=t.return;en;)switch(en.tag){case 3:case 27:ti=!0;return;case 5:case 13:ti=!1;return;default:en=en.return}}function Ol(t){if(t!==en)return!1;if(!He)return Pg(t),He=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||hd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Ut&&vs(t),Pg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ut=Bn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ut=null}}else Ut=en?Bn(t.stateNode.nextSibling):null;return!0}function Nl(){Ut=en=null,He=!1}function Ml(t){Ln===null?Ln=[t]:Ln.push(t)}var Vl=Error(s(460)),Ug=Error(s(474)),Gh={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Su(){}function zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Su,Su),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Vl?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Su,Su);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Vl?Error(s(483)):t}throw xl=i,Vl}}var xl=null;function Bg(){if(xl===null)throw Error(s(459));var t=xl;return xl=null,t}var ga=null,kl=0;function bu(t){var i=kl;return kl+=1,ga===null&&(ga=[]),zg(ga,t,i)}function Pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function wu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hg(t){var i=t._init;return i(t._payload)}function jg(t){function i(P,N){if(t){var B=P.deletions;B===null?(P.deletions=[N],P.flags|=16):B.push(N)}}function a(P,N){if(!t)return null;for(;N!==null;)i(P,N),N=N.sibling;return null}function o(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function h(P,N){return P=Ir(P,N),P.index=0,P.sibling=null,P}function d(P,N,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<N?(P.flags|=33554434,N):B):(P.flags|=33554434,N)):(P.flags|=1048576,N)}function v(P){return t&&P.alternate===null&&(P.flags|=33554434),P}function T(P,N,B,Y){return N===null||N.tag!==6?(N=Bf(B,P.mode,Y),N.return=P,N):(N=h(N,B),N.return=P,N)}function R(P,N,B,Y){var le=B.type;return le===p?G(P,N,B.props.children,Y,B.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===W&&Hg(le)===N.type)?(N=h(N,B.props),Pl(N,B),N.return=P,N):(N=qu(B.type,B.key,B.props,null,P.mode,Y),Pl(N,B),N.return=P,N)}function k(P,N,B,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Hf(B,P.mode,Y),N.return=P,N):(N=h(N,B.children||[]),N.return=P,N)}function G(P,N,B,Y,le){return N===null||N.tag!==7?(N=Ds(B,P.mode,Y,le),N.return=P,N):(N=h(N,B),N.return=P,N)}function Z(P,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Bf(""+N,P.mode,B),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return B=qu(N.type,N.key,N.props,null,P.mode,B),Pl(B,N),B.return=P,B;case m:return N=Hf(N,P.mode,B),N.return=P,N;case W:var Y=N._init;return N=Y(N._payload),Z(P,N,B)}if(re(N)||Se(N))return N=Ds(N,P.mode,B,null),N.return=P,N;if(typeof N.then=="function")return Z(P,bu(N),B);if(N.$$typeof===x)return Z(P,Bu(P,N),B);wu(P,N)}return null}function j(P,N,B,Y){var le=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return le!==null?null:T(P,N,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===le?R(P,N,B,Y):null;case m:return B.key===le?k(P,N,B,Y):null;case W:return le=B._init,B=le(B._payload),j(P,N,B,Y)}if(re(B)||Se(B))return le!==null?null:G(P,N,B,Y,null);if(typeof B.then=="function")return j(P,N,bu(B),Y);if(B.$$typeof===x)return j(P,N,Bu(P,B),Y);wu(P,B)}return null}function F(P,N,B,Y,le){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(B)||null,T(N,P,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case f:return P=P.get(Y.key===null?B:Y.key)||null,R(N,P,Y,le);case m:return P=P.get(Y.key===null?B:Y.key)||null,k(N,P,Y,le);case W:var De=Y._init;return Y=De(Y._payload),F(P,N,B,Y,le)}if(re(Y)||Se(Y))return P=P.get(B)||null,G(N,P,Y,le,null);if(typeof Y.then=="function")return F(P,N,B,bu(Y),le);if(Y.$$typeof===x)return F(P,N,B,Bu(N,Y),le);wu(N,Y)}return null}function ue(P,N,B,Y){for(var le=null,De=null,he=N,ge=N=0,xt=null;he!==null&&ge<B.length;ge++){he.index>ge?(xt=he,he=null):xt=he.sibling;var je=j(P,he,B[ge],Y);if(je===null){he===null&&(he=xt);break}t&&he&&je.alternate===null&&i(P,he),N=d(je,N,ge),De===null?le=je:De.sibling=je,De=je,he=xt}if(ge===B.length)return a(P,he),He&&_s(P,ge),le;if(he===null){for(;ge<B.length;ge++)he=Z(P,B[ge],Y),he!==null&&(N=d(he,N,ge),De===null?le=he:De.sibling=he,De=he);return He&&_s(P,ge),le}for(he=o(he);ge<B.length;ge++)xt=F(he,P,ge,B[ge],Y),xt!==null&&(t&&xt.alternate!==null&&he.delete(xt.key===null?ge:xt.key),N=d(xt,N,ge),De===null?le=xt:De.sibling=xt,De=xt);return t&&he.forEach(function(kr){return i(P,kr)}),He&&_s(P,ge),le}function Te(P,N,B,Y){if(B==null)throw Error(s(151));for(var le=null,De=null,he=N,ge=N=0,xt=null,je=B.next();he!==null&&!je.done;ge++,je=B.next()){he.index>ge?(xt=he,he=null):xt=he.sibling;var kr=j(P,he,je.value,Y);if(kr===null){he===null&&(he=xt);break}t&&he&&kr.alternate===null&&i(P,he),N=d(kr,N,ge),De===null?le=kr:De.sibling=kr,De=kr,he=xt}if(je.done)return a(P,he),He&&_s(P,ge),le;if(he===null){for(;!je.done;ge++,je=B.next())je=Z(P,je.value,Y),je!==null&&(N=d(je,N,ge),De===null?le=je:De.sibling=je,De=je);return He&&_s(P,ge),le}for(he=o(he);!je.done;ge++,je=B.next())je=F(he,P,ge,je.value,Y),je!==null&&(t&&je.alternate!==null&&he.delete(je.key===null?ge:je.key),N=d(je,N,ge),De===null?le=je:De.sibling=je,De=je);return t&&he.forEach(function(aS){return i(P,aS)}),He&&_s(P,ge),le}function at(P,N,B,Y){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var le=B.key;N!==null;){if(N.key===le){if(le=B.type,le===p){if(N.tag===7){a(P,N.sibling),Y=h(N,B.props.children),Y.return=P,P=Y;break e}}else if(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===W&&Hg(le)===N.type){a(P,N.sibling),Y=h(N,B.props),Pl(Y,B),Y.return=P,P=Y;break e}a(P,N);break}else i(P,N);N=N.sibling}B.type===p?(Y=Ds(B.props.children,P.mode,Y,B.key),Y.return=P,P=Y):(Y=qu(B.type,B.key,B.props,null,P.mode,Y),Pl(Y,B),Y.return=P,P=Y)}return v(P);case m:e:{for(le=B.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(P,N.sibling),Y=h(N,B.children||[]),Y.return=P,P=Y;break e}else{a(P,N);break}else i(P,N);N=N.sibling}Y=Hf(B,P.mode,Y),Y.return=P,P=Y}return v(P);case W:return le=B._init,B=le(B._payload),at(P,N,B,Y)}if(re(B))return ue(P,N,B,Y);if(Se(B)){if(le=Se(B),typeof le!="function")throw Error(s(150));return B=le.call(B),Te(P,N,B,Y)}if(typeof B.then=="function")return at(P,N,bu(B),Y);if(B.$$typeof===x)return at(P,N,Bu(P,B),Y);wu(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(P,N.sibling),Y=h(N,B),Y.return=P,P=Y):(a(P,N),Y=Bf(B,P.mode,Y),Y.return=P,P=Y),v(P)):a(P,N)}return function(P,N,B,Y){try{kl=0;var le=at(P,N,B,Y);return ga=null,le}catch(he){if(he===Vl)throw he;var De=Mn(29,he,null,P.mode);return De.lanes=Y,De.return=P,De}finally{}}}var Es=jg(!0),qg=jg(!1),pa=ze(null),Ru=ze(0);function Fg(t,i){t=zi,Qe(Ru,t),Qe(pa,i),zi=t|i.baseLanes}function Qh(){Qe(Ru,zi),Qe(pa,pa.current)}function Kh(){zi=Ru.current,nt(pa),nt(Ru)}var Dn=ze(null),ni=null;function yr(t){var i=t.alternate;Qe(St,St.current&1),Qe(Dn,t),ni===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ni=t)}function Gg(t){if(t.tag===22){if(Qe(St,St.current),Qe(Dn,t),ni===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ni=t)}}else _r()}function _r(){Qe(St,St.current),Qe(Dn,Dn.current)}function Di(t){nt(Dn),ni===t&&(ni=null),nt(St)}var St=ze(0);function Cu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var K0=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Y0=r.unstable_scheduleCallback,$0=r.unstable_NormalPriority,bt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new K0,data:new Map,refCount:0}}function Ul(t){t.refCount--,t.refCount===0&&Y0($0,function(){t.controller.abort()})}var Ll=null,$h=0,ya=0,_a=null;function X0(t,i){if(Ll===null){var a=Ll=[];$h=0,ya=nd(),_a={status:"pending",value:void 0,then:function(o){a.push(o)}}}return $h++,i.then(Qg,Qg),i}function Qg(){if(--$h===0&&Ll!==null){_a!==null&&(_a.status="fulfilled");var t=Ll;Ll=null,ya=0,_a=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function W0(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Kg=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&X0(t,i),Kg!==null&&Kg(t,i)};var Ts=ze(null);function Xh(){var t=Ts.current;return t!==null?t:Xe.pooledCache}function Iu(t,i){i===null?Qe(Ts,Ts.current):Qe(Ts,i.pool)}function Yg(){var t=Xh();return t===null?null:{parent:bt._currentValue,pool:t}}var vr=0,Ie=null,Ke=null,dt=null,Du=!1,va=!1,As=!1,Ou=0,zl=0,Ea=null,Z0=0;function ut(){throw Error(s(321))}function Wh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hn(t[a],i[a]))return!1;return!0}function Zh(t,i,a,o,h,d){return vr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?Ss:Er,As=!1,d=a(o,h),As=!1,va&&(d=Xg(i,a,o,h)),$g(t),d}function $g(t){S.H=ii;var i=Ke!==null&&Ke.next!==null;if(vr=0,dt=Ke=Ie=null,Du=!1,zl=0,Ea=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&zu(t)&&(Mt=!0))}function Xg(t,i,a,o){Ie=t;var h=0;do{if(va&&(Ea=null),zl=0,va=!1,25<=h)throw Error(s(301));if(h+=1,dt=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=bs,d=i(a,o)}while(va);return d}function J0(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?Bl(i):i,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Jh(){var t=Ou!==0;return Ou=0,t}function ef(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function tf(t){if(Du){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Du=!1}vr=0,dt=Ke=Ie=null,va=!1,zl=Ou=0,Ea=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ie.memoizedState=dt=t:dt=dt.next=t,dt}function mt(){if(Ke===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var i=dt===null?Ie.memoizedState:dt.next;if(i!==null)dt=i,Ke=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},dt===null?Ie.memoizedState=dt=t:dt=dt.next=t}return dt}var Nu;Nu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Bl(t){var i=zl;return zl+=1,Ea===null&&(Ea=[]),t=zg(Ea,t,i),i=Ie,(dt===null?i.memoizedState:dt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Ss:Er),t}function Mu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===x)return Ft(t)}throw Error(s(438,String(t)))}function nf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Nu(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=pe;return i.index++,a}function Oi(t,i){return typeof i=="function"?i(t):i}function Vu(t){var i=mt();return rf(i,Ke,t)}function rf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,R=null,k=i,G=!1;do{var Z=k.lane&-536870913;if(Z!==k.lane?(Ue&Z)===Z:(vr&Z)===Z){var j=k.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Z===ya&&(G=!0);else if((vr&j)===j){k=k.next,j===ya&&(G=!0);continue}else Z={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(T=R=Z,v=d):R=R.next=Z,Ie.lanes|=j,Dr|=j;Z=k.action,As&&a(d,Z),d=k.hasEagerState?k.eagerState:a(d,Z)}else j={lane:Z,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(T=R=j,v=d):R=R.next=j,Ie.lanes|=Z,Dr|=Z;k=k.next}while(k!==null&&k!==i);if(R===null?v=d:R.next=T,!hn(d,t.memoizedState)&&(Mt=!0,G&&(a=_a,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function sf(t){var i=mt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Wg(t,i,a){var o=Ie,h=mt(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Ke||h).memoizedState,a);if(v&&(h.memoizedState=a,Mt=!0),h=h.queue,of(ep.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||dt!==null&&dt.memoizedState.tag&1){if(o.flags|=2048,Ta(9,Jg.bind(null,o,h,a,i),{destroy:void 0},null),Xe===null)throw Error(s(349));d||vr&60||Zg(o,i,a)}return a}function Zg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Nu(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Jg(t,i,a,o){i.value=a,i.getSnapshot=o,tp(i)&&np(t)}function ep(t,i,a){return a(function(){tp(i)&&np(t)})}function tp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hn(t,a)}catch{return!0}}function np(t){var i=pr(t,2);i!==null&&tn(i,t,2)}function af(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),As){Fn(!0);try{a()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},i}function ip(t,i,a,o){return t.baseState=a,rf(t,Ke,typeof o=="function"?o:Oi)}function eA(t,i,a,o,h){if(Pu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,rp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function rp(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var T=a(h,o),R=S.S;R!==null&&R(v,T),sp(t,i,T)}catch(k){lf(t,i,k)}finally{S.T=d}}else try{d=a(h,o),sp(t,i,d)}catch(k){lf(t,i,k)}}function sp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ap(t,i,o)},function(o){return lf(t,i,o)}):ap(t,i,a)}function ap(t,i,a){i.status="fulfilled",i.value=a,lp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,rp(t,a)))}function lf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,lp(i),i=i.next;while(i!==o)}t.action=null}function lp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function op(t,i){return i}function up(t,i){if(He){var a=Xe.formState;if(a!==null){e:{var o=Ie;if(He){if(Ut){t:{for(var h=Ut,d=ti;h.nodeType!==8;){if(!d){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ut=Bn(h.nextSibling),o=h.data==="F!";break e}}vs(o)}o=!1}o&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:i},a.queue=o,a=Cp.bind(null,Ie,o),o.dispatch=a,o=af(!1),d=df.bind(null,Ie,!1,o.queue),o=an(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=eA.bind(null,Ie,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function cp(t){var i=mt();return hp(i,Ke,t)}function hp(t,i,a){i=rf(t,i,op)[0],t=Vu(Oi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Bl(i):i;var o=mt(),h=o.queue,d=h.dispatch;return a!==o.memoizedState&&(Ie.flags|=2048,Ta(9,tA.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function tA(t,i){t.action=i}function fp(t){var i=mt(),a=Ke;if(a!==null)return hp(i,a,t);mt(),i=i.memoizedState,a=mt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ta(t,i,a,o){return t={tag:t,create:i,inst:a,deps:o,next:null},i=Ie.updateQueue,i===null&&(i=Nu(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function dp(){return mt().memoizedState}function xu(t,i,a,o){var h=an();Ie.flags|=t,h.memoizedState=Ta(1|i,a,{destroy:void 0},o===void 0?null:o)}function ku(t,i,a,o){var h=mt();o=o===void 0?null:o;var d=h.memoizedState.inst;Ke!==null&&o!==null&&Wh(o,Ke.memoizedState.deps)?h.memoizedState=Ta(i,a,d,o):(Ie.flags|=t,h.memoizedState=Ta(1|i,a,d,o))}function mp(t,i){xu(8390656,8,t,i)}function of(t,i){ku(2048,8,t,i)}function gp(t,i){return ku(4,2,t,i)}function pp(t,i){return ku(4,4,t,i)}function yp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function _p(t,i,a){a=a!=null?a.concat([t]):null,ku(4,4,yp.bind(null,i,t),a)}function uf(){}function vp(t,i){var a=mt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Wh(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Ep(t,i){var a=mt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Wh(i,o[1]))return o[0];if(o=t(),As){Fn(!0);try{t()}finally{Fn(!1)}}return a.memoizedState=[o,i],o}function cf(t,i,a){return a===void 0||vr&1073741824?t.memoizedState=i:(t.memoizedState=a,t=Ay(),Ie.lanes|=t,Dr|=t,a)}function Tp(t,i,a,o){return hn(a,i)?a:pa.current!==null?(t=cf(t,a,o),hn(t,i)||(Mt=!0),t):vr&42?(t=Ay(),Ie.lanes|=t,Dr|=t,i):(Mt=!0,t.memoizedState=a)}function Ap(t,i,a,o,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,df(t,!1,i,a);try{var R=h(),k=S.S;if(k!==null&&k(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=W0(R,o);Hl(t,i,G,gn(t))}else Hl(t,i,o,gn(t))}catch(Z){Hl(t,i,{then:function(){},status:"rejected",reason:Z},gn())}finally{se.p=d,S.T=v}}function nA(){}function hf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Sp(t).queue;Ap(t,h,i,Ce,a===null?nA:function(){return bp(t),a(o)})}function Sp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:Ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function bp(t){var i=Sp(t).next.queue;Hl(t,i,{},gn())}function ff(){return Ft(lo)}function wp(){return mt().memoizedState}function Rp(){return mt().memoizedState}function iA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();t=Sr(a);var o=br(i,t,a);o!==null&&(tn(o,i,a),Fl(o,i,a)),i={cache:Yh()},t.payload=i;return}i=i.return}}function rA(t,i,a){var o=gn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pu(t)?Ip(i,a):(a=Hh(t,i,a,o),a!==null&&(tn(a,t,o),Dp(a,i,o)))}function Cp(t,i,a){var o=gn();Hl(t,i,a,o)}function Hl(t,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pu(t))Ip(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return vu(t,i,h,0),Xe===null&&_u(),!1}catch{}finally{}if(a=Hh(t,i,h,o),a!==null)return tn(a,t,o),Dp(a,i,o),!0}return!1}function df(t,i,a,o){if(o={lane:2,revertLane:nd(),action:o,hasEagerState:!1,eagerState:null,next:null},Pu(t)){if(i)throw Error(s(479))}else i=Hh(t,a,o,2),i!==null&&tn(i,t,2)}function Pu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Ip(t,i){va=Du=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Dp(t,i,a){if(a&4194176){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ar(t,a)}}var ii={readContext:Ft,use:Mu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut};ii.useCacheRefresh=ut,ii.useMemoCache=ut,ii.useHostTransitionStatus=ut,ii.useFormState=ut,ii.useActionState=ut,ii.useOptimistic=ut;var Ss={readContext:Ft,use:Mu,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:mp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,xu(4194308,4,yp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return xu(4194308,4,t,i)},useInsertionEffect:function(t,i){xu(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var o=t();if(As){Fn(!0);try{t()}finally{Fn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=an();if(a!==void 0){var h=a(i);if(As){Fn(!0);try{a(i)}finally{Fn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=rA.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=af(t);var i=t.queue,a=Cp.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:uf,useDeferredValue:function(t,i){var a=an();return cf(a,t,i)},useTransition:function(){var t=af(!1);return t=Ap.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ie,h=an();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xe===null)throw Error(s(349));Ue&60||Zg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,mp(ep.bind(null,o,d,t),[t]),o.flags|=2048,Ta(9,Jg.bind(null,o,d,a,i),{destroy:void 0},null),a},useId:function(){var t=an(),i=Xe.identifierPrefix;if(He){var a=Ii,o=Ci;a=(o&~(1<<32-Wt(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ou++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Z0++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return an().memoizedState=iA.bind(null,Ie)}};Ss.useMemoCache=nf,Ss.useHostTransitionStatus=ff,Ss.useFormState=up,Ss.useActionState=up,Ss.useOptimistic=function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=df.bind(null,Ie,!0,a),a.dispatch=i,[t,i]};var Er={readContext:Ft,use:Mu,useCallback:vp,useContext:Ft,useEffect:of,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:Vu,useRef:dp,useState:function(){return Vu(Oi)},useDebugValue:uf,useDeferredValue:function(t,i){var a=mt();return Tp(a,Ke.memoizedState,t,i)},useTransition:function(){var t=Vu(Oi)[0],i=mt().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:Wg,useId:wp};Er.useCacheRefresh=Rp,Er.useMemoCache=nf,Er.useHostTransitionStatus=ff,Er.useFormState=cp,Er.useActionState=cp,Er.useOptimistic=function(t,i){var a=mt();return ip(a,Ke,t,i)};var bs={readContext:Ft,use:Mu,useCallback:vp,useContext:Ft,useEffect:of,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:sf,useRef:dp,useState:function(){return sf(Oi)},useDebugValue:uf,useDeferredValue:function(t,i){var a=mt();return Ke===null?cf(a,t,i):Tp(a,Ke.memoizedState,t,i)},useTransition:function(){var t=sf(Oi)[0],i=mt().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:Wg,useId:wp};bs.useCacheRefresh=Rp,bs.useMemoCache=nf,bs.useHostTransitionStatus=ff,bs.useFormState=fp,bs.useActionState=fp,bs.useOptimistic=function(t,i){var a=mt();return Ke!==null?ip(a,Ke,t,i):(a.baseState=t,[t,a.queue.dispatch])};function mf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gf={isMounted:function(t){return(t=t._reactInternals)?fe(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var o=gn(),h=Sr(o);h.payload=i,a!=null&&(h.callback=a),i=br(t,h,o),i!==null&&(tn(i,t,o),Fl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=gn(),h=Sr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=br(t,h,o),i!==null&&(tn(i,t,o),Fl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),o=Sr(a);o.tag=2,i!=null&&(o.callback=i),i=br(t,o,a),i!==null&&(tn(i,t,a),Fl(i,t,a))}};function Op(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Il(a,o)||!Il(h,d):!0}function Np(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&gf.enqueueReplaceState(i,i.state,null)}function ws(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Mp(t){Uu(t)}function Vp(t){console.error(t)}function xp(t){Uu(t)}function Lu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function kp(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pf(t,i,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Lu(t,i)},a}function Pp(t){return t=Sr(t),t.tag=3,t}function Up(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){kp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){kp(i,a,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function sA(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&ql(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ni===null?Wf():a.alternate===null&&st===0&&(st=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Gh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Jf(t,o,h)),!1;case 22:return a.flags|=65536,o===Gh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Jf(t,o,h)),!1}throw Error(s(435,a.tag))}return Jf(t,o,h),Wf(),!1}if(He)return i=Dn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Fh&&(t=Error(s(422),{cause:o}),Ml(Rn(t,a)))):(o!==Fh&&(i=Error(s(423),{cause:o}),Ml(Rn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Rn(o,a),h=pf(t.stateNode,o,h),Nf(t,h),st!==4&&(st=2)),!1;var d=Error(s(520),{cause:o});if(d=Rn(d,a),Zl===null?Zl=[d]:Zl.push(d),st!==4&&(st=2),i===null)return!0;o=Rn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=pf(a.stateNode,o,t),Nf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Pp(h),Up(h,t,a,o),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var Lp=Error(s(461)),Mt=!1;function Lt(t,i,a,o){i.child=t===null?qg(i,null,a,o):Es(i,t.child,a,o)}function zp(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Cs(i),o=Zh(t,i,a,v,d,h),T=Jh(),t!==null&&!Mt?(ef(t,i,h),Ni(t,i,h)):(He&&T&&jh(i),i.flags|=1,Lt(t,i,o,h),i.child)}function Bp(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Hp(t,i,d,o,h)):(t=qu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!wf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(v,o)&&t.ref===i.ref)return Ni(t,i,h)}return i.flags|=1,t=Ir(d,o),t.ref=i.ref,t.return=i,i.child=t}function Hp(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Il(d,o)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=o=d,wf(t,h))t.flags&131072&&(Mt=!0);else return i.lanes=t.lanes,Ni(t,i,h)}return yf(t,i,a,o,h)}function jp(t,i,a){var o=i.pendingProps,h=o.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(jl(t,i),o.mode==="hidden"||d){if(i.flags&128){if(o=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return qp(t,i,o,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(i,v!==null?v.cachePool:null),v!==null?Fg(i,v):Qh(),Gg(i);else return i.lanes=i.childLanes=536870912,qp(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Iu(i,v.cachePool),Fg(i,v),_r(),i.memoizedState=null):(t!==null&&Iu(i,null),Qh(),_r());return Lt(t,i,h,a),i.child}function qp(t,i,a,o){var h=Xh();return h=h===null?null:{parent:bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Iu(i,null),Qh(),Gg(i),t!==null&&ql(t,i,o,!0),null}function jl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function yf(t,i,a,o,h){return Cs(i),a=Zh(t,i,a,o,void 0,h),o=Jh(),t!==null&&!Mt?(ef(t,i,h),Ni(t,i,h)):(He&&o&&jh(i),i.flags|=1,Lt(t,i,a,h),i.child)}function Fp(t,i,a,o,h,d){return Cs(i),i.updateQueue=null,a=Xg(i,o,a,h),$g(t),o=Jh(),t!==null&&!Mt?(ef(t,i,d),Ni(t,i,d)):(He&&o&&jh(i),i.flags|=1,Lt(t,i,a,d),i.child)}function Gp(t,i,a,o,h){if(Cs(i),i.stateNode===null){var d=fa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Df(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):fa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(mf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&gf.enqueueReplaceState(d,d.state,null),Ql(i,o,d,h),Gl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,R=ws(a,T);d.props=R;var k=d.context,G=a.contextType;v=fa,typeof G=="object"&&G!==null&&(v=Ft(G));var Z=a.getDerivedStateFromProps;G=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||k!==v)&&Np(i,d,o,v),Ar=!1;var j=i.memoizedState;d.state=j,Ql(i,o,d,h),Gl(),k=i.memoizedState,T||j!==k||Ar?(typeof Z=="function"&&(mf(i,a,Z,o),k=i.memoizedState),(R=Ar||Op(i,a,R,o,j,k,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=k),d.props=o,d.state=k,d.context=v,o=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Of(t,i),v=i.memoizedProps,G=ws(a,v),d.props=G,Z=i.pendingProps,j=d.context,k=a.contextType,R=fa,typeof k=="object"&&k!==null&&(R=Ft(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||j!==R)&&Np(i,d,o,R),Ar=!1,j=i.memoizedState,d.state=j,Ql(i,o,d,h),Gl();var F=i.memoizedState;v!==Z||j!==F||Ar||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof T=="function"&&(mf(i,a,T,o),F=i.memoizedState),(G=Ar||Op(i,a,G,o,j,F,R)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,F,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,F,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),d.props=o,d.state=F,d.context=R,o=G):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,jl(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Es(i,t.child,null,h),i.child=Es(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ni(t,i,h),t}function Qp(t,i,a,o){return Nl(),i.flags|=256,Lt(t,i,a,o),i.child}var _f={dehydrated:null,treeContext:null,retryLane:0};function vf(t){return{baseLanes:t,cachePool:Yg()}}function Ef(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Vn),t}function Kp(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?yr(i):_r(),He){var T=Ut,R;if(R=T){e:{for(R=T,T=ti;R.nodeType!==8;){if(!T){T=null;break e}if(R=Bn(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:ys!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912},R=Mn(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,en=i,Ut=null,R=!0):R=!1}R||vs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Di(i)}return T=o.children,o=o.fallback,h?(_r(),h=i.mode,T=Af({mode:"hidden",children:T},h),o=Ds(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,h=i.child,h.memoizedState=vf(a),h.childLanes=Ef(t,v,a),i.memoizedState=_f,o):(yr(i),Tf(i,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=Sf(t,i,a)):i.memoizedState!==null?(_r(),i.child=t.child,i.flags|=128,i=null):(_r(),h=o.fallback,T=i.mode,o=Af({mode:"visible",children:o.children},T),h=Ds(h,T,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Es(i,t.child,null,a),o=i.child,o.memoizedState=vf(a),o.childLanes=Ef(t,v,a),i.memoizedState=_f,i=h);else if(yr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var k=v.dgst;v=k,o=Error(s(419)),o.stack="",o.digest=v,Ml({value:o,source:null,stack:null}),i=Sf(t,i,a)}else if(Mt||ql(t,i,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=Xe,v!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(v.suspendedLanes|a)?0:o,o!==0&&o!==R.retryLane)throw R.retryLane=o,pr(t,o),tn(v,t,o),Lp}T.data==="$?"||Wf(),i=Sf(t,i,a)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=EA.bind(null,t),T._reactRetry=i,i=null):(t=R.treeContext,Ut=Bn(T.nextSibling),en=i,He=!0,Ln=null,ti=!1,t!==null&&(Cn[In++]=Ci,Cn[In++]=Ii,Cn[In++]=ys,Ci=t.id,Ii=t.overflow,ys=i),i=Tf(i,o.children),i.flags|=4096);return i}return h?(_r(),h=o.fallback,T=i.mode,R=t.child,k=R.sibling,o=Ir(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&31457280,k!==null?h=Ir(k,h):(h=Ds(h,T,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,T=t.child.memoizedState,T===null?T=vf(a):(R=T.cachePool,R!==null?(k=bt._currentValue,R=R.parent!==k?{parent:k,pool:k}:R):R=Yg(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=Ef(t,v,a),i.memoizedState=_f,o):(yr(i),a=t.child,t=a.sibling,a=Ir(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Tf(t,i){return i=Af({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Af(t,i){return vy(t,i,0,null)}function Sf(t,i,a){return Es(i,t.child,null,a),t=Tf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yp(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Cf(t.return,i,a)}function bf(t,i,a,o,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function $p(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Lt(t,i,o.children,a),o=St.current,o&2)o=o&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yp(t,a,i);else if(t.tag===19)Yp(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Qe(St,o),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Cu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),bf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Cu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bf(i,!0,a,null,d);break;case"together":bf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Dr|=i.lanes,!(a&i.childLanes))if(t!==null){if(ql(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ir(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ir(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function wf(t,i){return t.lanes&i?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function aA(t,i,a){switch(i.tag){case 3:er(i,i.stateNode.containerInfo),Tr(i,bt,t.memoizedState.cache),Nl();break;case 27:case 5:ll(i);break;case 4:er(i,i.stateNode.containerInfo);break;case 10:Tr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(yr(i),i.flags|=128,null):a&i.child.childLanes?Kp(t,i,a):(yr(i),t=Ni(t,i,a),t!==null?t.sibling:null);yr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(ql(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return $p(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(St,St.current),o)break;return null;case 22:case 23:return i.lanes=0,jp(t,i,a);case 24:Tr(i,bt,t.memoizedState.cache)}return Ni(t,i,a)}function Xp(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!wf(t,a)&&!(i.flags&128))return Mt=!1,aA(t,i,a);Mt=!!(t.flags&131072)}else Mt=!1,He&&i.flags&1048576&&xg(i,Au,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")zf(o)?(t=ws(o,t),i.tag=1,i=Gp(null,i,o,t,a)):(i.tag=0,i=yf(null,i,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===z){i.tag=11,i=zp(null,i,o,t,a);break e}else if(h===X){i.tag=14,i=Bp(null,i,o,t,a);break e}}throw i=w(o)||o,Error(s(306,i,""))}}return i;case 0:return yf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ws(o,i.pendingProps),Gp(t,i,o,h,a);case 3:e:{if(er(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,o=h.element,Of(t,i),Ql(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Tr(i,bt,d),d!==h.cache&&If(i,[bt],a,!0),Gl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Qp(t,i,d,a);break e}else if(d!==o){o=Rn(Error(s(424)),i),Ml(o),i=Qp(t,i,d,a);break e}else for(Ut=Bn(i.stateNode.containerInfo.firstChild),en=i,He=!0,Ln=null,ti=!0,a=qg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Nl(),d===o){i=Ni(t,i,a);break e}Lt(t,i,d,a)}i=i.child}return i;case 26:return jl(t,i),t===null?(a=Jy(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,o=tc(_n.current).createElement(a),o[Dt]=i,o[Et]=t,zt(o,a,t),Ze(o),i.stateNode=o):i.memoizedState=Jy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ll(i),t===null&&He&&(o=i.stateNode=Xy(i.type,i.pendingProps,_n.current),en=i,ti=!0,Ut=Bn(o.firstChild)),o=i.pendingProps.children,t!==null||He?Lt(t,i,o,a):i.child=Es(i,null,o,a),jl(t,i),i.child;case 5:return t===null&&He&&((h=o=Ut)&&(o=PA(o,i.type,i.pendingProps,ti),o!==null?(i.stateNode=o,en=i,Ut=Bn(o.firstChild),ti=!1,h=!0):h=!1),h||vs(i)),ll(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,hd(h,d)?o=null:v!==null&&hd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Zh(t,i,J0,null,null,a),lo._currentValue=h),jl(t,i),Lt(t,i,o,a),i.child;case 6:return t===null&&He&&((t=a=Ut)&&(a=UA(a,i.pendingProps,ti),a!==null?(i.stateNode=a,en=i,Ut=null,t=!0):t=!1),t||vs(i)),null;case 13:return Kp(t,i,a);case 4:return er(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Es(i,null,o,a):Lt(t,i,o,a),i.child;case 11:return zp(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Tr(i,i.type,o.value),Lt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Cs(i),h=Ft(h),o=o(h),i.flags|=1,Lt(t,i,o,a),i.child;case 14:return Bp(t,i,i.type,i.pendingProps,a);case 15:return Hp(t,i,i.type,i.pendingProps,a);case 19:return $p(t,i,a);case 22:return jp(t,i,a);case 24:return Cs(i),o=Ft(bt),t===null?(h=Xh(),h===null&&(h=Xe,d=Yh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Df(i),Tr(i,bt,h)):(t.lanes&a&&(Of(t,i),Ql(i,null,null,a),Gl()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Tr(i,bt,o)):(o=d.cache,Tr(i,bt,o),o!==h.cache&&If(i,[bt],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Rf=ze(null),Rs=null,Mi=null;function Tr(t,i,a){Qe(Rf,i._currentValue),i._currentValue=a}function Vi(t){t._currentValue=Rf.current,nt(Rf)}function Cf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function If(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Cf(d.return,a,t),o||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Cf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ql(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ji.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(lo):t=[lo])}h=h.return}t!==null&&If(i,t,a,o),i.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cs(t){Rs=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Wp(Rs,t)}function Bu(t,i){return Rs===null&&Cs(t),Wp(t,i)}function Wp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(s(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return a}var Ar=!1;function Df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function br(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,et&2){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Eu(t),Mg(t,null,a),i}return vu(t,o,i,a),Eu(t)}function Fl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ar(t,a)}}function Nf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Mf=!1;function Gl(){if(Mf){var t=_a;if(t!==null)throw t}}function Ql(t,i,a,o){Mf=!1;var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,k=R.next;R.next=null,v===null?d=k:v.next=k,v=R;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==v&&(T===null?G.firstBaseUpdate=k:T.next=k,G.lastBaseUpdate=R))}if(d!==null){var Z=h.baseState;v=0,G=k=R=null,T=d;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(Ue&j)===j:(o&j)===j){j!==0&&j===ya&&(Mf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,Te=T;j=i;var at=a;switch(Te.tag){case 1:if(ue=Te.payload,typeof ue=="function"){Z=ue.call(at,Z,j);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=Te.payload,j=typeof ue=="function"?ue.call(at,Z,j):ue,j==null)break e;Z=I({},Z,j);break e;case 2:Ar=!0}}j=T.callback,j!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(k=G=F,R=Z):G=G.next=F,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Dr|=v,t.lanes=v,t.memoizedState=Z}}function Zp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Jp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Zp(a[t],i)}function Kl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){$e(i,i.return,T)}}function wr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a;try{T()}catch(k){$e(h,R,k)}}}o=o.next}while(o!==d)}}catch(k){$e(i,i.return,k)}}function ey(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jp(i,a)}catch(o){$e(t,t.return,o)}}}function ty(t,i,a){a.props=ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,i,o)}}function Is(t,i){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){$e(t,i,d)}}function fn(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function ny(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function iy(t,i,a){try{var o=t.stateNode;NA(o,t.type,a,i),o[Et]=i}catch(h){$e(t,t.return,h)}}function ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Vf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ec));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(xf(t,i,a),t=t.sibling;t!==null;)xf(t,i,a),t=t.sibling}function Hu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Hu(t,i,a),t=t.sibling;t!==null;)Hu(t,i,a),t=t.sibling}var xi=!1,rt=!1,kf=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Vt=null,ay=!1;function lA(t,i){if(t=t.containerInfo,ud=lc,t=Sg(t),Ph(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,R=-1,k=0,G=0,Z=t,j=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||o!==0&&Z.nodeType!==3||(R=v+o),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)j=Z,Z=F;for(;;){if(Z===t)break t;if(j===a&&++k===h&&(T=v),j===d&&++G===o&&(R=v),(F=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=F}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(cd={focusedElem:t,selectionRange:a},lc=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ue=ws(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ue,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){$e(a,a.return,Te)}}break;case 3:if(t&1024){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}return ue=ay,ay=!1,ue}function ly(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(t,a),o&4&&Kl(5,a);break;case 1:if(Pi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){$e(a,a.return,T)}else{var h=ws(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){$e(a,a.return,T)}}o&64&&ey(a),o&512&&Is(a,a.return);break;case 3:if(Pi(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Jp(o,t)}catch(T){$e(a,a.return,T)}}break;case 26:Pi(t,a),o&512&&Is(a,a.return);break;case 27:case 5:Pi(t,a),i===null&&o&4&&ny(a),o&512&&Is(a,a.return);break;case 12:Pi(t,a);break;case 13:Pi(t,a),o&4&&cy(t,a);break;case 22:if(h=a.memoizedState!==null||xi,!h){i=i!==null&&i.memoizedState!==null||rt;var d=xi,v=rt;xi=h,(rt=i)&&!v?Rr(t,a,(a.subtreeFlags&8772)!==0):Pi(t,a),xi=d,rt=v}o&512&&(a.memoizedProps.mode==="manual"?Is(a,a.return):fn(a,a.return));break;default:Pi(t,a)}}function oy(t){var i=t.alternate;i!==null&&(t.alternate=null,oy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&rs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,dn=!1;function ki(t,i,a){for(a=a.child;a!==null;)uy(t,i,a),a=a.sibling}function uy(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(tr,a)}catch{}switch(a.tag){case 26:rt||fn(a,i),ki(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||fn(a,i);var o=gt,h=dn;for(gt=a.stateNode,ki(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);rs(a),gt=o,dn=h;break;case 5:rt||fn(a,i);case 6:h=gt;var d=dn;if(gt=null,ki(t,i,a),gt=h,dn=d,gt!==null)if(dn)try{t=gt,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(v){$e(a,i,v)}else try{gt.removeChild(a.stateNode)}catch(v){$e(a,i,v)}break;case 18:gt!==null&&(dn?(i=gt,a=a.stateNode,i.nodeType===8?dd(i.parentNode,a):i.nodeType===1&&dd(i,a),ho(i)):dd(gt,a.stateNode));break;case 4:o=gt,h=dn,gt=a.stateNode.containerInfo,dn=!0,ki(t,i,a),gt=o,dn=h;break;case 0:case 11:case 14:case 15:rt||wr(2,a,i),rt||wr(4,a,i),ki(t,i,a);break;case 1:rt||(fn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ty(a,i,o)),ki(t,i,a);break;case 21:ki(t,i,a);break;case 22:rt||fn(a,i),rt=(o=rt)||a.memoizedState!==null,ki(t,i,a),rt=o;break;default:ki(t,i,a)}}function cy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ho(t)}catch(a){$e(i,i.return,a)}}function oA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new sy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new sy),i;default:throw Error(s(435,t.tag))}}function Pf(t,i){var a=oA(t);i.forEach(function(o){var h=TA.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function On(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:gt=T.stateNode,dn=!1;break e;case 3:gt=T.stateNode.containerInfo,dn=!0;break e;case 4:gt=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(gt===null)throw Error(s(160));uy(d,v,h),gt=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)hy(i,t),i=i.sibling}var zn=null;function hy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(i,t),Nn(t),o&4&&(wr(3,t,t.return),Kl(3,t),wr(5,t,t.return));break;case 1:On(i,t),Nn(t),o&512&&(rt||a===null||fn(a,a.return)),o&64&&xi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=zn;if(On(i,t),Nn(t),o&512&&(rt||a===null||fn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[or]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,o,a),d[Dt]=t,Ze(d),o=d;break e;case"link":var v=n_("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(o),zt(d,o,a),h.head.appendChild(d);break;case"meta":if(v=n_("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(o),zt(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Dt]=t,Ze(d),o=d}t.stateNode=o}else i_(h,t.type,t.stateNode);else t.stateNode=t_(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?i_(h,t.type,t.stateNode):t_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&iy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var R=h.firstChild;R;){var k=R.nextSibling,G=R.nodeName;R[or]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=k}for(var Z=t.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);zt(h,Z,d),h[Dt]=t,h[Et]=d}catch(ue){$e(t,t.return,ue)}}case 5:if(On(i,t),Nn(t),o&512&&(rt||a===null||fn(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(ue){$e(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,iy(t,h,a!==null?a.memoizedProps:h)),o&1024&&(kf=!0);break;case 6:if(On(i,t),Nn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){$e(t,t.return,ue)}}break;case 3:if(rc=null,h=zn,zn=nc(i.containerInfo),On(i,t),zn=h,Nn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(i.containerInfo)}catch(ue){$e(t,t.return,ue)}kf&&(kf=!1,fy(t));break;case 4:o=zn,zn=nc(t.stateNode.containerInfo),On(i,t),Nn(t),zn=o;break;case 12:On(i,t),Nn(t);break;case 13:On(i,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gf=rn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pf(t,o)));break;case 22:if(o&512&&(rt||a===null||fn(a,a.return)),R=t.memoizedState!==null,k=a!==null&&a.memoizedState!==null,G=xi,Z=rt,xi=G||R,rt=Z||k,On(i,t),rt=Z,xi=G,Nn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=xi||rt,a===null||k||i||Aa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,T=k.memoizedProps.style;var F=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ue){$e(k,k.return,ue)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=R?"":k.memoizedProps}catch(ue){$e(k,k.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Pf(t,a))));break;case 19:On(i,t),Nn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pf(t,o)));break;case 21:break;default:On(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(ry(a)){var o=a;break e}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,d=Vf(t);Hu(t,d,h);break;case 5:var v=o.stateNode;o.flags&32&&(Tn(v,""),o.flags&=-33);var T=Vf(t);Hu(t,T,v);break;case 3:case 4:var R=o.stateNode.containerInfo,k=Vf(t);xf(t,k,R);break;default:throw Error(s(161))}}}catch(G){$e(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Pi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ly(t,i.alternate,i),i=i.sibling}function Aa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:wr(4,i,i.return),Aa(i);break;case 1:fn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ty(i,i.return,a),Aa(i);break;case 26:case 27:case 5:fn(i,i.return),Aa(i);break;case 22:fn(i,i.return),i.memoizedState===null&&Aa(i);break;default:Aa(i)}t=t.sibling}}function Rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),Kl(4,d);break;case 1:if(Rr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){$e(o,o.return,k)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Zp(R[h],T)}catch(k){$e(o,o.return,k)}}a&&v&64&&ey(d),Is(d,d.return);break;case 26:case 27:case 5:Rr(h,d,a),a&&o===null&&v&4&&ny(d),Is(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&cy(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),Is(d,d.return);break;default:Rr(h,d,a)}i=i.sibling}}function Uf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ul(a))}function Lf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ul(t))}function Cr(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dy(t,i,a,o),i=i.sibling}function dy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Cr(t,i,a,o),h&2048&&Kl(9,i);break;case 3:Cr(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ul(t)));break;case 12:if(h&2048){Cr(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$e(i,i.return,R)}}else Cr(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Cr(t,i,a,o):Yl(t,i):d._visibility&4?Cr(t,i,a,o):(d._visibility|=4,Sa(t,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Uf(i.alternate,i);break;case 24:Cr(t,i,a,o),h&2048&&Lf(i.alternate,i);break;default:Cr(t,i,a,o)}}function Sa(t,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,R=o,k=v.flags;switch(v.tag){case 0:case 11:case 15:Sa(d,v,T,R,h),Kl(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&4?Sa(d,v,T,R,h):Yl(d,v):(G._visibility|=4,Sa(d,v,T,R,h)),h&&k&2048&&Uf(v.alternate,v);break;case 24:Sa(d,v,T,R,h),h&&k&2048&&Lf(v.alternate,v);break;default:Sa(d,v,T,R,h)}i=i.sibling}}function Yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Yl(a,o),h&2048&&Uf(o.alternate,o);break;case 24:Yl(a,o),h&2048&&Lf(o.alternate,o);break;default:Yl(a,o)}i=i.sibling}}var $l=8192;function ba(t){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)my(t),t=t.sibling}function my(t){switch(t.tag){case 26:ba(t),t.flags&$l&&t.memoizedState!==null&&XA(zn,t.memoizedState,t.memoizedProps);break;case 5:ba(t);break;case 3:case 4:var i=zn;zn=nc(t.stateNode.containerInfo),ba(t),zn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=$l,$l=16777216,ba(t),$l=i):ba(t));break;default:ba(t)}}function gy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Xl(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Vt=o,yy(o,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 0:case 11:case 15:Xl(t),t.flags&2048&&wr(9,t,t.return);break;case 3:Xl(t);break;case 12:Xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,ju(t)):Xl(t);break;default:Xl(t)}}function ju(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Vt=o,yy(o,t)}gy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:wr(8,i,i.return),ju(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,ju(i));break;default:ju(i)}t=t.sibling}}function yy(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:wr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Vt=o;else e:for(a=t;Vt!==null;){o=Vt;var h=o.sibling,d=o.return;if(oy(o),o===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}function uA(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,i,a,o){return new uA(t,i,a,o)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ir(t,i){var a=t.alternate;return a===null?(a=Mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _y(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function qu(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")zf(t)&&(v=1);else if(typeof t=="string")v=YA(t,a,Xt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Ds(a.children,h,d,i);case y:v=8,h|=24;break;case E:return t=Mn(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case K:return t=Mn(13,a,i,h),t.elementType=K,t.lanes=d,t;case H:return t=Mn(19,a,i,h),t.elementType=H,t.lanes=d,t;case ie:return vy(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case x:v=10;break e;case C:v=9;break e;case z:v=11;break e;case X:v=14;break e;case W:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=Mn(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Ds(t,i,a,o){return t=Mn(7,t,o,i),t.lanes=a,t}function vy(t,i,a,o){t=Mn(22,t,o,i),t.elementType=ie,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=pr(d,2);v!==null&&(h._pendingVisibility|=2,tn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=pr(d,2);v!==null&&(h._pendingVisibility&=-3,tn(v,d,2))}}};return t.stateNode=h,t}function Bf(t,i,a){return t=Mn(6,t,null,i),t.lanes=a,t}function Hf(t,i,a){return i=Mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Ui(t){t.flags|=4}function Ey(t,i){if(i.type!=="stylesheet"||i.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!r_(i)){if(i=Dn.current,i!==null&&((Ue&4194176)===Ue?ni!==null:(Ue&62914560)!==Ue&&!(Ue&536870912)||i!==ni))throw xl=Gh,Ug;t.flags|=8192}}function Fu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?rr():536870912,t.lanes|=i,Ra|=i)}function Wl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Je(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function cA(t,i,a){var o=i.pendingProps;switch(qh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Vi(bt),pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ol(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Ln!==null&&($f(Ln),Ln=null))),Je(i),null;case 26:return a=i.memoizedState,t===null?(Ui(i),a!==null?(Je(i),Ey(i,a)):(Je(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ui(i),Je(i),Ey(i,a)):(Je(i),i.flags&=-16777217):(t.memoizedProps!==o&&Ui(i),Je(i),i.flags&=-16777217),null;case 27:Gs(i),a=_n.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ui(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Je(i),null}t=Xt.current,Ol(i)?kg(i):(t=Xy(h,o,a),i.stateNode=t,Ui(i))}return Je(i),null;case 5:if(Gs(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ui(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Je(i),null}if(t=Xt.current,Ol(i))kg(i);else{switch(h=tc(_n.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[Dt]=i,t[Et]=o;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ui(i)}}return Je(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ui(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=_n.current,Ol(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Fy(t.nodeValue,a)),t||vs(i)}else t=tc(t).createTextNode(o),t[Dt]=i,i.stateNode=t}return Je(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ol(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=i}else Nl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Je(i),h=!1}else Ln!==null&&($f(Ln),Ln=null),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),i.flags&128)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Fu(i,i.updateQueue),Je(i),null;case 4:return pi(),t===null&&ad(i.stateNode.containerInfo),Je(i),null;case 10:return Vi(i.type),Je(i),null;case 19:if(nt(St),h=i.memoizedState,h===null)return Je(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Wl(h,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(d=Cu(t),d!==null){for(i.flags|=128,Wl(h,!1),t=d.updateQueue,i.updateQueue=t,Fu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)_y(a,t),a=a.sibling;return Qe(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&rn()>Gu&&(i.flags|=128,o=!0,Wl(h,!1),i.lanes=4194304)}else{if(!o)if(t=Cu(d),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Fu(i,t),Wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return Je(i),null}else 2*rn()-h.renderingStartTime>Gu&&a!==536870912&&(i.flags|=128,o=!0,Wl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,t=St.current,Qe(St,o?t&1|2:t&1),i):(Je(i),null);case 22:case 23:return Di(i),Kh(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?a&536870912&&!(i.flags&128)&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),a=i.updateQueue,a!==null&&Fu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&nt(Ts),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(bt),Je(i),null;case 25:return null}throw Error(s(156,i.tag))}function hA(t,i){switch(qh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(bt),pi(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Gs(i),null;case 13:if(Di(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Nl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return nt(St),null;case 4:return pi(),null;case 10:return Vi(i.type),null;case 22:case 23:return Di(i),Kh(),t!==null&&nt(Ts),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(bt),null;case 25:return null;default:return null}}function Ty(t,i){switch(qh(i),i.tag){case 3:Vi(bt),pi();break;case 26:case 27:case 5:Gs(i);break;case 4:pi();break;case 13:Di(i);break;case 19:nt(St);break;case 10:Vi(i.type);break;case 22:case 23:Di(i),Kh(),t!==null&&nt(Ts);break;case 24:Vi(bt)}}var fA={getCacheForType:function(t){var i=Ft(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},dA=typeof WeakMap=="function"?WeakMap:Map,et=0,Xe=null,Oe=null,Ue=0,We=0,mn=null,Li=!1,wa=!1,jf=!1,zi=0,st=0,Dr=0,Os=0,qf=0,Vn=0,Ra=0,Zl=null,ri=null,Ff=!1,Gf=0,Gu=1/0,Qu=null,Or=null,Ku=!1,Ns=null,Jl=0,Qf=0,Kf=null,eo=0,Yf=null;function gn(){if(et&2&&Ue!==0)return Ue&-Ue;if(S.T!==null){var t=ya;return t!==0?t:nd()}return Jo()}function Ay(){Vn===0&&(Vn=!(Ue&536870912)||He?fl():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),Vn}function tn(t,i,a){(t===Xe&&We===2||t.cancelPendingCommit!==null)&&(Ca(t,0),Bi(t,Ue,Vn,!1)),ot(t,a),(!(et&2)||t!==Xe)&&(t===Xe&&(!(et&2)&&(Os|=a),st===4&&Bi(t,Ue,Vn,!1)),si(t))}function Sy(t,i,a){if(et&6)throw Error(s(327));var o=!a&&(i&60)===0&&(i&t.expiredLanes)===0||ir(t,i),h=o?pA(t,i):Zf(t,i,!0),d=o;do{if(h===0){wa&&!o&&Bi(t,i,0,!1);break}else if(h===6)Bi(t,i,0,!Li);else{if(a=t.current.alternate,d&&!mA(a)){h=Zf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Zl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ca(T,v).flags|=256),v=Zf(T,v,!1),v!==2){if(jf&&!R){T.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=ri,ri=h,d!==null&&$f(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ca(t,0),Bi(t,i,0,!0);break}e:{switch(o=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Bi(o,i,Vn,!Li);break e}break;case 2:ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(d=Gf+300-rn(),10<d)){if(Bi(o,i,Vn,!Li),vn(o,0)!==0)break e;o.timeoutHandle=Ky(by.bind(null,o,a,ri,Qu,Ff,i,Vn,Os,Ra,Li,2,-0,0),d);break e}by(o,a,ri,Qu,Ff,i,Vn,Os,Ra,Li,0,-0,0)}}break}while(!0);si(t)}function $f(t){ri===null?ri=t:ri.push.apply(ri,t)}function by(t,i,a,o,h,d,v,T,R,k,G,Z,j){var F=i.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(ao={stylesheets:null,count:0,unsuspend:$A},my(i),i=WA(),i!==null)){t.cancelPendingCommit=i(Ny.bind(null,t,a,o,h,v,T,R,1,Z,j)),Bi(t,d,v,!k);return}Ny(t,a,o,h,v,T,R,G,Z,j)}function mA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(t,i,a,o){i&=~qf,i&=~Os,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&sr(t,a,i)}function Yu(){return et&6?!0:(to(0),!1)}function Xf(){if(Oe!==null){if(We===0)var t=Oe.return;else t=Oe,Mi=Rs=null,tf(t),ga=null,kl=0,t=Oe;for(;t!==null;)Ty(t.alternate,t),t=t.return;Oe=null}}function Ca(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xf(),Xe=t,Oe=a=Ir(t.current,null),Ue=i,We=0,mn=null,Li=!1,wa=ir(t,i),jf=!1,Ra=Vn=qf=Os=Dr=st=0,ri=Zl=null,Ff=!1,i&8&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-Wt(o),d=1<<h;i|=t[h],o&=~d}return zi=i,_u(),a}function wy(t,i){Ie=null,S.H=ii,i===Vl?(i=Bg(),We=3):i===Ug?(i=Bg(),We=4):We=i===Lp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Oe===null&&(st=1,Lu(t,Rn(i,t.current)))}function Ry(){var t=S.H;return S.H=ii,t===null?ii:t}function Cy(){var t=S.A;return S.A=fA,t}function Wf(){st=4,Li||(Ue&4194176)!==Ue&&Dn.current!==null||(wa=!0),!(Dr&134217727)&&!(Os&134217727)||Xe===null||Bi(Xe,Ue,Vn,!1)}function Zf(t,i,a){var o=et;et|=2;var h=Ry(),d=Cy();(Xe!==t||Ue!==i)&&(Qu=null,Ca(t,i)),i=!1;var v=st;e:do try{if(We!==0&&Oe!==null){var T=Oe,R=mn;switch(We){case 8:Xf(),v=6;break e;case 3:case 2:case 6:Dn.current===null&&(i=!0);var k=We;if(We=0,mn=null,Ia(t,T,R,k),a&&wa){v=0;break e}break;default:k=We,We=0,mn=null,Ia(t,T,R,k)}}gA(),v=st;break}catch(G){wy(t,G)}while(!0);return i&&t.shellSuspendCounter++,Mi=Rs=null,et=o,S.H=h,S.A=d,Oe===null&&(Xe=null,Ue=0,_u()),v}function gA(){for(;Oe!==null;)Iy(Oe)}function pA(t,i){var a=et;et|=2;var o=Ry(),h=Cy();Xe!==t||Ue!==i?(Qu=null,Gu=rn()+500,Ca(t,i)):wa=ir(t,i);e:do try{if(We!==0&&Oe!==null){i=Oe;var d=mn;t:switch(We){case 1:We=0,mn=null,Ia(t,i,d,1);break;case 2:if(Lg(d)){We=0,mn=null,Dy(i);break}i=function(){We===2&&Xe===t&&(We=7),si(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Lg(d)?(We=0,mn=null,Dy(i)):(We=0,mn=null,Ia(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||r_(v)){We=0,mn=null;var R=T.sibling;if(R!==null)Oe=R;else{var k=T.return;k!==null?(Oe=k,$u(k)):Oe=null}break t}}We=0,mn=null,Ia(t,i,d,5);break;case 6:We=0,mn=null,Ia(t,i,d,6);break;case 8:Xf(),st=6;break e;default:throw Error(s(462))}}yA();break}catch(G){wy(t,G)}while(!0);return Mi=Rs=null,S.H=o,S.A=h,et=a,Oe!==null?0:(Xe=null,Ue=0,_u(),st)}function yA(){for(;Oe!==null&&!wh();)Iy(Oe)}function Iy(t){var i=Xp(t.alternate,t,zi);t.memoizedProps=t.pendingProps,i===null?$u(t):Oe=i}function Dy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Fp(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Fp(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:tf(i);default:Ty(a,i),i=Oe=_y(i,zi),i=Xp(a,i,zi)}t.memoizedProps=t.pendingProps,i===null?$u(t):Oe=i}function Ia(t,i,a,o){Mi=Rs=null,tf(i),ga=null,kl=0;var h=i.return;try{if(sA(t,h,i,a,Ue)){st=1,Lu(t,Rn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;st=1,Lu(t,Rn(a,t.current)),Oe=null;return}i.flags&32768?(He||o===1?t=!0:wa||Ue&536870912?t=!1:(Li=t=!0,(o===2||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(i,t)):$u(i)}function $u(t){var i=t;do{if(i.flags&32768){Oy(i,Li);return}t=i.return;var a=cA(i.alternate,i,zi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);st===0&&(st=5)}function Oy(t,i){do{var a=hA(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);st=6,Oe=null}function Ny(t,i,a,o,h,d,v,T,R,k){var G=S.T,Z=se.p;try{se.p=2,S.T=null,_A(t,i,a,o,Z,h,d,v,T,R,k)}finally{S.T=G,se.p=Z}}function _A(t,i,a,o,h,d,v,T){do Da();while(Ns!==null);if(et&6)throw Error(s(327));var R=t.finishedWork;if(o=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var k=R.lanes|R.childLanes;if(k|=Bh,Wo(t,o,k,d,v,T),t===Xe&&(Oe=Xe=null,Ue=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Ku||(Ku=!0,Qf=k,Kf=a,AA(yi,function(){return Da(),null})),a=(R.flags&15990)!==0,R.subtreeFlags&15990||a?(a=S.T,S.T=null,d=se.p,se.p=2,v=et,et|=4,lA(t,R),hy(R,t),j0(cd,t.containerInfo),lc=!!ud,cd=ud=null,t.current=R,ly(t,R.alternate,R),ol(),et=v,se.p=d,S.T=a):t.current=R,Ku?(Ku=!1,Ns=t,Jl=o):My(t,k),k=t.pendingLanes,k===0&&(Or=null),cl(R.stateNode),si(t),i!==null)for(h=t.onRecoverableError,R=0;R<i.length;R++)k=i[R],h(k.value,{componentStack:k.stack});return Jl&3&&Da(),k=t.pendingLanes,o&4194218&&k&42?t===Yf?eo++:(eo=0,Yf=t):eo=0,to(0),null}function My(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ul(i)))}function Da(){if(Ns!==null){var t=Ns,i=Qf;Qf=0;var a=Zo(Jl),o=S.T,h=se.p;try{if(se.p=32>a?32:a,S.T=null,Ns===null)var d=!1;else{a=Kf,Kf=null;var v=Ns,T=Jl;if(Ns=null,Jl=0,et&6)throw Error(s(331));var R=et;if(et|=4,py(v.current),dy(v,v.current,T,a),et=R,to(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(tr,v)}catch{}d=!0}return d}finally{se.p=h,S.T=o,My(t,i)}}return!1}function Vy(t,i,a){i=Rn(a,i),i=pf(t.stateNode,i,2),t=br(t,i,2),t!==null&&(ot(t,2),si(t))}function $e(t,i,a){if(t.tag===3)Vy(t,t,a);else for(;i!==null;){if(i.tag===3){Vy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){t=Rn(a,t),a=Pp(2),o=br(i,a,2),o!==null&&(Up(a,o,i,t),ot(o,2),si(o));break}}i=i.return}}function Jf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new dA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(jf=!0,h.add(a),t=vA.bind(null,t,i,a),i.then(t,t))}function vA(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(Ue&a)===a&&(st===4||st===3&&(Ue&62914560)===Ue&&300>rn()-Gf?!(et&2)&&Ca(t,0):qf|=a,Ra===Ue&&(Ra=0)),si(t)}function xy(t,i){i===0&&(i=rr()),t=pr(t,i),t!==null&&(ot(t,i),si(t))}function EA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),xy(t,a)}function TA(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),xy(t,a)}function AA(t,i){return ts(t,i)}var Xu=null,Oa=null,ed=!1,Wu=!1,td=!1,Ms=0;function si(t){t!==Oa&&t.next===null&&(Oa===null?Xu=Oa=t:Oa=Oa.next=t),Wu=!0,ed||(ed=!0,bA(SA))}function to(t,i){if(!td&&Wu){td=!0;do for(var a=!1,o=Xu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Uy(o,d))}else d=Ue,d=vn(o,o===Xe?d:0),!(d&3)||ir(o,d)||(a=!0,Uy(o,d));o=o.next}while(a);td=!1}}function SA(){Wu=ed=!1;var t=0;Ms!==0&&(MA()&&(t=Ms),Ms=0);for(var i=rn(),a=null,o=Xu;o!==null;){var h=o.next,d=ky(o,i);d===0?(o.next=null,a===null?Xu=h:a.next=h,h===null&&(Oa=a)):(a=o,(t!==0||d&3)&&(Wu=!0)),o=h}to(t)}function ky(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),T=1<<v,R=h[v];R===-1?(!(T&a)||T&o)&&(h[v]=Ys(T,i)):R<=i&&(t.expiredLanes|=T),d&=~T}if(i=Xe,a=Ue,a=vn(t,t===i?a:0),o=t.callbackNode,a===0||t===i&&We===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ks(o),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||ir(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&Ks(o),Zo(a)){case 2:case 8:a=It;break;case 32:a=yi;break;case 268435456:a=ul;break;default:a=yi}return o=Py.bind(null,t),a=ts(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&Ks(o),t.callbackPriority=2,t.callbackNode=null,2}function Py(t,i){var a=t.callbackNode;if(Da()&&t.callbackNode!==a)return null;var o=Ue;return o=vn(t,t===Xe?o:0),o===0?null:(Sy(t,o,i),ky(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Py.bind(null,t):null)}function Uy(t,i){if(Da())return null;Sy(t,i,!0)}function bA(t){xA(function(){et&6?ts(vt,t):t()})}function nd(){return Ms===0&&(Ms=fl()),Ms}function Ly(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yn(""+t)}function zy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function wA(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Ly((h[Et]||null).action),v=o.submitter;v&&(i=(i=v[Et]||null)?Ly(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ta("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var R=v?zy(h,v):new FormData(h);hf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?zy(h,v):new FormData(h),hf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var id=0;id<Ng.length;id++){var rd=Ng[id],RA=rd.toLowerCase(),CA=rd[0].toUpperCase()+rd.slice(1);Un(RA,"on"+CA)}Un(Rg,"onAnimationEnd"),Un(Cg,"onAnimationIteration"),Un(Ig,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(F0,"onTransitionRun"),Un(G0,"onTransitionStart"),Un(Q0,"onTransitionCancel"),Un(Dg,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function By(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var T=o[v],R=T.instance,k=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=k;try{d(h)}catch(G){Uu(G)}h.currentTarget=null,d=R}else for(v=0;v<o.length;v++){if(T=o[v],R=T.instance,k=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=k;try{d(h)}catch(G){Uu(G)}h.currentTarget=null,d=R}}}}function xe(t,i){var a=i[is];a===void 0&&(a=i[is]=new Set);var o=t+"__bubble";a.has(o)||(Hy(i,t,2,!1),a.add(o))}function sd(t,i,a){var o=0;i&&(o|=4),Hy(a,t,o,i)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[Zu]){t[Zu]=!0,ml.forEach(function(a){a!=="selectionchange"&&(IA.has(a)||sd(a,!1,t),sd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Zu]||(i[Zu]=!0,sd("selectionchange",!1,i))}}function Hy(t,i,a,o){switch(c_(i)){case 2:var h=eS;break;case 8:h=tS;break;default:h=vd}a=h.bind(null,i,a,t),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function ld(t,i,a,o,h){var d=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Pn(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=d=v;continue e}T=T.parentNode}}o=o.return}iu(function(){var k=d,G=ea(a),Z=[];e:{var j=Og.get(t);if(j!==void 0){var F=ta,ue=t;switch(t){case"keypress":if(Xn(a)===0)break e;case"keydown":case"keyup":F=la;break;case"focusin":ue="focus",F=ra;break;case"focusout":ue="blur",F=ra;break;case"beforeblur":case"afterblur":F=ra;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=hu;break;case Rg:case Cg:case Ig:F=sa;break;case Dg:F=du;break;case"scroll":case"scrollend":F=ru;break;case"wheel":F=oa;break;case"copy":case"cut":case"paste":F=aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Rl;break;case"toggle":case"beforetoggle":F=gu}var Te=(i&4)!==0,at=!Te&&(t==="scroll"||t==="scrollend"),P=Te?j!==null?j+"Capture":null:j;Te=[];for(var N=k,B;N!==null;){var Y=N;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||P===null||(Y=os(N,P),Y!=null&&Te.push(io(N,Y,B))),at)break;N=N.return}0<Te.length&&(j=new F(j,ue,null,a,G),Z.push({event:j,listeners:Te}))}}if(!(i&7)){e:{if(j=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",j&&a!==An&&(ue=a.relatedTarget||a.fromElement)&&(Pn(ue)||ue[_i]))break e;if((F||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ue=a.relatedTarget||a.toElement,F=k,ue=ue?Pn(ue):null,ue!==null&&(at=fe(ue),Te=ue.tag,ue!==at||Te!==5&&Te!==27&&Te!==6)&&(ue=null)):(F=null,ue=k),F!==ue)){if(Te=bn,Y="onMouseLeave",P="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Rl,Y="onPointerLeave",P="onPointerEnter",N="pointer"),at=F==null?j:ur(F),B=ue==null?j:ur(ue),j=new Te(Y,N+"leave",F,a,G),j.target=at,j.relatedTarget=B,Y=null,Pn(G)===k&&(Te=new Te(P,N+"enter",ue,a,G),Te.target=B,Te.relatedTarget=at,Y=Te),at=Y,F&&ue)t:{for(Te=F,P=ue,N=0,B=Te;B;B=Na(B))N++;for(B=0,Y=P;Y;Y=Na(Y))B++;for(;0<N-B;)Te=Na(Te),N--;for(;0<B-N;)P=Na(P),B--;for(;N--;){if(Te===P||P!==null&&Te===P.alternate)break t;Te=Na(Te),P=Na(P)}Te=null}else Te=null;F!==null&&jy(Z,j,F,Te,!1),ue!==null&&at!==null&&jy(Z,at,ue,Te,!0)}}e:{if(j=k?ur(k):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var le=gg;else if(At(j))if(pg)le=B0;else{le=L0;var De=U0}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?k&&vl(k.elementType)&&(le=gg):le=z0;if(le&&(le=le(t,k))){Ri(Z,le,a,G);break e}De&&De(t,j,k),t==="focusout"&&k&&j.type==="number"&&k.memoizedProps.value!=null&&Js(j,"number",j.value)}switch(De=k?ur(k):window,t){case"focusin":(At(De)||De.contentEditable==="true")&&(ua=De,Uh=k,Dl=null);break;case"focusout":Dl=Uh=ua=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,bg(Z,a,G);break;case"selectionchange":if(q0)break;case"keydown":case"keyup":bg(Z,a,G)}var he;if(Jn)e:{switch(t){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else ke?q(t,a)&&(ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(_&&a.locale!=="ko"&&(ke||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&ke&&(he=Tl()):($n=G,gr="value"in $n?$n.value:$n.textContent,ke=!0)),De=Ju(k,ge),0<De.length&&(ge=new bl(ge,t,null,a,G),Z.push({event:ge,listeners:De}),he?ge.data=he:(he=te(a),he!==null&&(ge.data=he)))),(he=g?Tt(t,a):Pe(t,a))&&(ge=Ju(k,"onBeforeInput"),0<ge.length&&(De=new bl("onBeforeInput","beforeinput",null,a,G),Z.push({event:De,listeners:ge}),De.data=he)),wA(Z,t,k,a,G)}By(Z,i)})}function io(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ju(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=os(t,a),h!=null&&o.unshift(io(t,h,d)),h=os(t,i),h!=null&&o.push(io(t,h,d))),t=t.return}return o}function Na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jy(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var T=a,R=T.alternate,k=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||k===null||(R=k,h?(k=os(a,d),k!=null&&v.unshift(io(a,k,R))):h||(k=os(a,d),k!=null&&v.push(io(a,k,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var DA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function qy(t){return(typeof t=="string"?t:""+t).replace(DA,`
`).replace(OA,"")}function Fy(t,i){return i=qy(i),qy(t)===i}function ec(){}function Ye(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Tn(t,""+o);break;case"className":fr(t,"class",o);break;case"tabIndex":fr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(t,a,o);break;case"style":nu(t,o,d);break;case"data":if(i!=="object"){fr(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Yn(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Yn(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ec);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Yn(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":xe("beforetoggle",t),xe("toggle",t),hr(t,"popover",o);break;case"xlinkActuate":En(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":En(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":En(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":En(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":En(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":En(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":En(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":En(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":En(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oh.get(a)||a,hr(t,a,o))}}function od(t,i,a,o,h,d){switch(a){case"style":nu(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&Tn(t,""+o);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):hr(t,a,o)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,d,v,a,null)}}h&&Ye(t,i,"srcSet",a.srcSet,a,null),o&&Ye(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=d=v=h=null,R=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":R=G;break;case"defaultChecked":k=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Ye(t,i,o,G,a,null)}}as(t,d,T,R,k,v,h,!1),ss(t);return;case"select":xe("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Ye(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!o,i!=null?Be(t,!!o,i,!1):a!=null&&Be(t,!!o,a,!0);return;case"textarea":xe("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(t,i,v,T,a,null)}mr(t,o,h,d),ss(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(t,i,R,o,a,null)}return;case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(o=0;o<no.length;o++)xe(no[o],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,k,o,a,null)}return;default:if(vl(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&od(t,i,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Ye(t,i,T,o,a,null))}function NA(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,k=null,G=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=Z;default:o.hasOwnProperty(F)||Ye(t,i,F,null,o,Z)}}for(var j in o){var F=o[j];if(Z=a[j],o.hasOwnProperty(j)&&(F!=null||Z!=null))switch(j){case"type":d=F;break;case"name":h=F;break;case"checked":k=F;break;case"defaultChecked":G=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&Ye(t,i,j,F,o,Z)}}dr(t,v,T,R,k,G,d,h);return;case"select":F=v=T=j=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":F=R;default:o.hasOwnProperty(d)||Ye(t,i,d,null,o,R)}for(h in o)if(d=o[h],R=a[h],o.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Ye(t,i,h,d,o,R)}i=T,a=v,o=F,j!=null?Be(t,!!a,j,!1):!!o!=!!a&&(i!=null?Be(t,!!a,i,!0):Be(t,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(t,i,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,i,v,h,o,d)}ls(t,j,F);return;case"option":for(var ue in a)if(j=a[ue],a.hasOwnProperty(ue)&&j!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Ye(t,i,ue,null,o,j)}for(R in o)if(j=o[R],F=a[R],o.hasOwnProperty(R)&&j!==F&&(j!=null||F!=null))switch(R){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ye(t,i,R,j,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)j=a[Te],a.hasOwnProperty(Te)&&j!=null&&!o.hasOwnProperty(Te)&&Ye(t,i,Te,null,o,j);for(k in o)if(j=o[k],F=a[k],o.hasOwnProperty(k)&&j!==F&&(j!=null||F!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Ye(t,i,k,j,o,F)}return;default:if(vl(i)){for(var at in a)j=a[at],a.hasOwnProperty(at)&&j!==void 0&&!o.hasOwnProperty(at)&&od(t,i,at,void 0,o,j);for(G in o)j=o[G],F=a[G],!o.hasOwnProperty(G)||j===F||j===void 0&&F===void 0||od(t,i,G,j,o,F);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!o.hasOwnProperty(P)&&Ye(t,i,P,null,o,j);for(Z in o)j=o[Z],F=a[Z],!o.hasOwnProperty(Z)||j===F||j==null&&F==null||Ye(t,i,Z,j,o,F)}var ud=null,cd=null;function tc(t){return t.nodeType===9?t:t.ownerDocument}function Gy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fd=null;function MA(){var t=window.event;return t&&t.type==="popstate"?t===fd?!1:(fd=t,!0):(fd=null,!1)}var Ky=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(t){return Yy.resolve(null).then(t).catch(kA)}:Ky;function kA(t){setTimeout(function(){throw t})}function dd(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){t.removeChild(h),ho(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);ho(i)}function md(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":md(a),rs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function PA(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[or])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function UA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function $y(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Xy(t,i,a){switch(i=tc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var xn=new Map,Wy=new Set;function nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Hi=se.d;se.d={f:LA,r:zA,D:BA,C:HA,L:jA,m:qA,X:GA,S:FA,M:QA};function LA(){var t=Hi.f(),i=Yu();return t||i}function zA(t){var i=vi(t);i!==null&&i.tag===5&&i.type==="form"?bp(i):Hi.r(t)}var Ma=typeof document>"u"?null:document;function Zy(t,i,a){var o=Ma;if(o&&typeof i=="string"&&i){var h=it(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Wy.has(h)||(Wy.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),zt(i,"link",t),Ze(i),o.head.appendChild(i)))}}function BA(t){Hi.D(t),Zy("dns-prefetch",t,null)}function HA(t,i){Hi.C(t,i),Zy("preconnect",t,i)}function jA(t,i,a){Hi.L(t,i,a);var o=Ma;if(o&&t&&i){var h='link[rel="preload"][as="'+it(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+it(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+it(a.imageSizes)+'"]')):h+='[href="'+it(t)+'"]';var d=h;switch(i){case"style":d=Va(t);break;case"script":d=xa(t)}xn.has(d)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xn.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(ro(d))||i==="script"&&o.querySelector(so(d))||(i=o.createElement("link"),zt(i,"link",t),Ze(i),o.head.appendChild(i)))}}function qA(t,i){Hi.m(t,i);var a=Ma;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+it(o)+'"][href="'+it(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=xa(t)}if(!xn.has(d)&&(t=I({rel:"modulepreload",href:t},i),xn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(so(d)))return}o=a.createElement("link"),zt(o,"link",t),Ze(o),a.head.appendChild(o)}}}function FA(t,i,a){Hi.S(t,i,a);var o=Ma;if(o&&t){var h=cr(o).hoistableStyles,d=Va(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(ro(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xn.get(d))&&gd(t,a);var R=v=o.createElement("link");Ze(R),zt(R,"link",t),R._p=new Promise(function(k,G){R.onload=k,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ic(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function GA(t,i){Hi.X(t,i);var a=Ma;if(a&&t){var o=cr(a).hoistableScripts,h=xa(t),d=o.get(h);d||(d=a.querySelector(so(h)),d||(t=I({src:t,async:!0},i),(i=xn.get(h))&&pd(t,i),d=a.createElement("script"),Ze(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function QA(t,i){Hi.M(t,i);var a=Ma;if(a&&t){var o=cr(a).hoistableScripts,h=xa(t),d=o.get(h);d||(d=a.querySelector(so(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=xn.get(h))&&pd(t,i),d=a.createElement("script"),Ze(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Jy(t,i,a,o){var h=(h=_n.current)?nc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Va(a.href),a=cr(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Va(a.href);var d=cr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ro(t)))&&!d._p&&(v.instance=d,v.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),d||KA(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=xa(a),a=cr(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Va(t){return'href="'+it(t)+'"'}function ro(t){return'link[rel="stylesheet"]['+t+"]"}function e_(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function KA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),zt(i,"link",a),Ze(i),t.head.appendChild(i))}function xa(t){return'[src="'+it(t)+'"]'}function so(t){return"script[async]"+t}function t_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+it(a.href)+'"]');if(o)return i.instance=o,Ze(o),o;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ze(o),zt(o,"style",h),ic(o,a.precedence,t),i.instance=o;case"stylesheet":h=Va(a.href);var d=t.querySelector(ro(h));if(d)return i.state.loading|=4,i.instance=d,Ze(d),d;o=e_(a),(h=xn.get(h))&&gd(o,h),d=(t.ownerDocument||t).createElement("link"),Ze(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),zt(d,"link",o),i.state.loading|=4,ic(d,a.precedence,t),i.instance=d;case"script":return d=xa(a.src),(h=t.querySelector(so(d)))?(i.instance=h,Ze(h),h):(o=a,(h=xn.get(d))&&(o=I({},a),pd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ze(h),zt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(o=i.instance,i.state.loading|=4,ic(o,a.precedence,t));return i.instance}function ic(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var rc=null;function n_(t,i,a){if(rc===null){var o=new Map,h=rc=new Map;h.set(a,o)}else h=rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[or]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function i_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function YA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function r_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ao=null;function $A(){}function XA(t,i,a){if(ao===null)throw Error(s(475));var o=ao;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=Va(a.href),d=t.querySelector(ro(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=sc.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=d,Ze(d);return}d=t.ownerDocument||t,a=e_(a),(h=xn.get(h))&&gd(a,h),d=d.createElement("link"),Ze(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),zt(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&!(i.state.loading&3)&&(o.count++,i=sc.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function WA(){if(ao===null)throw Error(s(475));var t=ao;return t.stylesheets&&t.count===0&&yd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&yd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function sc(){if(this.count--,this.count===0){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ac=null;function yd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ac=new Map,i.forEach(ZA,t),ac=null,sc.call(t))}function ZA(t,i){if(!(i.state.loading&4)){var a=ac.get(t);if(a)var o=a.get(null);else{a=new Map,ac.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var lo={$$typeof:x,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function JA(t,i,a,o,h,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.hiddenUpdates=$s(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function s_(t,i,a,o,h,d,v,T,R,k,G,Z){return t=new JA(t,i,a,v,T,R,k,Z),i=1,d===!0&&(i|=24),d=Mn(3,null,null,i),t.current=d,d.stateNode=t,i=Yh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Df(d),t}function a_(t){return t?(t=fa,t):fa}function l_(t,i,a,o,h,d){h=a_(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=br(t,o,i),a!==null&&(tn(a,t,i),Fl(a,t,i))}function o_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function _d(t,i){o_(t,i),(t=t.alternate)&&o_(t,i)}function u_(t){if(t.tag===13){var i=pr(t,67108864);i!==null&&tn(i,t,67108864),_d(t,67108864)}}var lc=!0;function eS(t,i,a,o){var h=S.T;S.T=null;var d=se.p;try{se.p=2,vd(t,i,a,o)}finally{se.p=d,S.T=h}}function tS(t,i,a,o){var h=S.T;S.T=null;var d=se.p;try{se.p=8,vd(t,i,a,o)}finally{se.p=d,S.T=h}}function vd(t,i,a,o){if(lc){var h=Ed(o);if(h===null)ld(t,i,o,oc,a),h_(t,o);else if(iS(h,t,i,a,o))o.stopPropagation();else if(h_(t,o),i&4&&-1<nS.indexOf(t)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=kn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-Wt(v);T.entanglements[1]|=R,v&=~R}si(d),!(et&6)&&(Gu=rn()+500,to(0))}}break;case 13:T=pr(d,2),T!==null&&tn(T,d,2),Yu(),_d(d,2)}if(d=Ed(o),d===null&&ld(t,i,o,oc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else ld(t,i,o,null,a)}}function Ed(t){return t=ea(t),Td(t)}var oc=null;function Td(t){if(oc=null,t=Pn(t),t!==null){var i=fe(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=qe(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return oc=t,null}function c_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ko()){case vt:return 2;case It:return 8;case yi:case Yo:return 32;case ul:return 268435456;default:return 32}default:return 32}}var Ad=!1,Nr=null,Mr=null,Vr=null,oo=new Map,uo=new Map,xr=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(t,i){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":oo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(i.pointerId)}}function co(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=vi(i),i!==null&&u_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function iS(t,i,a,o,h){switch(i){case"focusin":return Nr=co(Nr,t,i,a,o,h),!0;case"dragenter":return Mr=co(Mr,t,i,a,o,h),!0;case"mouseover":return Vr=co(Vr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return oo.set(d,co(oo.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,uo.set(d,co(uo.get(d)||null,t,i,a,o,h)),!0}return!1}function f_(t){var i=Pn(t.target);if(i!==null){var a=fe(i);if(a!==null){if(i=a.tag,i===13){if(i=qe(a),i!==null){t.blockedOn=i,lr(t.priority,function(){if(a.tag===13){var o=gn(),h=pr(a,o);h!==null&&tn(h,a,o),_d(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ed(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);An=o,a.target.dispatchEvent(o),An=null}else return i=vi(a),i!==null&&u_(i),t.blockedOn=a,!1;i.shift()}return!0}function d_(t,i,a){uc(t)&&a.delete(i)}function rS(){Ad=!1,Nr!==null&&uc(Nr)&&(Nr=null),Mr!==null&&uc(Mr)&&(Mr=null),Vr!==null&&uc(Vr)&&(Vr=null),oo.forEach(d_),uo.forEach(d_)}function cc(t,i){t.blockedOn===i&&(t.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rS)))}var hc=null;function m_(t){hc!==t&&(hc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hc===t&&(hc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Td(o||a)===null)continue;break}var d=vi(a);d!==null&&(t.splice(i,3),i-=3,hf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ho(t){function i(R){return cc(R,t)}Nr!==null&&cc(Nr,t),Mr!==null&&cc(Mr,t),Vr!==null&&cc(Vr,t),oo.forEach(i),uo.forEach(i);for(var a=0;a<xr.length;a++){var o=xr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&xr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[Et]||null;if(typeof d=="function")v||m_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Et]||null)T=v.formAction;else if(Td(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),m_(a)}}}function Sd(t){this._internalRoot=t}fc.prototype.render=Sd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=gn();l_(a,o,t,i,null,null)},fc.prototype.unmount=Sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Da(),l_(t.current,2,null,t,null,null),Yu(),i[_i]=null}};function fc(t){this._internalRoot=t}fc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Jo();t={blockedOn:null,target:t,priority:i};for(var a=0;a<xr.length&&i!==0&&i<xr[a].priority;a++);xr.splice(a,0,t),a===0&&f_(t)}};var g_=e.version;if(g_!=="19.0.0")throw Error(s(527,g_,"19.0.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ee(i),t=t!==null?ce(t):null,t=t===null?null:t.stateNode,t};var sS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Pn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{tr=dc.inject(sS),qt=dc}catch{}}return mo.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=Mp,d=Vp,v=xp,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=s_(t,1,!1,null,null,a,o,h,d,v,T,null),t[_i]=i.current,ad(t.nodeType===8?t.parentNode:t),new Sd(i)},mo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=Mp,v=Vp,T=xp,R=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=s_(t,1,!0,i,a??null,o,h,d,v,T,R,k),i.context=a_(null),a=i.current,o=gn(),h=Sr(o),h.callback=null,br(a,h,o),i.current.lanes=o,ot(i,o),si(i),t[_i]=i.current,ad(t),new fc(i)},mo.version="19.0.0",mo}var w_;function pS(){if(w_)return Rd.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rd.exports=gS(),Rd.exports}var yS=pS();const _S=Jv(yS);var go={},R_;function vS(){if(R_)return go;R_=1,Object.defineProperty(go,"__esModule",{value:!0}),go.parse=f,go.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,x){const z=new u,K=C.length;if(K<2)return z;const H=(x==null?void 0:x.decode)||E;let X=0;do{const W=C.indexOf("=",X);if(W===-1)break;const ie=C.indexOf(";",X),pe=ie===-1?K:ie;if(W>pe){X=C.lastIndexOf(";",W-1)+1;continue}const oe=m(C,X,W),Se=p(C,W,oe),M=C.slice(oe,Se);if(z[M]===void 0){let w=m(C,W+1,pe),S=p(C,pe,w);const I=H(C.slice(w,S));z[M]=I}X=pe+1}while(X<K);return z}function m(C,x,z){do{const K=C.charCodeAt(x);if(K!==32&&K!==9)return x}while(++x<z);return z}function p(C,x,z){for(;x>z;){const K=C.charCodeAt(--x);if(K!==32&&K!==9)return x+1}return z}function y(C,x,z){const K=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const H=K(x);if(!e.test(H))throw new TypeError(`argument val is invalid: ${x}`);let X=C+"="+H;if(!z)return X;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);X+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);X+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);X+="; Path="+z.path}if(z.expires){if(!b(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);X+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(X+="; HttpOnly"),z.secure&&(X+="; Secure"),z.partitioned&&(X+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return X}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function b(C){return l.call(C)==="[object Date]"}return go}vS();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C_="popstate";function ES(r={}){function e(s,l){let{pathname:u,search:f,hash:m}=s.location;return Vc("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:qa(l)}return eE(e,n,null,r)}function TS(r={}){function e(l,u){let{pathname:f="/",search:m="",hash:p=""}=Ja(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Vc("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=l.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:qa(u))}function s(l,u){qn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return eE(e,n,s,r)}function yt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AS(){return Math.random().toString(36).substring(2,10)}function I_(r,e){return{usr:r.state,key:r.key,idx:e}}function Vc(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ja(e):e,state:n,key:e&&e.key||s||AS()}}function qa({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ja(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function eE(r,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let H=E(),X=H==null?null:H-y;y=H,p&&p({action:m,location:K.location,delta:X})}function C(H,X){m="PUSH";let W=Vc(K.location,H,X);n&&n(W,H),y=E()+1;let ie=I_(W,y),pe=K.createHref(W);try{f.pushState(ie,"",pe)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;l.location.assign(pe)}u&&p&&p({action:m,location:K.location,delta:1})}function x(H,X){m="REPLACE";let W=Vc(K.location,H,X);n&&n(W,H),y=E();let ie=I_(W,y),pe=K.createHref(W);f.replaceState(ie,"",pe),u&&p&&p({action:m,location:K.location,delta:0})}function z(H){let X=l.location.origin!=="null"?l.location.origin:l.location.href,W=typeof H=="string"?H:qa(H);return W=W.replace(/ $/,"%20"),yt(X,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,X)}let K={get action(){return m},get location(){return r(l,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(C_,b),p=H,()=>{l.removeEventListener(C_,b),p=null}},createHref(H){return e(l,H)},createURL:z,encodeLocation(H){let X=z(H);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:C,replace:x,go(H){return f.go(H)}};return K}function tE(r,e,n="/"){return SS(r,e,n,!1)}function SS(r,e,n,s){let l=typeof e=="string"?Ja(e):e,u=Qr(l.pathname||"/",n);if(u==null)return null;let f=nE(r);bS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=kS(u);m=VS(f[p],y,s)}return m}function nE(r,e=[],n=[],s=""){let l=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(yt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Qi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(yt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),nE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:NS(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let p of iE(u.path))l(u,f,p)}),e}function iE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=iE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function bS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:MS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wS=/^:[\w-]+$/,RS=3,CS=2,IS=1,DS=10,OS=-2,D_=r=>r==="*";function NS(r,e){let n=r.split("/"),s=n.length;return n.some(D_)&&(s+=OS),e&&(s+=CS),n.filter(l=>!D_(l)).reduce((l,u)=>l+(wS.test(u)?RS:u===""?IS:DS),s)}function MS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function VS(r,e,n=!1){let{routesMeta:s}=r,l={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),C=p.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),f.push({params:l,pathname:Qi([u,b.pathname]),pathnameBase:zS(Qi([u,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(u=Qi([u,b.pathnameBase]))}return f}function xc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=xS(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},C)=>{if(E==="*"){let z=m[C]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const x=m[C];return b&&!x?y[E]=void 0:y[E]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function xS(r,e=!1,n=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function kS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Qr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function PS(r,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?Ja(r):r;return{pathname:n?n.startsWith("/")?n:US(n,e):e,search:BS(s),hash:HS(l)}}function US(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Od(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rE(r){let e=LS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function sE(r,e,n,s=!1){let l;typeof r=="string"?l=Ja(r):(l={...r},yt(!l.pathname||!l.pathname.includes("?"),Od("?","pathname","search",l)),yt(!l.pathname||!l.pathname.includes("#"),Od("#","pathname","hash",l)),yt(!l.search||!l.search.includes("#"),Od("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),b-=1;l.pathname=C.join("/")}m=b>=0?e[b]:"/"}let p=PS(l,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Qi=r=>r.join("/").replace(/\/\/+/g,"/"),zS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),BS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,HS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function jS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var aE=["POST","PUT","PATCH","DELETE"];new Set(aE);var qS=["GET",...aE];new Set(qS);var el=Q.createContext(null);el.displayName="DataRouter";var th=Q.createContext(null);th.displayName="DataRouterState";var lE=Q.createContext({isTransitioning:!1});lE.displayName="ViewTransition";var FS=Q.createContext(new Map);FS.displayName="Fetchers";var GS=Q.createContext(null);GS.displayName="Await";var mi=Q.createContext(null);mi.displayName="Navigation";var nh=Q.createContext(null);nh.displayName="Location";var Wi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var pm=Q.createContext(null);pm.displayName="RouteError";function QS(r,{relative:e}={}){yt(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(mi),{hash:l,pathname:u,search:f}=Po(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qi([n,u])),s.createHref({pathname:m,search:f,hash:l})}function ko(){return Q.useContext(nh)!=null}function js(){return yt(ko(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(nh).location}var oE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uE(r){Q.useContext(mi).static||Q.useLayoutEffect(r)}function ih(){let{isDataRoute:r}=Q.useContext(Wi);return r?sb():KS()}function KS(){yt(ko(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(el),{basename:e,navigator:n}=Q.useContext(mi),{matches:s}=Q.useContext(Wi),{pathname:l}=js(),u=JSON.stringify(rE(s)),f=Q.useRef(!1);return uE(()=>{f.current=!0}),Q.useCallback((p,y={})=>{if(qn(f.current,oE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=sE(p,JSON.parse(u),l,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,l,r])}Q.createContext(null);function Po(r,{relative:e}={}){let{matches:n}=Q.useContext(Wi),{pathname:s}=js(),l=JSON.stringify(rE(n));return Q.useMemo(()=>sE(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function YS(r,e,n,s){yt(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=Q.useContext(mi),{matches:f}=Q.useContext(Wi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let W=b&&b.path||"";cE(y,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let C=js(),x;x=C;let z=x.pathname||"/",K=z;if(E!=="/"){let W=E.replace(/^\//,"").split("/");K="/"+z.replace(/^\//,"").split("/").slice(W.length).join("/")}let H=!u&&n&&n.matches&&n.matches.length>0?n.matches:tE(r,{pathname:K});return qn(b||H!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),qn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),JS(H&&H.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Qi([E,l.encodeLocation?l.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:Qi([E,l.encodeLocation?l.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),f,n,s)}function $S(){let r=rb(),e=jS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:l},n):null,f)}var XS=Q.createElement($S,null),WS=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(Wi.Provider,{value:this.props.routeContext},Q.createElement(pm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZS({routeContext:r,match:e,children:n}){let s=Q.useContext(el);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Wi.Provider,{value:r},n)}function JS(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);yt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:b}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,E)=>{let b,C=!1,x=null,z=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,x=y.route.errorElement||XS,f&&(m<0&&E===0?(cE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,z=null):m===E&&(C=!0,z=y.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,E+1)),H=()=>{let X;return b?X=x:C?X=z:y.route.Component?X=Q.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=p,Q.createElement(ZS,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:X})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(WS,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:H(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):H()},null)}function ym(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eb(r){let e=Q.useContext(el);return yt(e,ym(r)),e}function tb(r){let e=Q.useContext(th);return yt(e,ym(r)),e}function nb(r){let e=Q.useContext(Wi);return yt(e,ym(r)),e}function _m(r){let e=nb(r),n=e.matches[e.matches.length-1];return yt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ib(){return _m("useRouteId")}function rb(){var s;let r=Q.useContext(pm),e=tb("useRouteError"),n=_m("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function sb(){let{router:r}=eb("useNavigate"),e=_m("useNavigate"),n=Q.useRef(!1);return uE(()=>{n.current=!0}),Q.useCallback(async(l,u={})=>{qn(n.current,oE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var O_={};function cE(r,e,n){!e&&!O_[r]&&(O_[r]=!0,qn(!1,n))}Q.memo(ab);function ab({routes:r,future:e,state:n}){return YS(r,void 0,n,e)}function mc(r){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hE({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1}){yt(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=Ja(n));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:C="default"}=n,x=Q.useMemo(()=>{let z=Qr(p,f);return z==null?null:{location:{pathname:z,search:y,hash:E,state:b,key:C},navigationType:s}},[f,p,y,E,b,C,s]);return qn(x!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:Q.createElement(mi.Provider,{value:m},Q.createElement(nh.Provider,{children:e,value:x}))}var Ac="get",Sc="application/x-www-form-urlencoded";function rh(r){return r!=null&&typeof r.tagName=="string"}function lb(r){return rh(r)&&r.tagName.toLowerCase()==="button"}function ob(r){return rh(r)&&r.tagName.toLowerCase()==="form"}function ub(r){return rh(r)&&r.tagName.toLowerCase()==="input"}function cb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function hb(r,e){return r.button===0&&(!e||e==="_self")&&!cb(r)}var gc=null;function fb(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var db=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nd(r){return r!=null&&!db.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):r}function mb(r,e){let n,s,l,u,f;if(ob(r)){let m=r.getAttribute("action");s=m?Qr(m,e):null,n=r.getAttribute("method")||Ac,l=Nd(r.getAttribute("enctype"))||Sc,u=new FormData(r)}else if(lb(r)||ub(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Qr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Ac,l=Nd(r.getAttribute("formenctype"))||Nd(m.getAttribute("enctype"))||Sc,u=new FormData(m,r),!fb()){let{name:y,type:E,value:b}=r;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,b)}}else{if(rh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ac,s=null,l=Sc,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}function vm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function gb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function yb(r,e,n){let s=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await gb(u,n);return f.links?f.links():[]}return[]}));return Tb(s.flat(1).filter(pb).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function N_(r,e,n,s,l,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function _b(r,e){return vb(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let l=[s.module];return s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function vb(r){return[...new Set(r)]}function Eb(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Tb(r,e){let n=new Set;return new Set(e),r.reduce((s,l)=>{let u=JSON.stringify(Eb(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function Ab(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Sb(){let r=Q.useContext(el);return vm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bb(){let r=Q.useContext(th);return vm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Em=Q.createContext(void 0);Em.displayName="FrameworkContext";function fE(){let r=Q.useContext(Em);return vm(r,"You must render this element inside a <HydratedRouter> element"),r}function wb(r,e){let n=Q.useContext(Em),[s,l]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,C=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=X=>{X.forEach(W=>{f(W.isIntersecting)})},H=new IntersectionObserver(K,{threshold:.5});return C.current&&H.observe(C.current),()=>{H.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let x=()=>{l(!0)},z=()=>{l(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:po(m,x),onBlur:po(p,z),onMouseEnter:po(y,x),onMouseLeave:po(E,z),onTouchStart:po(b,x)}]:[!1,C,{}]}function po(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Rb({page:r,...e}){let{router:n}=Sb(),s=Q.useMemo(()=>tE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(Ib,{page:r,matches:s,...e}):null}function Cb(r){let{manifest:e,routeModules:n}=fE(),[s,l]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return yb(r,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[r,e,n]),s}function Ib({page:r,matches:e,...n}){let s=js(),{manifest:l,routeModules:u}=fE(),{loaderData:f,matches:m}=bb(),p=Q.useMemo(()=>N_(r,e,m,l,s,"data"),[r,e,m,l,s]),y=Q.useMemo(()=>N_(r,e,m,l,s,"assets"),[r,e,m,l,s]),E=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,z=!1;if(e.forEach(H=>{var W;let X=l.routes[H.route.id];!X||!X.hasLoader||(!p.some(ie=>ie.route.id===H.route.id)&&H.route.id in f&&((W=u[H.route.id])!=null&&W.shouldRevalidate)||X.hasClientLoader?z=!0:x.add(H.route.id))}),x.size===0)return[];let K=Ab(r);return z&&x.size>0&&K.searchParams.set("_routes",e.filter(H=>x.has(H.route.id)).map(H=>H.route.id).join(",")),[K.pathname+K.search]},[f,s,l,p,e,r,u]),b=Q.useMemo(()=>_b(y,l),[y,l]),C=Cb(y);return Q.createElement(Q.Fragment,null,E.map(x=>Q.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),b.map(x=>Q.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),C.map(({key:x,link:z})=>Q.createElement("link",{key:x,...z})))}function Db(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dE&&(window.__reactRouterVersion="7.1.5")}catch{}function Ob({basename:r,children:e,window:n}){let s=Q.useRef();s.current==null&&(s.current=ES({window:n,v5Compat:!0}));let l=s.current,[u,f]=Q.useState({action:l.action,location:l.location}),m=Q.useCallback(p=>{Q.startTransition(()=>f(p))},[f]);return Q.useLayoutEffect(()=>l.listen(m),[l,m]),Q.createElement(hE,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l})}function Nb({basename:r,children:e,window:n}){let s=Q.useRef();s.current==null&&(s.current=TS({window:n,v5Compat:!0}));let l=s.current,[u,f]=Q.useState({action:l.action,location:l.location}),m=Q.useCallback(p=>{Q.startTransition(()=>f(p))},[f]);return Q.useLayoutEffect(()=>l.listen(m),[l,m]),Q.createElement(hE,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l})}var mE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eo=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...C},x){let{basename:z}=Q.useContext(mi),K=typeof y=="string"&&mE.test(y),H,X=!1;if(typeof y=="string"&&K&&(H=y,dE))try{let S=new URL(window.location.href),I=y.startsWith("//")?new URL(S.protocol+y):new URL(y),V=Qr(I.pathname,z);I.origin===S.origin&&V!=null?y=V+I.search+I.hash:X=!0}catch{qn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=QS(y,{relative:l}),[ie,pe,oe]=wb(s,C),Se=kb(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:b});function M(S){e&&e(S),S.defaultPrevented||Se(S)}let w=Q.createElement("a",{...C,...oe,href:H||W,onClick:X||u?e:M,ref:Db(x,pe),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ie&&!K?Q.createElement(Q.Fragment,null,w,Q.createElement(Rb,{page:W})):w});Eo.displayName="Link";var Mb=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let b=Po(f,{relative:y.relative}),C=js(),x=Q.useContext(th),{navigator:z,basename:K}=Q.useContext(mi),H=x!=null&&Bb(b)&&m===!0,X=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,W=C.pathname,ie=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(W=W.toLowerCase(),ie=ie?ie.toLowerCase():null,X=X.toLowerCase()),ie&&K&&(ie=Qr(ie,K)||ie);const pe=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let oe=W===X||!l&&W.startsWith(X)&&W.charAt(pe)==="/",Se=ie!=null&&(ie===X||!l&&ie.startsWith(X)&&ie.charAt(X.length)==="/"),M={isActive:oe,isPending:Se,isTransitioning:H},w=oe?e:void 0,S;typeof s=="function"?S=s(M):S=[s,oe?"active":null,Se?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(M):u;return Q.createElement(Eo,{...y,"aria-current":w,className:S,ref:E,style:I,to:f,viewTransition:m},typeof p=="function"?p(M):p)});Mb.displayName="NavLink";var Vb=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:f=Ac,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...C},x)=>{let z=Lb(),K=zb(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&mE.test(m),W=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let pe=ie.nativeEvent.submitter,oe=(pe==null?void 0:pe.getAttribute("formmethod"))||f;z(pe||ie.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return Q.createElement("form",{ref:x,method:H,action:K,onSubmit:s?p:W,...C,"data-discover":!X&&r==="render"?"true":void 0})});Vb.displayName="Form";function xb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gE(r){let e=Q.useContext(el);return yt(e,xb(r)),e}function kb(r,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=ih(),p=js(),y=Po(r,{relative:u});return Q.useCallback(E=>{if(hb(E,e)){E.preventDefault();let b=n!==void 0?n:qa(p)===qa(y);m(r,{replace:b,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,l,u,f])}var Pb=0,Ub=()=>`__${String(++Pb)}__`;function Lb(){let{router:r}=gE("useSubmit"),{basename:e}=Q.useContext(mi),n=ib();return Q.useCallback(async(s,l={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=mb(s,e);if(l.navigate===!1){let E=l.fetcherKey||Ub();await r.fetch(E,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,n])}function zb(r,{relative:e}={}){let{basename:n}=Q.useContext(mi),s=Q.useContext(Wi);yt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Po(r||".",{relative:e})},f=js();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qi([n,u.pathname])),qa(u)}function Bb(r,e={}){let n=Q.useContext(lE);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gE("useViewTransitionState"),l=Po(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Qr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Qr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xc(l.pathname,f)!=null||xc(l.pathname,u)!=null}new TextEncoder;const Hb=()=>Re.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[Re.jsx("h2",{className:"text-4xl font-bold",children:"   PencilCoin"}),Re.jsx("p",{className:"mt-2 text-lg",children:"     !"})]});var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},jb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],m=r[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,x=y&63;p||(x=64,f||(C=64)),s.push(n[E],n[b],n[C],n[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(pE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):jb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const b=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||b==null)throw new qb;const C=u<<2|m>>4;if(s.push(C),y!==64){const x=m<<4&240|y>>2;if(s.push(x),b!==64){const z=y<<6&192|b;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fb=function(r){const e=pE(r);return yE.encodeByteArray(e,!0)},kc=function(r){return Fb(r).replace(/\./g,"")},_E=function(r){try{return yE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=()=>Gb().__FIREBASE_DEFAULTS__,Kb=()=>{if(typeof process>"u"||typeof M_>"u")return;const r=M_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Yb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_E(r[1]);return e&&JSON.parse(e)},sh=()=>{try{return Qb()||Kb()||Yb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vE=r=>{var e,n;return(n=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},$b=r=>{const e=vE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},EE=()=>{var r;return(r=sh())===null||r===void 0?void 0:r.config},TE=r=>{var e;return(e=sh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[kc(JSON.stringify(n)),kc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Jb(){var r;const e=(r=sh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ew(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iw(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rw(){return!Jb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sw(){try{return typeof indexedDB=="object"}catch{return!1}}function aw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=lw,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?ow(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new Zi(l,m,s)}}function ow(r,e){return r.replace(uw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const uw=/\{\$([^}]+)}/g;function cw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Pc(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=e[l];if(V_(u)&&V_(f)){if(!Pc(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function V_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hw(r,e){const n=new fw(r,e);return n.subscribe.bind(n)}class fw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dw(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(r){return r&&r._delegate?r._delegate:r}class Us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Xb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pw(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gw(r){return r===Vs?void 0:r}function pw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const _w={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},vw=Ne.INFO,Ew={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Tw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=Ew[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=vw,this._logHandler=Tw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_w[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const Aw=(r,e)=>e.some(n=>r instanceof n);let x_,k_;function Sw(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bw(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,qd=new WeakMap,SE=new WeakMap,Vd=new WeakMap,Am=new WeakMap;function ww(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Hr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&AE.set(n,r)}).catch(()=>{}),Am.set(e,r),e}function Rw(r){if(qd.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});qd.set(r,e)}let Fd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return qd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||SE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Cw(r){Fd=r(Fd)}function Iw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xd(this),e,...n);return SE.set(s,e.sort?e.sort():[e]),Hr(s)}:bw().includes(r)?function(...e){return r.apply(xd(this),e),Hr(AE.get(this))}:function(...e){return Hr(r.apply(xd(this),e))}}function Dw(r){return typeof r=="function"?Iw(r):(r instanceof IDBTransaction&&Rw(r),Aw(r,Sw())?new Proxy(r,Fd):r)}function Hr(r){if(r instanceof IDBRequest)return ww(r);if(Vd.has(r))return Vd.get(r);const e=Dw(r);return e!==r&&(Vd.set(r,e),Am.set(e,r)),e}const xd=r=>Am.get(r);function Ow(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),m=Hr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Hr(f.result),p.oldVersion,p.newVersion,Hr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Nw=["get","getKey","getAll","getAllKeys","count"],Mw=["put","add","delete","clear"],kd=new Map;function P_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=Mw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Nw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&p.done]))[0]};return kd.set(e,u),u}Cw(r=>({...r,get:(e,n,s)=>P_(e,n)||r.get(e,n,s),has:(e,n)=>!!P_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function xw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gd="@firebase/app",U_="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Tm("@firebase/app"),kw="@firebase/app-compat",Pw="@firebase/analytics-compat",Uw="@firebase/analytics",Lw="@firebase/app-check-compat",zw="@firebase/app-check",Bw="@firebase/auth",Hw="@firebase/auth-compat",jw="@firebase/database",qw="@firebase/data-connect",Fw="@firebase/database-compat",Gw="@firebase/functions",Qw="@firebase/functions-compat",Kw="@firebase/installations",Yw="@firebase/installations-compat",$w="@firebase/messaging",Xw="@firebase/messaging-compat",Ww="@firebase/performance",Zw="@firebase/performance-compat",Jw="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",nR="@firebase/storage-compat",iR="@firebase/firestore",rR="@firebase/vertexai",sR="@firebase/firestore-compat",aR="firebase",lR="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="[DEFAULT]",oR={[Gd]:"fire-core",[kw]:"fire-core-compat",[Uw]:"fire-analytics",[Pw]:"fire-analytics-compat",[zw]:"fire-app-check",[Lw]:"fire-app-check-compat",[Bw]:"fire-auth",[Hw]:"fire-auth-compat",[jw]:"fire-rtdb",[qw]:"fire-data-connect",[Fw]:"fire-rtdb-compat",[Gw]:"fire-fn",[Qw]:"fire-fn-compat",[Kw]:"fire-iid",[Yw]:"fire-iid-compat",[$w]:"fire-fcm",[Xw]:"fire-fcm-compat",[Ww]:"fire-perf",[Zw]:"fire-perf-compat",[Jw]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[nR]:"fire-gcs-compat",[iR]:"fire-fst",[sR]:"fire-fst-compat",[rR]:"fire-vertex","fire-js":"fire-js",[aR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,uR=new Map,Kd=new Map;function L_(r,e){try{r.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fa(r){const e=r.name;if(Kd.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;Kd.set(e,r);for(const n of Uc.values())L_(n,r);for(const n of uR.values())L_(n,r);return!0}function Sm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Uo("app","Firebase",cR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=lR;function bE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Qd,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(n||(n=EE()),!n)throw jr.create("no-options");const u=Uc.get(l);if(u){if(Pc(n,u.options)&&Pc(s,u.config))return u;throw jr.create("duplicate-app",{appName:l})}const f=new yw(l);for(const p of Kd.values())f.addComponent(p);const m=new hR(n,s,f);return Uc.set(l,m),m}function wE(r=Qd){const e=Uc.get(r);if(!e&&r===Qd&&EE())return bE();if(!e)throw jr.create("no-app",{appName:r});return e}function qr(r,e,n){var s;let l=(s=oR[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(m.join(" "));return}Fa(new Us(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="firebase-heartbeat-database",dR=1,Ro="firebase-heartbeat-store";let Pd=null;function RE(){return Pd||(Pd=Ow(fR,dR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ro)}catch(n){console.warn(n)}}}}).catch(r=>{throw jr.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function mR(r){try{const n=(await RE()).transaction(Ro),s=await n.objectStore(Ro).get(CE(r));return await n.done,s}catch(e){if(e instanceof Zi)Ki.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(n.message)}}}async function z_(r,e){try{const s=(await RE()).transaction(Ro,"readwrite");await s.objectStore(Ro).put(e,CE(r)),await s.done}catch(n){if(n instanceof Zi)Ki.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(s.message)}}}function CE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1024,pR=30;class yR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>pR){const f=ER(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ki.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B_(),{heartbeatsToSend:s,unsentEntries:l}=_R(this._heartbeatsCache.heartbeats),u=kc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ki.warn(n),""}}}function B_(){return new Date().toISOString().substring(0,10)}function _R(r,e=gR){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),H_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),H_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sw()?aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function H_(r){return kc(JSON.stringify({version:2,heartbeats:r})).length}function ER(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r){Fa(new Us("platform-logger",e=>new Vw(e),"PRIVATE")),Fa(new Us("heartbeat",e=>new yR(e),"PRIVATE")),qr(Gd,U_,r),qr(Gd,U_,"esm2017"),qr("fire-js","")}TR("");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,IE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,w){function S(){}S.prototype=w.prototype,M.D=w.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(I,V,L){for(var D=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)D[_t-2]=arguments[_t];return w.prototype[V].apply(I,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,w,S){S||(S=0);var I=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)I[V]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(V=0;16>V;++V)I[V]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=M.g[0],S=M.g[1],V=M.g[2];var L=M.g[3],D=w+(L^S&(V^L))+I[0]+3614090360&4294967295;w=S+(D<<7&4294967295|D>>>25),D=L+(V^w&(S^V))+I[1]+3905402710&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(S^L&(w^S))+I[2]+606105819&4294967295,V=L+(D<<17&4294967295|D>>>15),D=S+(w^V&(L^w))+I[3]+3250441966&4294967295,S=V+(D<<22&4294967295|D>>>10),D=w+(L^S&(V^L))+I[4]+4118548399&4294967295,w=S+(D<<7&4294967295|D>>>25),D=L+(V^w&(S^V))+I[5]+1200080426&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(S^L&(w^S))+I[6]+2821735955&4294967295,V=L+(D<<17&4294967295|D>>>15),D=S+(w^V&(L^w))+I[7]+4249261313&4294967295,S=V+(D<<22&4294967295|D>>>10),D=w+(L^S&(V^L))+I[8]+1770035416&4294967295,w=S+(D<<7&4294967295|D>>>25),D=L+(V^w&(S^V))+I[9]+2336552879&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(S^L&(w^S))+I[10]+4294925233&4294967295,V=L+(D<<17&4294967295|D>>>15),D=S+(w^V&(L^w))+I[11]+2304563134&4294967295,S=V+(D<<22&4294967295|D>>>10),D=w+(L^S&(V^L))+I[12]+1804603682&4294967295,w=S+(D<<7&4294967295|D>>>25),D=L+(V^w&(S^V))+I[13]+4254626195&4294967295,L=w+(D<<12&4294967295|D>>>20),D=V+(S^L&(w^S))+I[14]+2792965006&4294967295,V=L+(D<<17&4294967295|D>>>15),D=S+(w^V&(L^w))+I[15]+1236535329&4294967295,S=V+(D<<22&4294967295|D>>>10),D=w+(V^L&(S^V))+I[1]+4129170786&4294967295,w=S+(D<<5&4294967295|D>>>27),D=L+(S^V&(w^S))+I[6]+3225465664&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^S&(L^w))+I[11]+643717713&4294967295,V=L+(D<<14&4294967295|D>>>18),D=S+(L^w&(V^L))+I[0]+3921069994&4294967295,S=V+(D<<20&4294967295|D>>>12),D=w+(V^L&(S^V))+I[5]+3593408605&4294967295,w=S+(D<<5&4294967295|D>>>27),D=L+(S^V&(w^S))+I[10]+38016083&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^S&(L^w))+I[15]+3634488961&4294967295,V=L+(D<<14&4294967295|D>>>18),D=S+(L^w&(V^L))+I[4]+3889429448&4294967295,S=V+(D<<20&4294967295|D>>>12),D=w+(V^L&(S^V))+I[9]+568446438&4294967295,w=S+(D<<5&4294967295|D>>>27),D=L+(S^V&(w^S))+I[14]+3275163606&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^S&(L^w))+I[3]+4107603335&4294967295,V=L+(D<<14&4294967295|D>>>18),D=S+(L^w&(V^L))+I[8]+1163531501&4294967295,S=V+(D<<20&4294967295|D>>>12),D=w+(V^L&(S^V))+I[13]+2850285829&4294967295,w=S+(D<<5&4294967295|D>>>27),D=L+(S^V&(w^S))+I[2]+4243563512&4294967295,L=w+(D<<9&4294967295|D>>>23),D=V+(w^S&(L^w))+I[7]+1735328473&4294967295,V=L+(D<<14&4294967295|D>>>18),D=S+(L^w&(V^L))+I[12]+2368359562&4294967295,S=V+(D<<20&4294967295|D>>>12),D=w+(S^V^L)+I[5]+4294588738&4294967295,w=S+(D<<4&4294967295|D>>>28),D=L+(w^S^V)+I[8]+2272392833&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^S)+I[11]+1839030562&4294967295,V=L+(D<<16&4294967295|D>>>16),D=S+(V^L^w)+I[14]+4259657740&4294967295,S=V+(D<<23&4294967295|D>>>9),D=w+(S^V^L)+I[1]+2763975236&4294967295,w=S+(D<<4&4294967295|D>>>28),D=L+(w^S^V)+I[4]+1272893353&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^S)+I[7]+4139469664&4294967295,V=L+(D<<16&4294967295|D>>>16),D=S+(V^L^w)+I[10]+3200236656&4294967295,S=V+(D<<23&4294967295|D>>>9),D=w+(S^V^L)+I[13]+681279174&4294967295,w=S+(D<<4&4294967295|D>>>28),D=L+(w^S^V)+I[0]+3936430074&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^S)+I[3]+3572445317&4294967295,V=L+(D<<16&4294967295|D>>>16),D=S+(V^L^w)+I[6]+76029189&4294967295,S=V+(D<<23&4294967295|D>>>9),D=w+(S^V^L)+I[9]+3654602809&4294967295,w=S+(D<<4&4294967295|D>>>28),D=L+(w^S^V)+I[12]+3873151461&4294967295,L=w+(D<<11&4294967295|D>>>21),D=V+(L^w^S)+I[15]+530742520&4294967295,V=L+(D<<16&4294967295|D>>>16),D=S+(V^L^w)+I[2]+3299628645&4294967295,S=V+(D<<23&4294967295|D>>>9),D=w+(V^(S|~L))+I[0]+4096336452&4294967295,w=S+(D<<6&4294967295|D>>>26),D=L+(S^(w|~V))+I[7]+1126891415&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~S))+I[14]+2878612391&4294967295,V=L+(D<<15&4294967295|D>>>17),D=S+(L^(V|~w))+I[5]+4237533241&4294967295,S=V+(D<<21&4294967295|D>>>11),D=w+(V^(S|~L))+I[12]+1700485571&4294967295,w=S+(D<<6&4294967295|D>>>26),D=L+(S^(w|~V))+I[3]+2399980690&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~S))+I[10]+4293915773&4294967295,V=L+(D<<15&4294967295|D>>>17),D=S+(L^(V|~w))+I[1]+2240044497&4294967295,S=V+(D<<21&4294967295|D>>>11),D=w+(V^(S|~L))+I[8]+1873313359&4294967295,w=S+(D<<6&4294967295|D>>>26),D=L+(S^(w|~V))+I[15]+4264355552&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~S))+I[6]+2734768916&4294967295,V=L+(D<<15&4294967295|D>>>17),D=S+(L^(V|~w))+I[13]+1309151649&4294967295,S=V+(D<<21&4294967295|D>>>11),D=w+(V^(S|~L))+I[4]+4149444226&4294967295,w=S+(D<<6&4294967295|D>>>26),D=L+(S^(w|~V))+I[11]+3174756917&4294967295,L=w+(D<<10&4294967295|D>>>22),D=V+(w^(L|~S))+I[2]+718787259&4294967295,V=L+(D<<15&4294967295|D>>>17),D=S+(L^(V|~w))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+L&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var S=w-this.blockSize,I=this.B,V=this.h,L=0;L<w;){if(V==0)for(;L<=S;)l(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<w;)if(I[V++]=M.charCodeAt(L++),V==this.blockSize){l(this,I),V=0;break}}else for(;L<w;)if(I[V++]=M[L++],V==this.blockSize){l(this,I),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var S=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=S&255,S/=256;for(this.u(M),M=Array(16),w=S=0;4>w;++w)for(var I=0;32>I;I+=8)M[S++]=this.g[w]>>>I&255;return M};function u(M,w){var S=m;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=w(M)}function f(M,w){this.h=w;for(var S=[],I=!0,V=M.length-1;0<=V;V--){var L=M[V]|0;I&&L==w||(S[V]=L,I=!1)}this.g=S}var m={};function p(M){return-128<=M&&128>M?u(M,function(w){return new f([w|0],0>w?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return H(y(-M));for(var w=[],S=1,I=0;M>=S;I++)w[I]=M/S|0,S*=4294967296;return new f(w,0)}function E(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return H(E(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),I=b,V=0;V<M.length;V+=8){var L=Math.min(8,M.length-V),D=parseInt(M.substring(V,V+L),w);8>L?(L=y(Math.pow(w,L)),I=I.j(L).add(y(D))):(I=I.j(S),I=I.add(y(D)))}return I}var b=p(0),C=p(1),x=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-H(this).m();for(var M=0,w=1,S=0;S<this.g.length;S++){var I=this.i(S);M+=(0<=I?I:4294967296+I)*w,w*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(z(this))return"0";if(K(this))return"-"+H(this).toString(M);for(var w=y(Math.pow(M,6)),S=this,I="";;){var V=pe(S,w).g;S=X(S,V.j(w));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=V,z(S))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function z(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function K(M){return M.h==-1}r.l=function(M){return M=X(this,M),K(M)?-1:z(M)?0:1};function H(M){for(var w=M.g.length,S=[],I=0;I<w;I++)S[I]=~M.g[I];return new f(S,~M.h).add(C)}r.abs=function(){return K(this)?H(this):this},r.add=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0,V=0;V<=w;V++){var L=I+(this.i(V)&65535)+(M.i(V)&65535),D=(L>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);I=D>>>16,L&=65535,D&=65535,S[V]=D<<16|L}return new f(S,S[S.length-1]&-2147483648?-1:0)};function X(M,w){return M.add(H(w))}r.j=function(M){if(z(this)||z(M))return b;if(K(this))return K(M)?H(this).j(H(M)):H(H(this).j(M));if(K(M))return H(this.j(H(M)));if(0>this.l(x)&&0>M.l(x))return y(this.m()*M.m());for(var w=this.g.length+M.g.length,S=[],I=0;I<2*w;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<M.g.length;V++){var L=this.i(I)>>>16,D=this.i(I)&65535,_t=M.i(V)>>>16,ht=M.i(V)&65535;S[2*I+2*V]+=D*ht,W(S,2*I+2*V),S[2*I+2*V+1]+=L*ht,W(S,2*I+2*V+1),S[2*I+2*V+1]+=D*_t,W(S,2*I+2*V+1),S[2*I+2*V+2]+=L*_t,W(S,2*I+2*V+2)}for(I=0;I<w;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=w;I<2*w;I++)S[I]=0;return new f(S,0)};function W(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function ie(M,w){this.g=M,this.h=w}function pe(M,w){if(z(w))throw Error("division by zero");if(z(M))return new ie(b,b);if(K(M))return w=pe(H(M),w),new ie(H(w.g),H(w.h));if(K(w))return w=pe(M,H(w)),new ie(H(w.g),w.h);if(30<M.g.length){if(K(M)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var S=C,I=w;0>=I.l(M);)S=oe(S),I=oe(I);var V=Se(S,1),L=Se(I,1);for(I=Se(I,2),S=Se(S,2);!z(I);){var D=L.add(I);0>=D.l(M)&&(V=V.add(S),L=D),I=Se(I,1),S=Se(S,1)}return w=X(M,V.j(w)),new ie(V,w)}for(V=b;0<=M.l(w);){for(S=Math.max(1,Math.floor(M.m()/w.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=y(S),D=L.j(w);K(D)||0<D.l(M);)S-=I,L=y(S),D=L.j(w);z(L)&&(L=C),V=V.add(L),M=X(M,D)}return new ie(V,M)}r.A=function(M){return pe(this,M).h},r.and=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)&M.i(I);return new f(S,this.h&M.h)},r.or=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)|M.i(I);return new f(S,this.h|M.h)},r.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)^M.i(I);return new f(S,this.h^M.h)};function oe(M){for(var w=M.g.length+1,S=[],I=0;I<w;I++)S[I]=M.i(I)<<1|M.i(I-1)>>>31;return new f(S,M.h)}function Se(M,w){var S=w>>5;w%=32;for(var I=M.g.length-S,V=[],L=0;L<I;L++)V[L]=0<w?M.i(L+S)>>>w|M.i(L+S+1)<<32-w:M.i(L+S);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,IE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Fr=f}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DE,yo,OE,bc,Yd,NE,ME,VE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(c,g){if(g)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break e;_=_[U]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var q=_++;return{value:g(q,c[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function C(c,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,C.apply(null,arguments)}function x(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function z(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,q){for(var te=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)te[ke-2]=arguments[ke];return g.prototype[U].apply(A,te)}}function K(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function H(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=c.length||0,q=A.length||0;c.length=U+q;for(let te=0;te<q;te++)c[U+te]=A[te]}else c.push(A)}}class X{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function W(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var oe=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Se(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function M(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function w(c){const g={};for(const _ in c)g[_]=c[_];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let q=0;q<S.length;q++)_=S[q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function D(){var c=qe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class _t{constructor(){this.h=this.g=null}add(g,_){const A=ht.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ht=new X(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,fe=!1,qe=new _t,O=()=>{const c=m.Promise.resolve(void 0);ye=()=>{c.then(ee)}};var ee=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var g=ht;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}fe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Ce(c,g){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(oe){e:{try{pe(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}z(Ce,re);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),ze=0;function nt(c,g,_,A,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=U,this.key=++ze,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xt(c){this.src=c,this.g={},this.h=0}Xt.prototype.add=function(c,g,_,A,U){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var te=_n(c,g,A,U);return-1<te?(g=c[te],_||(g.fa=!1)):(g=new nt(g,this.src,q,!!A,U),g.fa=_,c.push(g)),g};function gi(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,g,void 0),q;(q=0<=U)&&Array.prototype.splice.call(A,U,1),q&&(Qe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function _n(c,g,_,A){for(var U=0;U<c.length;++U){var q=c[U];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==A)return U}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),er={};function pi(c,g,_,A,U){if(Array.isArray(g)){for(var q=0;q<g.length;q++)pi(c,g[q],_,A,U);return null}return _=Ko(_),c&&c[ft]?c.K(g,_,y(A)?!!A.capture:!1,U):ll(c,g,_,!1,A,U)}function ll(c,g,_,A,U,q){if(!g)throw Error("Invalid event type");var te=y(U)?!!U.capture:!!U,ke=ol(c);if(ke||(c[Ji]=ke=new Xt(c)),_=ke.add(g,_,A,te,q),_.proxy)return _;if(A=Gs(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)se||(U=te),U===void 0&&(U=!1),c.addEventListener(g.toString(),A,U);else if(c.attachEvent)c.attachEvent(Ks(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gs(){function c(_){return g.call(c.src,c.listener,_)}const g=wh;return c}function Qs(c,g,_,A,U){if(Array.isArray(g))for(var q=0;q<g.length;q++)Qs(c,g[q],_,A,U);else A=y(A)?!!A.capture:!!A,_=Ko(_),c&&c[ft]?(c=c.i,g=String(g).toString(),g in c.g&&(q=c.g[g],_=_n(q,_,A,U),-1<_&&(Qe(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[g],c.h--)))):c&&(c=ol(c))&&(g=c.g[g.toString()],c=-1,g&&(c=_n(g,_,A,U)),(_=-1<c?g[c]:null)&&ts(_))}function ts(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ft])gi(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(Ks(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=ol(g))?(gi(_,c),_.h==0&&(_.src=null,g[Ji]=null)):Qe(c)}}}function Ks(c){return c in er?er[c]:er[c]="on"+c}function wh(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&ts(c),c=_.call(A,g)}return c}function ol(c){return c=c[Ji],c instanceof Xt?c:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(g){return c.handleEvent(g)}),c[rn])}function vt(){ce.call(this),this.i=new Xt(this),this.M=this,this.F=null}z(vt,ce),vt.prototype[ft]=!0,vt.prototype.removeEventListener=function(c,g,_,A){Qs(this,c,g,_,A)};function It(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new re(g,c);else if(g instanceof re)g.target=g.target||c;else{var U=g;g=new re(A,c),I(g,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var te=g.g=_[q];U=yi(te,A,!0,g)&&U}if(te=g.g=c,U=yi(te,A,!0,g)&&U,U=yi(te,A,!1,g)&&U,_)for(q=0;q<_.length;q++)te=g.g=_[q],U=yi(te,A,!1,g)&&U}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Qe(_[A]);delete c.g[g],c.h--}}this.F=null},vt.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},vt.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function yi(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,q=0;q<g.length;++q){var te=g[q];if(te&&!te.da&&te.capture==_){var ke=te.listener,Tt=te.ha||te.src;te.fa&&gi(c.i,te),U=ke.call(Tt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Yo(c,g,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function ul(c){c.g=Yo(()=>{c.g=null,c.i&&(c.i=!1,ul(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Rh extends ce{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ul(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(c){ce.call(this),this.h=c,this.g={}}z(ns,ce);var tr=[];function qt(c){Se(c.g,function(g,_){this.g.hasOwnProperty(_)&&ts(g)},c),c.g={}}ns.prototype.N=function(){ns.aa.N.call(this),qt(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=m.JSON.stringify,Fn=m.JSON.parse,Wt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function hl(){}hl.prototype.h=null;function $o(c){return c.h||(c.h=c.i())}function Xo(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){re.call(this,"d")}z(nr,re);function kn(){re.call(this,"c")}z(kn,re);var vn={},ir=null;function Ys(){return ir=ir||new vt}vn.La="serverreachability";function fl(c){re.call(this,vn.La,c)}z(fl,re);function rr(c){const g=Ys();It(g,new fl(g))}vn.STAT_EVENT="statevent";function $s(c,g){re.call(this,vn.STAT_EVENT,c),this.stat=g}z($s,re);function ot(c){const g=Ys();It(g,new $s(g,c))}vn.Ma="timingevent";function Wo(c,g){re.call(this,vn.Ma,c),this.size=g}z(Wo,re);function sr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function Zo(c,g,_,A,U,q){c.info(function(){if(c.g)if(q)for(var te="",ke=q.split("&"),Tt=0;Tt<ke.length;Tt++){var Pe=ke[Tt].split("=");if(1<Pe.length){var Nt=Pe[0];Pe=Pe[1];var At=Nt.split("_");te=2<=At.length&&At[1]=="type"?te+(Nt+"="+Pe+"&"):te+(Nt+"=redacted&")}}else te=null;else te=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+_+`
`+te})}function Jo(c,g,_,A,U,q,te){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+_+`
`+q+" "+te})}function lr(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Dt(c,_)+(A?" "+A:"")})}function Qn(c,g){c.info(function(){return"TIMEOUT: "+g})}ar.prototype.info=function(){};function Dt(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return cl(_)}catch{return g}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},is;function Xs(){}z(Xs,hl),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},is=new Xs;function Kn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dl}function dl(){this.i=null,this.g="",this.h=!1}var or={},rs={};function Pn(c,g,_){c.L=1,c.v=ls(it(g)),c.m=_,c.P=!0,vi(c,null)}function vi(c,g){c.F=Date.now(),Ze(c),c.A=it(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ai(_.i,"t",A),c.C=0,_=c.j.J,c.h=new dl,c.g=du(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Rh(C(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(tr[0]=U.toString()),U=tr);for(var q=0;q<U.length;q++){var te=pi(_,U[q],A||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),rr(),Zo(c.i,c.u,c.A,c.l,c.R,c.m)}Kn.prototype.ca=function(c){c=c.target;const g=this.M;g&&bn(c)==3?g.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const At=bn(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||su(this.g)))){this.J||At!=4||g==7||(g==8||0>=Ri?rr(3):rr(2)),Ws(this);var _=this.g.Z();this.X=_;t:if(ur(this)){var A=su(this.g);c="";var U=A.length,q=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),un(this);var te="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(q&&g==U-1)});A.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=_==200,Jo(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Tt=this.g;if((ke=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ke)){var Pe=ke;break t}}Pe=null}if(_=Pe)lr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,_);else{this.o=!1,this.s=3,ot(12),sn(this),un(this);break e}}if(this.P){_=!0;let Pt;for(;!this.J&&this.C<te.length;)if(Pt=cr(this,te),Pt==rs){At==4&&(this.s=4,ot(14),_=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==or){this.s=4,ot(15),lr(this.i,this.l,te,"[Invalid Chunk]"),_=!1;break}else lr(this.i,this.l,Pt,null),cn(this,Pt);if(ur(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||te.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)lr(this.i,this.l,te,"[Invalid Chunked Response]"),sn(this),un(this);else if(0<te.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),ms(Nt),Nt.M=!0,ot(11))}}else lr(this.i,this.l,te,null),cn(this,te);At==4&&sn(this),this.o&&!this.J&&(At==4?cu(this.j,this):(this.o=!1,Ze(this)))}else Mh(this.g),_==400&&0<te.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),sn(this),un(this)}}}catch{}finally{}};function ur(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cr(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?rs:(_=Number(g.substring(_,A)),isNaN(_)?or:(A+=1,A+_>g.length?rs:(g=g.slice(A,A+_),c.C=A+_,g)))}Kn.prototype.cancel=function(){this.J=!0,sn(this)};function Ze(c){c.S=Date.now()+c.I,ml(c,c.I)}function ml(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=sr(C(c.ba,c),g)}function Ws(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qn(this.i,this.A),this.L!=2&&(rr(),ot(17)),sn(this),this.s=2,un(this)):ml(this,this.S-c)};function un(c){c.j.G==0||c.J||cu(c.j,c)}function sn(c){Ws(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,qt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function cn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||hr(_.h,c))){if(!c.K&&hr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)la(_),sa(_);else break e;wl(_),ot(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=sr(C(_.Za,_),6e3));if(1>=eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wi(_,11)}else if((c.K||_.g==c)&&la(_),!W(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Pe=U[g];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Nt=Pe[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const At=Pe[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Ri=Pe[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Pt=c.g;if(Pt){const ei=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var q=A.h;q.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(fr(q,q.h),q.h=null))}if(A.D){const Cl=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(A.ya=Cl,Be(A.I,A.D,Cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var te=c;if(A.qa=fu(A,A.J?A.ia:null,A.W),te.K){En(A.h,te);var ke=te,Tt=A.L;Tt&&(ke.I=Tt),ke.B&&(Ws(ke),Ze(ke)),A.g=te}else ou(A);0<_.i.length&&aa(_)}else Pe[0]!="stop"&&Pe[0]!="close"||wi(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?wi(_,7):Sl(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}rr(4)}catch{}}var Ch=class{constructor(c,g){this.g=c,this.map=g}};function gl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function eu(c){return c.h?1:c.g?c.g.size:0}function hr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function fr(c,g){c.g?c.g.add(g):c.h=g}function En(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}gl.prototype.cancel=function(){if(this.i=Zt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return K(c.i)}function tu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function Ih(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function ss(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ih(c),A=tu(c),U=A.length,q=0;q<U;q++)g.call(void 0,A[q],_&&_[q],c)}var yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var q=c[_].substring(0,A);U=c[_].substring(A+1)}else q=c[_];g(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ei){this.h=c.h,dr(this,c.j),this.o=c.o,this.g=c.g,as(this,c.s),this.l=c.l;var g=c.i,_=new Yn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Js(this,_),this.m=c.m}else c&&(g=String(c).match(yl))?(this.h=!1,dr(this,g[1]||"",!0),this.o=mr(g[2]||""),this.g=mr(g[3]||"",!0),as(this,g[4]),this.l=mr(g[5]||"",!0),Js(this,g[6]||"",!0),this.m=mr(g[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}Ei.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Tn(g,_l,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Tn(g,_l,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Tn(_,_.charAt(0)=="/"?vl:nu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Tn(_,Nh)),c.join("")};function it(c){return new Ei(c)}function dr(c,g,_){c.j=_?mr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function as(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Js(c,g,_){g instanceof Yn?(c.i=g,El(c.i,c.h)):(_||(g=Tn(g,Oh)),c.i=new Yn(g,c.h))}function Be(c,g,_){c.i.set(g,_)}function ls(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Tn(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Dh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Dh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _l=/[#\/\?@]/g,nu=/[#\?:]/g,vl=/[#\?]/g,Oh=/[#\?@]/g,Nh=/#/g;function Yn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&Zs(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Yn.prototype,r.add=function(c,g){An(this),this.i=null,c=Si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function ea(c,g){An(c),g=Si(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ti(c,g){return An(c),g=Si(c,g),c.g.has(g)}r.forEach=function(c,g){An(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(g,U,A,this)},this)},this)},r.na=function(){An(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const U=c[A];for(let q=0;q<U.length;q++)_.push(g[A])}return _},r.V=function(c){An(this);let g=[];if(typeof c=="string")Ti(this,c)&&(g=g.concat(this.g.get(Si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return An(this),this.i=null,c=Si(this,c),Ti(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ai(c,g,_){ea(c,g),0<_.length&&(c.i=null,c.g.set(Si(c,g),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const q=encodeURIComponent(String(A)),te=this.V(A);for(A=0;A<te.length;A++){var U=q;te[A]!==""&&(U+="="+encodeURIComponent(String(te[A]))),c.push(U)}}return this.i=c.join("&")};function Si(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function El(c,g){g&&!c.j&&(An(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(ea(this,A),Ai(this,U,_))},c)),c.j=g}function iu(c,g){const _=new ar;if(m.Image){const A=new Image;A.onload=x(Sn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=x(Sn,_,"TestLoadImage: error",!1,g,A),A.onabort=x(Sn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=x(Sn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function os(c,g){const _=new ar,A=new AbortController,U=setTimeout(()=>{A.abort(),Sn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?Sn(_,"TestPingServer: ok",!0,g):Sn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Sn(_,"TestPingServer: error",!1,g)})}function Sn(c,g,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function us(){this.g=new Wt}function $n(c,g,_){const A=_||"";try{ss(c,function(U,q){let te=U;y(U)&&(te=cl(U)),g.push(A+q+"="+encodeURIComponent(te))})}catch(U){throw g.push(A+"type="+encodeURIComponent("_badmap")),U}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}z(gr,hl),gr.prototype.g=function(){return new bi(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function bi(c,g){vt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(bi,vt),r=bi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Xn(this):Wn(this),this.readyState==3&&Tl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Xn(this))},r.Qa=function(c){this.g&&(this.response=c,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Al(c){let g="";return Se(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ot(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Al(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,g,_))}function Fe(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Fe,vt);var ta=/^https?$/i,cs=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():is.g(),this.v=this.o?$o(this.o):$o(is),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){ru(this,q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(cs,g,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of _)this.g.setRequestHeader(q,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){ru(this,q)}};function ru(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,na(c),Zn(c)}function na(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},r.bb=function(){ia(this)};function ia(c){if(c.h&&typeof f<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)Yo(c.Ea,0,c);else if(It(c,"readystatechange"),bn(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=te===0){var U=String(c.D).match(yl)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!ta.test(U?U.toLowerCase():"")}_=A}if(_)It(c,"complete"),It(c,"success");else{c.m=6;try{var q=2<bn(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",na(c)}}finally{Zn(c)}}}}function Zn(c,g){if(c.g){hs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||It(c,"ready");try{_.onreadystatechange=A}catch{}}}function hs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Fn(g)}};function su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mh(c){const g={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(W(c[A]))continue;var _=V(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[U]||[];g[U]=q,q.push(_)}M(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ra(c){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,c),this.cb=fs("retryDelaySeedMs",1e4,c),this.Wa=fs("forwardChannelMaxRetries",2,c),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gl(c&&c.concurrentRequestLimit),this.Da=new us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ra.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){ot(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=fu(this,null,this.W),aa(this)};function Sl(c){if(au(c),c.G==3){var g=c.U++,_=it(c.I);if(Be(_,"SID",c.K),Be(_,"RID",g),Be(_,"TYPE","terminate"),ds(c,_),g=new Kn(c,c.j,g),g.L=2,g.v=ls(it(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=du(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ze(g)}hu(c)}function sa(c){c.g&&(ms(c),c.g.cancel(),c.g=null)}function au(c){sa(c),c.u&&(m.clearTimeout(c.u),c.u=null),la(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function aa(c){if(!pl(c.h)&&!c.s){c.s=!0;var g=c.Ga;ye||O(),fe||(ye(),fe=!0),qe.add(g,c),c.B=0}}function Vh(c,g){return eu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=sr(C(c.Ga,c,g),Rl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Kn(this,this.j,c);let q=this.o;if(this.S&&(q?(q=w(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=lu(this,U,g),_=it(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),ds(this,_),q&&(this.O?g="headers="+encodeURIComponent(String(Al(q)))+"&"+g:this.m&&Ot(_,this.m,q)),fr(this.h,U),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",g),Be(_,"SID","null"),U.T=!0,Pn(U,_,null)):Pn(U,_,g),this.G=2}}else this.G==3&&(c?bl(this,c):this.i.length==0||pl(this.h)||bl(this))};function bl(c,g){var _;g?_=g.l:_=c.U++;const A=it(c.I);Be(A,"SID",c.K),Be(A,"RID",_),Be(A,"AID",c.T),ds(c,A),c.m&&c.o&&Ot(A,c.m,c.o),_=new Kn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=lu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fr(c.h,_),Pn(_,A,g)}function ds(c,g){c.H&&Se(c.H,function(_,A){Be(g,A,_)}),c.l&&ss({},function(_,A){Be(g,A,_)})}function lu(c,g,_){_=Math.min(c.i.length,_);var A=c.l?C(c.l.Na,c.l,c):null;e:{var U=c.i;let q=-1;for(;;){const te=["count="+_];q==-1?0<_?(q=U[0].g,te.push("ofs="+q)):q=0:te.push("ofs="+q);let ke=!0;for(let Tt=0;Tt<_;Tt++){let Pe=U[Tt].g;const Nt=U[Tt].map;if(Pe-=q,0>Pe)q=Math.max(0,U[Tt].g-100),ke=!1;else try{$n(Nt,te,"req"+Pe+"_")}catch{A&&A(Nt)}}if(ke){A=te.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function ou(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ye||O(),fe||(ye(),fe=!0),qe.add(g,c),c.v=0}}function wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=sr(C(c.Fa,c),Rl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=sr(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),sa(this),uu(this))};function ms(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function uu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=it(c.qa);Be(g,"RID","rpc"),Be(g,"SID",c.K),Be(g,"AID",c.T),Be(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(g,"TO",c.ja),Be(g,"TYPE","xmlhttp"),ds(c,g),c.m&&c.o&&Ot(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ls(it(g)),_.m=null,_.P=!0,vi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,sa(this),wl(this),ot(19))};function la(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function cu(c,g){var _=null;if(c.g==g){la(c),ms(c),c.g=null;var A=2}else if(hr(c.h,g))_=g.D,En(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;A=Ys(),It(A,new Wo(A,_)),aa(c)}else ou(c);else if(U=g.s,U==3||U==0&&0<g.X||!(A==1&&Vh(c,g)||A==2&&wl(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Rl(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function wi(c,g){if(c.j.info("Error code "+g),g==2){var _=C(c.fb,c),A=c.Xa;const U=!A;A=new Ei(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||dr(A,"https"),ls(A),U?iu(A.toString(),_):os(A.toString(),_)}else ot(2);c.G=0,c.l&&c.l.sa(g),hu(c),au(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function hu(c){if(c.G=0,c.ka=[],c.l){const g=Zt(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ka,g),H(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function fu(c,g,_){var A=_ instanceof Ei?it(_):new Ei(_);if(A.g!="")g&&(A.g=g+"."+A.g),as(A,A.s);else{var U=m.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var q=new Ei(null);A&&dr(q,A),g&&(q.g=g),U&&as(q,U),_&&(q.l=_),A=q}return _=c.D,g=c.ya,_&&g&&Be(A,_,g),Be(A,"VER",c.la),ds(c,A),A}function du(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Fe(new gr({eb:_})):new Fe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function oa(){}oa.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){vt.call(this),this.g=new ra(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!W(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!W(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jn(this)}z(Jt,vt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Sl(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=cl(c),c=_);g.i.push(new Ch(g.Ya++,c)),g.G==3&&aa(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,Jt.aa.N.call(this)};function gu(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}z(gu,nr);function pu(){kn.call(this),this.status=1}z(pu,kn);function Jn(c){this.g=c}z(Jn,mu),Jn.prototype.ua=function(){It(this.g,"a")},Jn.prototype.ta=function(c){It(this.g,new gu(c))},Jn.prototype.sa=function(c){It(this.g,new pu)},Jn.prototype.ra=function(){It(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,VE=function(){return new oa},ME=function(){return Ys()},NE=vn,Yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,bc=Et,_i.COMPLETE="complete",OE=_i,Xo.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,yo=Xo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,DE=Fe}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",F_="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Tm("@firebase/firestore");function ka(){return Ls.logLevel}function ae(r,...e){if(Ls.logLevel<=Ne.DEBUG){const n=e.map(bm);Ls.debug(`Firestore (${nl}): ${r}`,...n)}}function Yi(r,...e){if(Ls.logLevel<=Ne.ERROR){const n=e.map(bm);Ls.error(`Firestore (${nl}): ${r}`,...n)}}function Ga(r,...e){if(Ls.logLevel<=Ne.WARN){const n=e.map(bm);Ls.warn(`Firestore (${nl}): ${r}`,...n)}}function bm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r="Unexpected state"){const e=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+r;throw Yi(e),new Error(e)}function Ge(r,e){r||_e()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class SR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new xE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Kt(e)}}class wR{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class RR{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new wR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Hn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const l=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new G_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=IR(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function Xd(r,e){const n=$d().encode(r),s=$d().encode(e);for(let l=0;l<Math.min(n.length,s.length);l++){const u=Me(n[l],s[l]);if(u!==0)return u}return Me(n.length,s.length)}function Qa(r,e,n){return r.length===e.length&&r.every((s,l)=>n(s,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,K_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*K_);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q_)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Rt(0,0))}static max(){return new Ee(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(),s===void 0?s=e.length-n:s>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=ai.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=ai.isNumericId(e),l=ai.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ai.extractNumericId(e).compare(ai.extractNumericId(n)):Xd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class lt extends ai{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const DR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends ai{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return DR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new Ht([Y_])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(lt.fromString(e))}static fromName(e){return new me(lt.fromString(e).popFirst(5))}static empty(){return new me(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=-1;function OR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Ee.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new Kr(l,me.empty(),e)}function NR(r){return new Kr(r.readTime,r.key,Co)}class Kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(Ee.min(),me.empty(),Co)}static max(){return new Kr(Ee.max(),me.empty(),Co)}}function MR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==VR)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,s)=>{n(e)})}static reject(e){return new $((n,s)=>{s(e)})}static waitFor(e){return new $((n,s)=>{let l=0,u=0,f=!1;e.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&n()},p=>s(p))}),f=!0,u===l&&n()})}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next(l=>l?$.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,u)=>{s.push(n.call(this,l,u))}),this.waitFor(s)}static mapArray(e,n){return new $((s,l)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>l(E))}})}static doWhile(e,n){return new $((s,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):s()};u()})}}function kR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ah.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=-1;function lh(r){return r==null}function Lc(r){return r===0&&1/r==-1/0}function PR(r){return typeof r=="number"&&Number.isInteger(r)&&!Lc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="";function UR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=$_(e)),e=LR(r.get(n),e);return $_(e)}function LR(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case PE:n+="";break;default:n+=u}}return n}function $_(r){return r+PE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Jr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function UE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=l??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Bt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Bt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,s,l,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(e){return new W_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class W_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Ct(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new LE("Invalid base64 string: "+u):u}}(e);return new jt(n)}static fromUint8Array(e){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const zR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(Ge(!!r),typeof r=="string"){let e=0;const n=zR.exec(r);if(Ge(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ct(r.seconds),nanos:ct(r.nanos)}}function ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $r(r){return typeof r=="string"?jt.fromBase64String(r):jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="server_timestamp",BE="__type__",HE="__previous_value__",jE="__local_write_time__";function Rm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[BE])===null||n===void 0?void 0:n.stringValue)===zE}function oh(r){const e=r.mapValue.fields[HE];return Rm(e)?oh(e):e}function Io(r){const e=Yr(r.mapValue.fields[jE].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,s,l,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const zc="(default)";class Do{constructor(e,n){this.projectId=e,this.database=n||zc}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===zc}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__type__",HR="__max__",_c={mapValue:{}},FE="__vector__",Bc="value";function Xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rm(r)?4:qR(r)?9007199254740991:jR(r)?10:11:_e()}function hi(r,e){if(r===e)return!0;const n=Xr(r);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Io(r).isEqual(Io(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Yr(l.timestampValue),m=Yr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,u){return $r(l.bytesValue).isEqual($r(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,u){return ct(l.geoPointValue.latitude)===ct(u.geoPointValue.latitude)&&ct(l.geoPointValue.longitude)===ct(u.geoPointValue.longitude)}(r,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return ct(l.integerValue)===ct(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=ct(l.doubleValue),m=ct(u.doubleValue);return f===m?Lc(f)===Lc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Qa(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(X_(f)!==X_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!hi(f[p],m[p])))return!1;return!0}(r,e);default:return _e()}}function Oo(r,e){return(r.values||[]).find(n=>hi(n,e))!==void 0}function Ka(r,e){if(r===e)return 0;const n=Xr(r),s=Xr(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ct(u.integerValue||u.doubleValue),p=ct(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Z_(r.timestampValue,e.timestampValue);case 4:return Z_(Io(r),Io(e));case 5:return Xd(r.stringValue,e.stringValue);case 6:return function(u,f){const m=$r(u),p=$r(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Me(m[y],p[y]);if(E!==0)return E}return Me(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(ct(u.latitude),ct(f.latitude));return m!==0?m:Me(ct(u.longitude),ct(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return J_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const b=u.fields||{},C=f.fields||{},x=(m=b[Bc])===null||m===void 0?void 0:m.arrayValue,z=(p=C[Bc])===null||p===void 0?void 0:p.arrayValue,K=Me(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((E=z==null?void 0:z.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:J_(x,z)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===_c.mapValue&&f===_c.mapValue)return 0;if(u===_c.mapValue)return 1;if(f===_c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const C=Xd(p[b],E[b]);if(C!==0)return C;const x=Ka(m[p[b]],y[E[b]]);if(x!==0)return x}return Me(p.length,E.length)}(r.mapValue,e.mapValue);default:throw _e()}}function Z_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=Yr(r),s=Yr(e),l=Me(n.seconds,s.seconds);return l!==0?l:Me(n.nanos,s.nanos)}function J_(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=Ka(n[l],s[l]);if(u)return u}return Me(n.length,s.length)}function Ya(r){return Wd(r)}function Wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return $r(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return me.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Wd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Wd(n.fields[f])}`;return l+"}"}(r.mapValue):_e()}function wc(r){switch(Xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(r);return e?16+wc(e):16;case 5:return 2*r.stringValue.length;case 6:return $r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,u)=>l+wc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Jr(s.fields,(u,f)=>{l+=u.length+wc(f)}),l}(r.mapValue);default:throw _e()}}function Zd(r){return!!r&&"integerValue"in r}function Cm(r){return!!r&&"arrayValue"in r}function ev(r){return!!r&&"nullValue"in r}function tv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rc(r){return!!r&&"mapValue"in r}function jR(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[qE])===null||n===void 0?void 0:n.stringValue)===FE}function To(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Jr(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=To(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=To(r.arrayValue.values[n]);return e}return Object.assign({},r)}function qR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===HR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Rc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=To(n)}setAll(e){let n=Ht.emptyPath(),s={},l=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=m.popLast()}f?s[m.lastSegment()]=To(f):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Rc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Jr(n,(l,u)=>e[l]=u);for(const l of s)delete e[l]}clone(){return new on(To(this.value))}}function GE(r){const e=[];return Jr(r.fields,(n,s)=>{const l=new Ht([n]);if(Rc(s)){const u=GE(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,l,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,Ee.min(),Ee.min(),Ee.min(),on.empty(),0)}static newFoundDocument(e,n,s,l){return new Yt(e,1,n,Ee.min(),s,l,0)}static newNoDocument(e,n){return new Yt(e,2,n,Ee.min(),Ee.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Ee.min(),Ee.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.position=e,this.inclusive=n}}function nv(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=Ka(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function FR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{}class wt extends QE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new QR(e,n,s):n==="array-contains"?new $R(e,s):n==="in"?new XR(e,s):n==="not-in"?new WR(e,s):n==="array-contains-any"?new ZR(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new KR(e,s):new YR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ka(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends QE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new fi(e,n)}matches(e){return KE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function KE(r){return r.op==="and"}function YE(r){return GR(r)&&KE(r)}function GR(r){for(const e of r.filters)if(e instanceof fi)return!1;return!0}function Jd(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if(YE(r))return r.filters.map(e=>Jd(e)).join(",");{const e=r.filters.map(n=>Jd(n)).join(",");return`${r.op}(${e})`}}function $E(r,e){return r instanceof wt?function(s,l){return l instanceof wt&&s.op===l.op&&s.field.isEqual(l.field)&&hi(s.value,l.value)}(r,e):r instanceof fi?function(s,l){return l instanceof fi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((u,f,m)=>u&&$E(f,l.filters[m]),!0):!1}(r,e):void _e()}function XE(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(r):r instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(XE).join(" ,")+"}"}(r):"Filter"}class QR extends wt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class KR extends wt{constructor(e,n){super(e,"in",n),this.keys=WE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YR extends wt{constructor(e,n){super(e,"not-in",n),this.keys=WE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>me.fromName(s.referenceValue))}class $R extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cm(n)&&Oo(n.arrayValue,this.value)}}class XR extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oo(this.value.arrayValue,n)}}class WR extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Oo(this.value.arrayValue,n)}}class ZR extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Oo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n=null,s=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function rv(r,e=null,n=[],s=[],l=null,u=null,f=null){return new JR(r,e,n,s,l,u,f)}function Im(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Jd(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ya(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ya(s)).join(",")),e.le=n}return e.le}function Dm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!FR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!$E(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!iv(r.startAt,e.startAt)&&iv(r.endAt,e.endAt)}function em(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n=null,s=[],l=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function e1(r,e,n,s,l,u,f,m){return new uh(r,e,n,s,l,u,f,m)}function Om(r){return new uh(r)}function sv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function t1(r){return r.collectionGroup!==null}function Ao(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new jc(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new jc(Ht.keyField(),s))}return e.he}function li(r){const e=Ae(r);return e.Pe||(e.Pe=n1(e,Ao(r))),e.Pe}function n1(r,e){if(r.limitType==="F")return rv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new jc(l.field,u)});const n=r.endAt?new Hc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Hc(r.startAt.position,r.startAt.inclusive):null;return rv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function tm(r,e,n){return new uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function ch(r,e){return Dm(li(r),li(e))&&r.limitType===e.limitType}function ZE(r){return`${Im(li(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>XE(l)).join(", ")}]`),lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Ya(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Ya(l)).join(",")),`Target(${s})`}(li(r))}; limitType=${r.limitType})`}function hh(r,e){return e.isFoundDocument()&&function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,l){for(const u of Ao(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(r,e)&&function(s,l){return!(s.startAt&&!function(f,m,p){const y=nv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Ao(s),l)||s.endAt&&!function(f,m,p){const y=nv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Ao(s),l))}(r,e)}function i1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function JE(r){return(e,n)=>{let s=!1;for(const l of Ao(r)){const u=r1(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function r1(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Ka(p,y):_e()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,(n,s)=>{for(const[l,u]of s)e(l,u)})}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new tt(me.comparator);function $i(){return s1}const eT=new tt(me.comparator);function _o(...r){let e=eT;for(const n of r)e=e.insert(n.key,n);return e}function tT(r){let e=eT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function xs(){return So()}function nT(){return So()}function So(){return new qs(r=>r.toString(),(r,e)=>r.isEqual(e))}const a1=new tt(me.comparator),l1=new Ct(me.comparator);function Ve(...r){let e=l1;for(const n of r)e=e.add(n);return e}const o1=new Ct(Me);function u1(){return o1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function iT(r){return{integerValue:""+r}}function c1(r,e){return PR(e)?iT(e):Nm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function h1(r,e,n){return r instanceof qc?function(l,u){const f={fields:{[BE]:{stringValue:zE},[jE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Rm(u)&&(u=oh(u)),u&&(f.fields[HE]=u),{mapValue:f}}(n,e):r instanceof No?sT(r,e):r instanceof Mo?aT(r,e):function(l,u){const f=rT(l,u),m=av(f)+av(l.Ie);return Zd(f)&&Zd(l.Ie)?iT(m):Nm(l.serializer,m)}(r,e)}function f1(r,e,n){return r instanceof No?sT(r,e):r instanceof Mo?aT(r,e):n}function rT(r,e){return r instanceof Fc?function(s){return Zd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class qc extends fh{}class No extends fh{constructor(e){super(),this.elements=e}}function sT(r,e){const n=lT(e);for(const s of r.elements)n.some(l=>hi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Mo extends fh{constructor(e){super(),this.elements=e}}function aT(r,e){let n=lT(e);for(const s of r.elements)n=n.filter(l=>!hi(l,s));return{arrayValue:{values:n}}}class Fc extends fh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function av(r){return ct(r.integerValue||r.doubleValue)}function lT(r){return Cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function d1(r,e){return r.field.isEqual(e.field)&&function(s,l){return s instanceof No&&l instanceof No||s instanceof Mo&&l instanceof Mo?Qa(s.elements,l.elements,hi):s instanceof Fc&&l instanceof Fc?hi(s.Ie,l.Ie):s instanceof qc&&l instanceof qc}(r.transform,e.transform)}class m1{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class dh{}function oT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new cT(r.key,oi.none()):new zo(r.key,r.data,oi.none());{const n=r.data,s=on.empty();let l=new Ct(Ht.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new es(r.key,s,new pn(l.toArray()),oi.none())}}function g1(r,e,n){r instanceof zo?function(l,u,f){const m=l.value.clone(),p=ov(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof es?function(l,u,f){if(!Cc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=ov(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(uT(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function bo(r,e,n,s){return r instanceof zo?function(u,f,m,p){if(!Cc(u.precondition,f))return m;const y=u.value.clone(),E=uv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof es?function(u,f,m,p){if(!Cc(u.precondition,f))return m;const y=uv(u.fieldTransforms,p,f),E=f.data;return E.setAll(uT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return Cc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function p1(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=rT(s.transform,l||null);u!=null&&(n===null&&(n=on.empty()),n.set(s.field,u))}return n||null}function lv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Qa(s,l,(u,f)=>d1(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class zo extends dh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class es extends dh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function ov(r,e,n){const s=new Map;Ge(r.length===n.length);for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,m=e.data.field(u.field);s.set(u.field,f1(f,m,n[l]))}return s}function uv(r,e,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,h1(u,f,e))}return s}class cT extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y1 extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&g1(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=bo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=bo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nT();return this.mutations.forEach(l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const p=oT(f,m);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(n,s)=>lv(n,s))&&Qa(this.baseMutations,e.baseMutations,(n,s)=>lv(n,s))}}class Mm{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ge(e.mutations.length===s.length);let l=function(){return a1}();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new Mm(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Le;function T1(r){switch(r){case J.OK:return _e();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _e()}}function hT(r){if(r===void 0)return Yi("GRPC error has no .code"),J.UNKNOWN;switch(r){case pt.OK:return J.OK;case pt.CANCELLED:return J.CANCELLED;case pt.UNKNOWN:return J.UNKNOWN;case pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case pt.INTERNAL:return J.INTERNAL;case pt.UNAVAILABLE:return J.UNAVAILABLE;case pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case pt.NOT_FOUND:return J.NOT_FOUND;case pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case pt.ABORTED:return J.ABORTED;case pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case pt.DATA_LOSS:return J.DATA_LOSS;default:return _e()}}(Le=pt||(pt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Fr([4294967295,4294967295],0);function cv(r){const e=$d().encode(r),n=new IE;return n.update(e),new Uint8Array(n.digest())}function hv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fr([n,s],0),new Fr([l,u],0)]}class Vm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vo(`Invalid padding: ${n}`);if(s<0)throw new vo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new vo(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Fr.fromNumber(this.Ee)}Ae(e,n,s){let l=e.add(n.multiply(Fr.fromNumber(s)));return l.compare(A1)===1&&(l=new Fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=cv(e),[s,l]=hv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,l,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Vm(u,l,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=cv(e),[s,l]=hv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,l,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Bo.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new mh(Ee.min(),l,new tt(Me),$i(),Ve())}}class Bo{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Bo(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,s,l){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=l}}class fT{constructor(e,n){this.targetId=e,this.ge=n}}class dT{constructor(e,n,s=jt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class fv{constructor(){this.pe=0,this.ye=dv(),this.we=jt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:_e()}}),new Bo(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=dv()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class S1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$i(),this.$e=vc(),this.Ue=vc(),this.Ke=new tt(Me)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,s=e.ge.count,l=this.Xe(n);if(l){const u=l.target;if(em(u))if(s===0){const f=new me(u.path);this.ze(n,f,Yt.newNoDocument(f,Ee.min()))}else Ge(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=$r(s).toUint8Array()}catch(p){if(p instanceof LE)return Ga("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vm(f,l,u)}catch(p){return Ga(p instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let l=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&em(m.target)){const p=new me(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Yt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const l=new mh(e,n,this.Ke,this.Qe,s);return this.Qe=$i(),this.$e=vc(),this.Ue=vc(),this.Ke=new tt(Me),l}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new fv,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ct(Me),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ct(Me),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new fv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function vc(){return new tt(me.comparator)}function dv(){return new tt(me.comparator)}const b1={asc:"ASCENDING",desc:"DESCENDING"},w1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R1={and:"AND",or:"OR"};class C1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nm(r,e){return r.useProto3Json||lh(e)?e:{value:e}}function Gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function I1(r,e){return Gc(r,e.toTimestamp())}function ui(r){return Ge(!!r),Ee.fromTimestamp(function(n){const s=Yr(n);return new Rt(s.seconds,s.nanos)}(r))}function xm(r,e){return im(r,e).canonicalString()}function im(r,e){const n=function(l){return new lt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?n:n.child(e)}function gT(r){const e=lt.fromString(r);return Ge(ET(e)),e}function rm(r,e){return xm(r.databaseId,e.path)}function Ud(r,e){const n=gT(e);if(n.get(1)!==r.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(yT(n))}function pT(r,e){return xm(r.databaseId,e)}function D1(r){const e=gT(r);return e.length===4?lt.emptyPath():yT(e)}function sm(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yT(r){return Ge(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function mv(r,e,n){return{name:rm(r,e),fields:n.value.mapValue.fields}}function O1(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ge(E===void 0||typeof E=="string"),jt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array),jt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?J.UNKNOWN:hT(y.code);return new de(E,y.message||"")}(f);n=new dT(s,l,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Ud(r,s.document.name),u=ui(s.document.updateTime),f=s.document.createTime?ui(s.document.createTime):Ee.min(),m=new on({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(l,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Ic(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Ud(r,s.document),u=s.readTime?ui(s.readTime):Ee.min(),f=Yt.newNoDocument(l,u),m=s.removedTargetIds||[];n=new Ic([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Ud(r,s.document),u=s.removedTargetIds||[];n=new Ic([],u,l,null)}else{if(!("filter"in e))return _e();{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new E1(l,u),m=s.targetId;n=new fT(m,f)}}return n}function N1(r,e){let n;if(e instanceof zo)n={update:mv(r,e.key,e.value)};else if(e instanceof cT)n={delete:rm(r,e.key)};else if(e instanceof es)n={update:mv(r,e.key,e.data),updateMask:B1(e.fieldMask)};else{if(!(e instanceof y1))return _e();n={verify:rm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof qc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof No)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Mo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw _e()}(0,s))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:I1(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e()}(r,e.precondition)),n}function M1(r,e){return r&&r.length>0?(Ge(e!==void 0),r.map(n=>function(l,u){let f=l.updateTime?ui(l.updateTime):ui(u);return f.isEqual(Ee.min())&&(f=ui(u)),new m1(f,l.transformResults||[])}(n,e))):[]}function V1(r,e){return{documents:[pT(r,e.path)]}}function x1(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pT(r,l);const u=function(y){if(y.length!==0)return vT(fi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:Ua(C.field),direction:U1(C.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=nm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:l}}function k1(r){let e=D1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ge(s===1);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const C=_T(b);return C instanceof fi&&YE(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(C=>function(z){return new jc(La(z.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(b){let C;return C=typeof b=="object"?b.value:b,lh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(b){const C=!!b.before,x=b.values||[];return new Hc(x,C)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const C=!b.before,x=b.values||[];return new Hc(x,C)}(n.endAt)),e1(e,l,f,u,m,"F",p,y)}function P1(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _T(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=La(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=La(n.unaryFilter.field);return wt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=La(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=La(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(r):r.fieldFilter!==void 0?function(n){return wt.create(La(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>_T(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(r):_e()}function U1(r){return b1[r]}function L1(r){return w1[r]}function z1(r){return R1[r]}function Ua(r){return{fieldPath:r.canonicalString()}}function La(r){return Ht.fromServerFormat(r.fieldPath)}function vT(r){return r instanceof wt?function(n){if(n.op==="=="){if(tv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(ev(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(ev(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:L1(n.op),value:n.value}}}(r):r instanceof fi?function(n){const s=n.getFilters().map(l=>vT(l));return s.length===1?s[0]:{compositeFilter:{op:z1(n.op),filters:s}}}(r):_e()}function B1(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ET(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,l,u=Ee.min(),f=Ee.min(),m=jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.Tt=e}}function j1(r){const e=k1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.Tn=new F1}addToCollectionParentIndex(e,n){return this.Tn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Kr.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class F1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Ct(lt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ct(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TT=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(TT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new $a(0)}static Kn(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="LruGarbageCollector",G1=1048576;function yv([r,e],[n,s]){const l=Me(r,n);return l===0?Me(e,s):l}class Q1{constructor(e){this.Hn=e,this.buffer=new Ct(yv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();yv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class K1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(pv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rl(n)?ae(pv,"Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.er(3e5)})}}class Y1{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return $.resolve(ah.ae);const s=new Q1(n);return this.tr.forEachTarget(e,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(gv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,l,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(e,l))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),ka()<=Ne.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function $1(r,e){return new Y1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.changes=new qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(s!==null&&bo(s.mutation,l,pn.empty(),Rt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const l=xs();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(u=>{let f=_o();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=xs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const l=[];return s.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,l){let u=$i();const f=So(),m=function(){return So()}();return n.forEach((p,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof es)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),bo(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):f.set(y.key,pn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var b;return m.set(y,new W1(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=So();let l=new tt((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||pn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(l.get(m.batchId)||Ve()).add(p);l=l.insert(m.batchId,b)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=nT();E.forEach(C=>{if(!u.has(C)){const x=oT(n.get(C),s.get(C));x!==null&&b.set(C,x),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):$.resolve(xs());let m=Co,p=u;return f.next(y=>$.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{p=p.insert(E,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ve())).next(E=>({batchId:m,changes:tT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let l=_o();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=_o();return this.indexManager.getCollectionParents(e,u).next(m=>$.forEach(m,p=>{const y=function(b,C){return new uh(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next(E=>{E.forEach((b,C)=>{f=f.insert(b,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Yt.newInvalidDocument(E)))});let m=_o();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&bo(E.mutation,y,pn.empty(),Rt.now()),hh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return $.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ui(l.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:j1(l.bundledQuery),readTime:ui(l.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.overlays=new tt(me.comparator),this.Rr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=xs();return $.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,u)=>{this.Et(e,n,u)}),$.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const l=xs(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return $.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new tt((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=xs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return $.resolve(m)}Et(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new v1(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.Vr=new Ct(kt.mr),this.gr=new Ct(kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new kt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new me(new lt([])),s=new kt(n,e),l=new kt(n,e+1),u=[];return this.gr.forEachInRange([s,l],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new me(new lt([])),s=new kt(n,e),l=new kt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,l],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new kt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return me.comparator(e.key,n.key)||Me(e.Cr,n.Cr)}static pr(e,n){return Me(e.Cr,n.Cr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ct(kt.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new _1(u,n,s,l);this.mutationQueue.push(f);for(const m of l)this.Mr=this.Mr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.Nr(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?wm:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),l=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,l],f=>{const m=this.Or(f.Cr);u.push(m)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Me);return n.forEach(l=>{const u=new kt(l,0),f=new kt(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),$.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new kt(new me(u),0);let m=new Ct(Me);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Cr)),!0)},f),$.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const l=this.Or(s);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){Ge(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return $.forEach(n.mutations,l=>{const u=new kt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new kt(n,0),l=this.Mr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.kr=e,this.docs=function(){return new tt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=$i();return n.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Yt.newInvalidDocument(l))}),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=$i();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||MR(NR(E),s)<=0||(l.has(E.key)||hh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,s,l){_e()}qr(e,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new rC(this)}getSize(e){return $.resolve(this.size)}}class rC extends X1{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(s)}),$.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.persistence=e,this.Qr=new qs(n=>Im(n),Dm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.$r=0,this.Ur=new km,this.targetCount=0,this.Kr=$a.Un()}forEachTarget(e,n){return this.Qr.forEach((s,l)=>n(l)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),$.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new $a(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.zn(n),$.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),$.waitFor(u).next(()=>l)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(e,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ah(0),this.zr=!1,this.zr=!0,this.jr=new tC,this.referenceDelegate=e(this),this.Hr=new sC(this),this.indexManager=new q1,this.remoteDocumentCache=function(l){return new iC(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new H1(n),this.Yr=new J1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new nC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const l=new aC(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(e,n){return $.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class aC extends xR{constructor(e){super(),this.currentSequenceNumber=e}}class Pm{constructor(e){this.persistence=e,this.ti=new km,this.ni=null}static ri(e){return new Pm(e)}get ii(){if(this.ni)return this.ni;throw _e()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),$.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,s=>{const l=me.fromPath(s);return this.si(e,l).next(u=>{u||n.removeEntry(l,Ee.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return $.or([()=>$.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Qc{constructor(e,n){this.persistence=e,this.oi=new qs(s=>UR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=$1(this,n)}static ri(e,n){return new Qc(e,n)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return $.forEach(this.oi,(s,l)=>this.ar(e,s,l).next(u=>u?$.resolve():n(l)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ee.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wc(e.data.value)),n}ar(e,n,s){return $.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=l}static Yi(e,n){let s=Ve(),l=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Um(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return rw()?8:kR($t())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,l,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new lC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,l){return s.documentReadCount<this.es?(ka()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(ka()<=Ne.DEBUG&&ae("QueryEngine","Query:",Pa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(ka()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):$.resolve())}rs(e,n){if(sv(n))return $.resolve(null);let s=li(n);return this.indexManager.getIndexType(e,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=tm(n,null,"F"),s=li(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,tm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,l){return sv(n)||l.isEqual(Ee.min())?$.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,l)?$.resolve(null):(ka()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(n)),this.hs(e,f,n,OR(l,Co)).next(m=>m))})}cs(e,n){let s=new Ct(JE(e));return n.forEach((l,u)=>{hh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(e,n,s){return ka()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Pa(n)),this.ns.getDocumentsMatchingQuery(e,n,Kr.min(),s)}hs(e,n,s,l){return this.ns.getDocumentsMatchingQuery(e,s,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="LocalStore",uC=3e8;class cC{constructor(e,n,s,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new tt(Me),this.Is=new qs(u=>Im(u),Dm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function hC(r,e,n,s){return new cC(r,e,n,s)}async function ST(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function fC(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const b=y.batch,C=b.keys();let x=$.resolve();return C.forEach(z=>{x=x.next(()=>E.getEntry(p,z)).next(K=>{const H=y.docVersions.get(z);Ge(H!==null),K.version.compareTo(H)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}function bT(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function dC(r,e){const n=Ae(r),s=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const C=l.get(b);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,b)));let x=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(jt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),l=l.insert(b,x),function(K,H,X){return K.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=uC?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(C,x,E)&&m.push(n.Hr.updateTargetData(u,x))});let p=$i(),y=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(mC(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Ee.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return $.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=l,u))}function mC(r,e,n){let s=Ve(),l=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=$i();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ae(Lm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:l}})}function gC(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=wm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function pC(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Hr.getTargetData(s,e).next(u=>u?(l=u,$.resolve(l)):n.Hr.allocateTargetId(s).next(f=>(l=new Br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function am(r,e,n){const s=Ae(r),l=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!rl(f))throw f;ae(Lm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(l.target)}function _v(r,e,n){const s=Ae(r);let l=Ee.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const b=Ae(p),C=b.Is.get(E);return C!==void 0?$.resolve(b.Ts.get(C)):b.Hr.getTargetData(y,E)}(s,f,li(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?l:Ee.min(),n?u:Ve())).next(m=>(yC(s,i1(e),m),{documents:m,gs:u})))}function yC(r,e,n){let s=r.Es.get(e)||Ee.min();n.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class vv{constructor(){this.activeTargetIds=u1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _C{constructor(){this.ho=new vv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new vv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="ConnectivityMonitor";class Tv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(Ev,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(Ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function lm(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="RestConnection",EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===zc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(e,n,s,l,u){const f=lm(),m=this.bo(e,n.toUriEncodedString());ae(Ld,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(e,m,p,s).then(y=>(ae(Ld,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Ga(Ld,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,l,u,f){return this.So(e,n,s,l,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),s&&s.headers.forEach((l,u)=>e[u]=l)}bo(e,n){const s=EC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class SC extends TC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,l){const u=lm();return new Promise((f,m)=>{const p=new DE;p.setWithCredentials(!0),p.listenOnce(OE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case bc.NO_ERROR:const E=p.getResponseJson();ae(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case bc.TIMEOUT:ae(Qt,`RPC '${e}' ${u} timed out`),m(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const b=p.getStatus();if(ae(Qt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const x=C==null?void 0:C.error;if(x&&x.status&&x.message){const z=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(X)>=0?X:J.UNKNOWN}(x.status);m(new de(z,x.message))}else m(new de(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(J.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ae(Qt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(l);ae(Qt,`RPC '${e}' ${u} sending request:`,l),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const l=lm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=VE(),m=ME(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ae(Qt,`Creating RPC '${e}' stream ${l}: ${E}`,p);const b=f.createWebChannel(E,p);let C=!1,x=!1;const z=new AC({Fo:H=>{x?ae(Qt,`Not sending because RPC '${e}' stream ${l} is closed:`,H):(C||(ae(Qt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),C=!0),ae(Qt,`RPC '${e}' stream ${l} sending:`,H),b.send(H))},Mo:()=>b.close()}),K=(H,X,W)=>{H.listen(X,ie=>{try{W(ie)}catch(pe){setTimeout(()=>{throw pe},0)}})};return K(b,yo.EventType.OPEN,()=>{x||(ae(Qt,`RPC '${e}' stream ${l} transport opened.`),z.Qo())}),K(b,yo.EventType.CLOSE,()=>{x||(x=!0,ae(Qt,`RPC '${e}' stream ${l} transport closed`),z.Uo())}),K(b,yo.EventType.ERROR,H=>{x||(x=!0,Ga(Qt,`RPC '${e}' stream ${l} transport errored:`,H),z.Uo(new de(J.UNAVAILABLE,"The operation could not be completed")))}),K(b,yo.EventType.MESSAGE,H=>{var X;if(!x){const W=H.data[0];Ge(!!W);const ie=W,pe=(ie==null?void 0:ie.error)||((X=ie[0])===null||X===void 0?void 0:X.error);if(pe){ae(Qt,`RPC '${e}' stream ${l} received error:`,pe);const oe=pe.status;let Se=function(S){const I=pt[S];if(I!==void 0)return hT(I)}(oe),M=pe.message;Se===void 0&&(Se=J.INTERNAL,M="Unknown error status: "+oe+" with message "+pe.message),x=!0,z.Uo(new de(Se,M)),b.close()}else ae(Qt,`RPC '${e}' stream ${l} received:`,W),z.Ko(W)}}),K(m,NE.STAT_EVENT,H=>{H.stat===Yd.PROXY?ae(Qt,`RPC '${e}' stream ${l} detected buffering proxy`):H.stat===Yd.NOPROXY&&ae(Qt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r){return new C1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-s);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="PersistentStream";class RT{constructor(e,n,s,l,u,f,m,p){this.Ti=e,this.n_=s,this.r_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new wT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===n&&this.V_(s,l)},s=>{e(()=>{const l=new de(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(Av,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ae(Av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bC extends RT{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=O1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ee.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?ui(f.readTime):Ee.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=sm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=em(p)?{documents:V1(u,p)}:{query:x1(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=mT(u,f.resumeToken);const y=nm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ee.min())>0){m.readTime=Gc(u,f.snapshotVersion.toTimestamp());const y=nm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=P1(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=sm(this.serializer),n.removeTarget=e,this.I_(n)}}class wC extends RT{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=M1(e.writeResults,e.commitTime),s=ui(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=sm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>N1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{}class CC extends RC{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,im(n,s),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(J.UNKNOWN,u.toString())})}Co(e,n,s,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,im(n,s),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class IC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yi(n),this.N_=!1):ae("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="RemoteStore";class DC{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Fs(this)&&(ae(zs,"Restarting streams for network reachability change."),await async function(p){const y=Ae(p);y.W_.add(4),await Ho(y),y.j_.set("Unknown"),y.W_.delete(4),await ph(y)}(this))})}),this.j_=new IC(s,l)}}async function ph(r){if(Fs(r))for(const e of r.G_)await e(!0)}async function Ho(r){for(const e of r.G_)await e(!1)}function CT(r,e){const n=Ae(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),jm(n)?Hm(n):sl(n).c_()&&Bm(n,e))}function zm(r,e){const n=Ae(r),s=sl(n);n.K_.delete(e),s.c_()&&IT(n,e),n.K_.size===0&&(s.c_()?s.P_():Fs(n)&&n.j_.set("Unknown"))}function Bm(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sl(r).y_(e)}function IT(r,e){r.H_.Ne(e),sl(r).w_(e)}function Hm(r){r.H_=new S1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),sl(r).start(),r.j_.B_()}function jm(r){return Fs(r)&&!sl(r).u_()&&r.K_.size>0}function Fs(r){return Ae(r).W_.size===0}function DT(r){r.H_=void 0}async function OC(r){r.j_.set("Online")}async function NC(r){r.K_.forEach((e,n)=>{Bm(r,e)})}async function MC(r,e){DT(r),jm(r)?(r.j_.q_(e),Hm(r)):r.j_.set("Unknown")}async function VC(r,e,n){if(r.j_.set("Online"),e instanceof dT&&e.state===2&&e.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l.K_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.K_.delete(m),l.H_.removeTarget(m))}(r,e)}catch(s){ae(zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kc(r,s)}else if(e instanceof Ic?r.H_.We(e):e instanceof fT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Ee.min()))try{const s=await bT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(jt.EMPTY_BYTE_STRING,E.snapshotVersion)),IT(u,p);const b=new Br(E.target,p,y,E.sequenceNumber);Bm(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ae(zs,"Failed to raise snapshot:",s),await Kc(r,s)}}async function Kc(r,e,n){if(!rl(e))throw e;r.W_.add(1),await Ho(r),r.j_.set("Offline"),n||(n=()=>bT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae(zs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await ph(r)})}function OT(r,e){return e().catch(n=>Kc(r,n,e))}async function yh(r){const e=Ae(r),n=Wr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:wm;for(;xC(e);)try{const l=await gC(e.localStore,s);if(l===null){e.U_.length===0&&n.P_();break}s=l.batchId,kC(e,l)}catch(l){await Kc(e,l)}NT(e)&&MT(e)}function xC(r){return Fs(r)&&r.U_.length<10}function kC(r,e){r.U_.push(e);const n=Wr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function NT(r){return Fs(r)&&!Wr(r).u_()&&r.U_.length>0}function MT(r){Wr(r).start()}async function PC(r){Wr(r).C_()}async function UC(r){const e=Wr(r);for(const n of r.U_)e.b_(n.mutations)}async function LC(r,e,n){const s=r.U_.shift(),l=Mm.from(s,e,n);await OT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await yh(r)}async function zC(r,e){e&&Wr(r).S_&&await async function(s,l){if(function(f){return T1(f)&&f!==J.ABORTED}(l.code)){const u=s.U_.shift();Wr(s).h_(),await OT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l)),await yh(s)}}(r,e),NT(r)&&MT(r)}async function Sv(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ae(zs,"RemoteStore received new credentials");const s=Fs(n);n.W_.add(3),await Ho(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await ph(n)}async function BC(r,e){const n=Ae(r);e?(n.W_.delete(2),await ph(n)):e||(n.W_.add(2),await Ho(n),n.j_.set("Unknown"))}function sl(r){return r.J_||(r.J_=function(n,s,l){const u=Ae(n);return u.M_(),new bC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:OC.bind(null,r),No:NC.bind(null,r),Lo:MC.bind(null,r),p_:VC.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),jm(r)?Hm(r):r.j_.set("Unknown")):(await r.J_.stop(),DT(r))})),r.J_}function Wr(r){return r.Y_||(r.Y_=function(n,s,l){const u=Ae(n);return u.M_(),new wC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:PC.bind(null,r),Lo:zC.bind(null,r),D_:UC.bind(null,r),v_:LC.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await yh(r)):(await r.Y_.stop(),r.U_.length>0&&(ae(zs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,m=new qm(e,n,f,l,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(r,e){if(Yi("AsyncQueue",`${e}: ${r}`),rl(r))return new de(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{static emptySet(e){return new za(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=_o(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new za;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.Z_=new tt(me.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):_e():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Xa{constructor(e,n,s,l,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Xa(e,n,za.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class jC{constructor(){this.queries=wv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const l=Ae(n),u=l.queries;l.queries=wv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function wv(){return new qs(r=>ZE(r),ch)}async function qC(r,e){const n=Ae(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.na()&&e.ra()&&(s=2):(u=new HC,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=Fm(f,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Gm(n)}async function FC(r,e){const n=Ae(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?l=e.ra()?0:1:!u.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GC(r,e){const n=Ae(r);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(l)&&(s=!0);f.ea=l}}s&&Gm(n)}function QC(r,e,n){const s=Ae(r),l=s.queries.get(e);if(l)for(const u of l.ta)u.onError(n);s.queries.delete(e)}function Gm(r){r.ia.forEach(e=>{e.next()})}var om,Rv;(Rv=om||(om={}))._a="default",Rv.Cache="cache";class KC{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Xa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.key=e}}class xT{constructor(e){this.key=e}}class YC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=JE(e),this.wa=new za(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new bv,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,b)=>{const C=l.get(E),x=hh(this.query,b)?b:null,z=!!C&&this.mutatedKeys.has(C.key),K=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let H=!1;C&&x?C.data.isEqual(x.data)?z!==K&&(s.track({type:3,doc:x}),H=!0):this.va(C,x)||(s.track({type:2,doc:x}),H=!0,(p&&this.ya(x,p)>0||y&&this.ya(x,y)<0)&&(m=!0)):!C&&x?(s.track({type:0,doc:x}),H=!0):C&&!x&&(s.track({type:1,doc:C}),H=!0,(p||y)&&(m=!0)),H&&(x?(f=f.add(x),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,b)=>function(x,z){const K=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return K(x)-K(z)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),l=l!=null&&l;const m=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Xa(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new bv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new xT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new VT(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Xa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Qm="SyncEngine";class $C{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XC{constructor(e){this.key=e,this.Ba=!1}}class WC{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new qs(m=>ZE(m),ch),this.qa=new Map,this.Qa=new Set,this.$a=new tt(me.comparator),this.Ua=new Map,this.Ka=new km,this.Wa={},this.Ga=new Map,this.za=$a.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ZC(r,e,n=!0){const s=BT(r);let l;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await kT(s,e,n,!0),l}async function JC(r,e){const n=BT(r);await kT(n,e,!0,!1)}async function kT(r,e,n,s){const l=await pC(r.localStore,li(e)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await eI(r,e,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&CT(r.remoteStore,l),m}async function eI(r,e,n,s,l){r.Ha=(b,C,x)=>async function(K,H,X,W){let ie=H.view.ba(X);ie.ls&&(ie=await _v(K.localStore,H.query,!1).then(({documents:M})=>H.view.ba(M,ie)));const pe=W&&W.targetChanges.get(H.targetId),oe=W&&W.targetMismatches.get(H.targetId)!=null,Se=H.view.applyChanges(ie,K.isPrimaryClient,pe,oe);return Iv(K,H.targetId,Se.Ma),Se.snapshot}(r,b,C,x);const u=await _v(r.localStore,e,!0),f=new YC(e,u.gs),m=f.ba(u.documents),p=Bo.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,p);Iv(r,n,y.Ma);const E=new $C(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function tI(r,e,n){const s=Ae(r),l=s.ka.get(e),u=s.qa.get(l.targetId);if(u.length>1)return s.qa.set(l.targetId,u.filter(f=>!ch(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await am(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&zm(s.remoteStore,l.targetId),um(s,l.targetId)}).catch(il)):(um(s,l.targetId),await am(s.localStore,l.targetId,!0))}async function nI(r,e){const n=Ae(r),s=n.ka.get(e),l=n.qa.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zm(n.remoteStore,s.targetId))}async function iI(r,e,n){const s=cI(r);try{const l=await function(f,m){const p=Ae(f),y=Rt.now(),E=m.reduce((x,z)=>x.add(z.key),Ve());let b,C;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let z=$i(),K=Ve();return p.ds.getEntries(x,E).next(H=>{z=H,z.forEach((X,W)=>{W.isValidDocument()||(K=K.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,z)).next(H=>{b=H;const X=[];for(const W of m){const ie=p1(W,b.get(W.key).overlayedDocument);ie!=null&&X.push(new es(W.key,ie,GE(ie.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,X,m)}).next(H=>{C=H;const X=H.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(x,H.batchId,X)})}).then(()=>({batchId:C.batchId,changes:tT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new tt(Me)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,l.batchId,n),await jo(s,l.changes),await yh(s.remoteStore)}catch(l){const u=Fm(l,"Failed to persist write");n.reject(u)}}async function PT(r,e){const n=Ae(r);try{const s=await dC(n.localStore,e);e.targetChanges.forEach((l,u)=>{const f=n.Ua.get(u);f&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?Ge(f.Ba):l.removedDocuments.size>0&&(Ge(f.Ba),f.Ba=!1))}),await jo(n,s,e)}catch(s){await il(s)}}function Cv(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&l.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const C of b.ta)C.sa(m)&&(y=!0)}),y&&Gm(p)}(s.eventManager,e),l.length&&s.La.p_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rI(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Ua.get(e),u=l&&l.key;if(u){let f=new tt(me.comparator);f=f.insert(u,Yt.newNoDocument(u,Ee.min()));const m=Ve().add(u),p=new mh(Ee.min(),new Map,new tt(Me),f,m);await PT(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Km(s)}else await am(s.localStore,e,!1).then(()=>um(s,e,n)).catch(il)}async function sI(r,e){const n=Ae(r),s=e.batch.batchId;try{const l=await fC(n.localStore,e);LT(n,s,null),UT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await jo(n,l)}catch(l){await il(l)}}async function aI(r,e,n){const s=Ae(r);try{const l=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(Ge(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);LT(s,e,n),UT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await jo(s,l)}catch(l){await il(l)}}function UT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function LT(r,e,n){const s=Ae(r);let l=s.Wa[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Wa[s.currentUser.toKey()]=l}}function um(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||zT(r,s)})}function zT(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(zm(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Km(r))}function Iv(r,e,n){for(const s of n)s instanceof VT?(r.Ka.addReference(s.key,e),lI(r,s)):s instanceof xT?(ae(Qm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||zT(r,s.key)):_e()}function lI(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ae(Qm,"New document in limbo: "+n),r.Qa.add(s),Km(r))}function Km(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new me(lt.fromString(e)),s=r.za.next();r.Ua.set(s,new XC(n)),r.$a=r.$a.insert(n,s),CT(r.remoteStore,new Br(li(Om(n.path)),s,"TargetPurposeLimboResolution",ah.ae))}}async function jo(r,e,n){const s=Ae(r),l=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Um.Yi(p.targetId,y);u.push(b)}}))}),await Promise.all(f),s.La.p_(l),await async function(p,y){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>$.forEach(y,C=>$.forEach(C.Hi,x=>E.persistence.referenceDelegate.addReference(b,C.targetId,x)).next(()=>$.forEach(C.Ji,x=>E.persistence.referenceDelegate.removeReference(b,C.targetId,x)))))}catch(b){if(!rl(b))throw b;ae(Lm,"Failed to update sequence numbers: "+b)}for(const b of y){const C=b.targetId;if(!b.fromCache){const x=E.Ts.get(C),z=x.snapshotVersion,K=x.withLastLimboFreeSnapshotVersion(z);E.Ts=E.Ts.insert(C,K)}}}(s.localStore,u))}async function oI(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ae(Qm,"User change. New user:",e.toKey());const s=await ST(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jo(n,s.Rs)}}function uI(r,e){const n=Ae(r),s=n.Ua.get(e);if(s&&s.Ba)return Ve().add(s.key);{let l=Ve();const u=n.qa.get(e);if(!u)return l;for(const f of u){const m=n.ka.get(f);l=l.unionWith(m.view.Sa)}return l}}function BT(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rI.bind(null,e),e.La.p_=GC.bind(null,e.eventManager),e.La.Ja=QC.bind(null,e.eventManager),e}function cI(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aI.bind(null,e),e}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return hC(this.persistence,new oC,e.initialUser,this.serializer)}Xa(e){return new AT(Pm.ri,this.serializer)}Za(e){return new _C}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class hI extends Yc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ge(this.persistence.referenceDelegate instanceof Qc);const s=this.persistence.referenceDelegate.garbageCollector;return new K1(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new AT(s=>Qc.ri(s,n),this.serializer)}}class cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Cv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oI.bind(null,this.syncEngine),await BC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jC}()}createDatastore(e){const n=gh(e.databaseInfo.databaseId),s=function(u){return new SC(u)}(e.databaseInfo);return function(u,f,m,p){return new CC(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,l,u,f,m){return new DC(s,l,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Cv(this.syncEngine,n,0),function(){return Tv.D()?new Tv:new vC}())}createSyncEngine(e,n){return function(l,u,f,m,p,y,E){const b=new WC(l,u,f,m,p,y);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=Ae(l);ae(zs,"RemoteStore shutting down."),u.W_.add(5),await Ho(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class dI{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Kt.UNAUTHENTICATED,this.clientId=kE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ae(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ae(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await ST(e.localStore,l),s=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Dv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await mI(r);ae(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Sv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Sv(e.remoteStore,l)),r._onlineComponents=e}async function mI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(Zr,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),await Bd(r,new Yc)}}else ae(Zr,"Using default OfflineComponentProvider"),await Bd(r,new hI(void 0));return r._offlineComponents}async function HT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(Zr,"Using user provided OnlineComponentProvider"),await Dv(r,r._uninitializedComponentsProvider._online)):(ae(Zr,"Using default OnlineComponentProvider"),await Dv(r,new cm))),r._onlineComponents}function gI(r){return HT(r).then(e=>e.syncEngine)}async function pI(r){const e=await HT(r),n=e.eventManager;return n.onListen=ZC.bind(null,e.syncEngine),n.onUnlisten=tI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nI.bind(null,e.syncEngine),n}function yI(r,e,n={}){const s=new Gr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new fI({next:C=>{E.su(),f.enqueueAndForget(()=>FC(u,b));const x=C.docs.has(m);!x&&C.fromCache?y.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&C.fromCache&&p&&p.source==="server"?y.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new KC(Om(m.path),E,{includeMetadataChanges:!0,Ta:!0});return qC(u,b)}(await pI(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(r,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vI(r,e,n,s){if(e===!0&&s===!0)throw new de(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Nv(r){if(!me.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ym(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e()}function Bs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ym(r);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firestore.googleapis.com",Mv=!0;class Vv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=Mv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Mv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<G1)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $m{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new AR;switch(s.type){case"firstParty":return new RR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Ov.get(n);s&&(ae("ComponentProvider","Removing Datastore"),Ov.delete(n),s.terminate())}(this),Promise.resolve()}}function EI(r,e,n,s={}){var l;const u=(r=Bs(r,$m))._getSettings(),f=`${e}:${n}`;if(u.host!==qT&&u.host!==f&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Kt.MOCK_USER;else{m=Wb(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kt(y)}r._authCredentials=new SR(new xE(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xm(this.firestore,e,this._query)}}class yn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Vo extends Xm{constructor(e,n,s){super(e,n,Om(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new me(e))}withConverter(e){return new Vo(this.firestore,e,this._path)}}function FT(r,e,...n){if(r=nn(r),arguments.length===1&&(e=kE.newId()),_I("doc","path",e),r instanceof $m){const s=lt.fromString(e,...n);return Nv(s),new yn(r,null,new me(s))}{if(!(r instanceof yn||r instanceof Vo))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return Nv(s),new yn(r.firestore,r instanceof Vo?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="AsyncQueue";class kv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new wT(this,"async_queue_retry"),this.Su=()=>{const s=zd();s&&ae(xv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Gr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!rl(e))throw e;ae(xv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Yi("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=qm.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&_e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class _h extends $m{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new kv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kv(e),this._firestoreClient=void 0,await e}}}function TI(r,e){const n=typeof r=="object"?r:wE(),s=typeof r=="string"?r:zc,l=Sm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=$b("firestore");u&&EI(l,...u)}return l}function GT(r){if(r._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AI(r),r._firestoreClient}function AI(r){var e,n,s;const l=r._freezeSettings(),u=function(m,p,y,E){return new BR(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,jT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new dI(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(jt.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wa(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^__.*__$/;class bI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new zo(e,this.data,n,this.fieldTransforms)}}class QT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class eg{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:s,Qu:!1});return l.$u(e),l}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $c(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(KT(this.Lu)&&SI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class wI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gh(e)}ju(e,n,s,l=!1){return new eg({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YT(r){const e=r._freezeSettings(),n=gh(r._databaseId);return new wI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function RI(r,e,n,s,l,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,l);tg("Data must be an object, but it was:",f,s);const m=$T(s,f);let p,y;if(u.merge)p=new pn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const C=hm(e,b,n);if(!f.contains(C))throw new de(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);WT(E,C)||E.push(C)}p=new pn(E),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new bI(new on(m),p,y)}class Eh extends Wm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}function CI(r,e,n,s){const l=r.ju(1,e,n);tg("Data must be an object, but it was:",l,s);const u=[],f=on.empty();Jr(s,(p,y)=>{const E=ng(e,p,n);y=nn(y);const b=l.Uu(E);if(y instanceof Eh)u.push(E);else{const C=Th(y,b);C!=null&&(u.push(E),f.set(E,C))}});const m=new pn(u);return new QT(f,m,l.fieldTransforms)}function II(r,e,n,s,l,u){const f=r.ju(1,e,n),m=[hm(e,s,n)],p=[l];if(u.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)m.push(hm(e,u[C])),p.push(u[C+1]);const y=[],E=on.empty();for(let C=m.length-1;C>=0;--C)if(!WT(y,m[C])){const x=m[C];let z=p[C];z=nn(z);const K=f.Uu(x);if(z instanceof Eh)y.push(x);else{const H=Th(z,K);H!=null&&(y.push(x),E.set(x,H))}}const b=new pn(y);return new QT(E,b,f.fieldTransforms)}function Th(r,e){if(XT(r=nn(r)))return tg("Unsupported field value:",e,r),$T(r,e);if(r instanceof Wm)return function(s,l){if(!KT(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,l){const u=[];let f=0;for(const m of s){let p=Th(m,l.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,l){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return c1(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:Gc(l.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gc(l.serializer,u)}}if(s instanceof Zm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wa)return{bytesValue:mT(l.serializer,s._byteString)};if(s instanceof yn){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Jm)return function(f,m){return{mapValue:{fields:{[qE]:{stringValue:FE},[Bc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Nm(m.serializer,y)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${Ym(s)}`)}(r,e)}function $T(r,e){const n={};return UE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(r,(s,l)=>{const u=Th(l,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function XT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Zm||r instanceof Wa||r instanceof yn||r instanceof Wm||r instanceof Jm)}function tg(r,e,n){if(!XT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=Ym(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function hm(r,e,n){if((e=nn(e))instanceof vh)return e._internalPath;if(typeof e=="string")return ng(r,e);throw $c("Field path arguments must be of type string or ",r,!1,void 0,n)}const DI=new RegExp("[~\\*/\\[\\]]");function ng(r,e,n){if(e.search(DI)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new vh(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function $c(r,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new de(J.INVALID_ARGUMENT,m+r+p)}function WT(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(JT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OI extends ZT{data(){return super.data()}}function JT(r,e){return typeof e=="string"?ng(r,e):e instanceof vh?e._internalPath:e._delegate._internalPath}class NI{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Jr(e,(l,u)=>{s[l]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,l;const u=(l=(s=(n=e.fields)===null||n===void 0?void 0:n[Bc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>ct(f.doubleValue));return new Jm(u)}convertGeoPoint(e){return new Zm(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=oh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Io(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);Ge(ET(s));const l=new Do(s.get(1),s.get(3)),u=new me(s.popFirst(5));return l.isEqual(n)||Yi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e0 extends ZT{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(JT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class xI extends e0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(r){r=Bs(r,yn);const e=Bs(r.firestore,_h);return yI(GT(e),r._key).then(n=>LI(e,r,n))}class kI extends NI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function PI(r,e,n){r=Bs(r,yn);const s=Bs(r.firestore,_h),l=MI(r.converter,e);return n0(s,[RI(YT(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,oi.none())])}function UI(r,e,n,...s){r=Bs(r,yn);const l=Bs(r.firestore,_h),u=YT(l);let f;return f=typeof(e=nn(e))=="string"||e instanceof vh?II(u,"updateDoc",r._key,e,n,s):CI(u,"updateDoc",r._key,e),n0(l,[f.toMutation(r._key,oi.exists(!0))])}function n0(r,e){return function(s,l){const u=new Gr;return s.asyncQueue.enqueueAndForget(async()=>iI(await gI(s),l,u)),u.promise}(GT(r),e)}function LI(r,e,n){const s=n.docs.get(e._key),l=new kI(r);return new e0(r,l,e._key,s,new VI(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){nl=l})(tl),Fa(new Us("firestore",(s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _h(new bR(s.getProvider("auth-internal")),new CR(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(y.options.projectId,E)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),qr(q_,F_,e),qr(q_,F_,"esm2017")})();var zI="firebase",BI="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(zI,BI,"app");function ig(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function i0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HI=i0,r0=new Uo("auth","Firebase",i0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Tm("@firebase/auth");function jI(r,...e){Xc.logLevel<=Ne.WARN&&Xc.warn(`Auth (${tl}): ${r}`,...e)}function Dc(r,...e){Xc.logLevel<=Ne.ERROR&&Xc.error(`Auth (${tl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(r,...e){throw sg(r,...e)}function jn(r,...e){return sg(r,...e)}function rg(r,e,n){const s=Object.assign(Object.assign({},HI()),{[e]:n});return new Uo("auth","Firebase",s).create(e,{appName:r.name})}function Ps(r){return rg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qI(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&di(r,"argument-error"),rg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return r0.create(r,...e)}function ve(r,e,...n){if(!r)throw sg(e,...n)}function qi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Dc(e),new Error(e)}function Xi(r,e){r||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function FI(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FI()||tw()||"connection"in navigator)?navigator.onLine:!0}function QI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=Zb()||nw()}get(){return GI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,e){Xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new qo(3e4,6e4);function lg(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function al(r,e,n,s,l={}){return a0(r,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Lo(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return ew()||(y.referrerPolicy="no-referrer"),s0.fetch()(l0(r,r.config.apiHost,n,m),y)})}async function a0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},KI),e);try{const l=new XI(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Tc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Tc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Tc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw rg(r,E,y);di(r,E)}}catch(l){if(l instanceof Zi)throw l;di(r,"network-request-failed",{message:String(l)})}}async function $I(r,e,n,s,l={}){const u=await al(r,e,n,s,l);return"mfaPendingCredential"in u&&di(r,"multi-factor-auth-required",{_serverResponse:u}),u}function l0(r,e,n,s){const l=`${e}${n}?${s}`;return r.config.emulator?ag(r.config,l):`${r.config.apiScheme}://${l}`}class XI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(jn(this.auth,"network-request-failed")),YI.get())})}}function Tc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=jn(r,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(r,e){return al(r,"POST","/v1/accounts:delete",e)}async function o0(r,e){return al(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZI(r,e=!1){const n=nn(r),s=await n.getIdToken(e),l=og(s);ve(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:wo(Hd(l.auth_time)),issuedAtTime:wo(Hd(l.iat)),expirationTime:wo(Hd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Hd(r){return Number(r)*1e3}function og(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=_E(n);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Uv(r){const e=og(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&JI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function JI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wo(this.lastLoginAt),this.creationTime=wo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){var e;const n=r.auth,s=await r.getIdToken(),l=await xo(r,o0(n,{idToken:s}));ve(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?u0(u.providerUserInfo):[],m=nD(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new dm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function tD(r){const e=nn(r);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nD(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function u0(r){return r.map(e=>{var{providerId:n}=e,s=ig(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(r,e){const n=await a0(r,{},async()=>{const s=Lo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=l0(r,l,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",s0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rD(r,e){return al(r,"POST","/v2/accounts:revokeToken",lg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Uv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await iD(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Ba;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ve(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new dm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await xo(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZI(this,e)}reload(){return tD(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await xo(this,WI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,f,m,p,y,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(l=n.email)!==null&&l!==void 0?l:void 0,x=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,X=(y=n.createdAt)!==null&&y!==void 0?y:void 0,W=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ie,emailVerified:pe,isAnonymous:oe,providerData:Se,stsTokenManager:M}=n;ve(ie&&M,e,"internal-error");const w=Ba.fromJSON(this.name,M);ve(typeof ie=="string",e,"internal-error"),Pr(b,e.name),Pr(C,e.name),ve(typeof pe=="boolean",e,"internal-error"),ve(typeof oe=="boolean",e,"internal-error"),Pr(x,e.name),Pr(z,e.name),Pr(K,e.name),Pr(H,e.name),Pr(X,e.name),Pr(W,e.name);const S=new Fi({uid:ie,auth:e,email:C,emailVerified:pe,displayName:b,isAnonymous:oe,photoURL:z,phoneNumber:x,tenantId:K,stsTokenManager:w,createdAt:X,lastLoginAt:W});return Se&&Array.isArray(Se)&&(S.providerData=Se.map(I=>Object.assign({},I))),H&&(S._redirectEventId=H),S}static async _fromIdTokenResponse(e,n,s=!1){const l=new Ba;l.updateFromServerResponse(n);const u=new Fi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Wc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ve(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?u0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new Ba;m.updateFromIdToken(s);const p=new Fi({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;function Gi(r){Xi(r instanceof Function,"Expected a class definition");let e=Lv.get(r);return e?(Xi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Lv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c0.type="NONE";const zv=c0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ha{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Oc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ha(Gi(zv),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Gi(zv);const f=Oc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const b=Fi._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ha(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ha(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p0(e))return"Blackberry";if(y0(e))return"Webos";if(f0(e))return"Safari";if((e.includes("chrome/")||d0(e))&&!e.includes("edge/"))return"Chrome";if(g0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function h0(r=$t()){return/firefox\//i.test(r)}function f0(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d0(r=$t()){return/crios\//i.test(r)}function m0(r=$t()){return/iemobile/i.test(r)}function g0(r=$t()){return/android/i.test(r)}function p0(r=$t()){return/blackberry/i.test(r)}function y0(r=$t()){return/webos/i.test(r)}function ug(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sD(r=$t()){var e;return ug(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aD(){return iw()&&document.documentMode===10}function _0(r=$t()){return ug(r)||g0(r)||y0(r)||p0(r)||/windows phone/i.test(r)||m0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(r,e=[]){let n;switch(r){case"Browser":n=Bv($t());break;case"Worker":n=`${Bv($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(r,e={}){return al(r,"GET","/v2/passwordPolicy",lg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=6;class cD{constructor(e){var n,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:uD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new lD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await o0(this,{idToken:e}),s=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(Ps(this));const n=e?nn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oD(this),n=new cD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ah(r){return nn(r)}class Hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=hw(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fD(r){cg=r}function dD(r){return cg.loadJS(r)}function mD(){return cg.gapiScript}function gD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r,e){const n=Sm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Pc(u,e??{}))return l;di(l,"already-initialized")}return n.initialize({options:e})}function yD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Gi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function _D(r,e,n){const s=Ah(r);ve(s._canInitEmulator,s,"emulator-config-failed"),ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=E0(e),{host:f,port:m}=vD(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),ED()}function E0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function vD(r){const e=E0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:jv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:jv(f)}}}function jv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ED(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(r,e){return $I(r,"POST","/v1/accounts:signInWithIdp",lg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="http://localhost";class Hs extends T0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=n,u=ig(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Hs(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:TD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Fo{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ji.credential(n,s)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Fo{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Fo{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await Fi._fromIdTokenResponse(e,s,l),f=qv(s);return new Za({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=qv(s);return new Za({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Zi{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Zc(e,n,s,l)}}function A0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,u,e,s):u})}async function AD(r,e,n=!1){const s=await xo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Za._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(r,e,n=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(Ps(s));const l="reauthenticate";try{const u=await xo(r,A0(s,l,e,r),n);ve(u.idToken,s,"internal-error");const f=og(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Za._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&di(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(r,e,n=!1){if(Hn(r.app))return Promise.reject(Ps(r));const s="signIn",l=await A0(r,s,e),u=await Za._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function wD(r,e,n,s){return nn(r).onIdTokenChanged(e,n,s)}function RD(r,e,n){return nn(r).beforeAuthStateChanged(e,n)}function fg(r,e,n,s){return nn(r).onAuthStateChanged(e,n,s)}function CD(r){return nn(r).signOut()}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=1e3,DD=10;class b0 extends S0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);aD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,DD):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b0.type="LOCAL";const OD=b0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends S0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}w0.type="SESSION";const R0=w0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Sh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await ND(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=dg("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(b){const C=b;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function VD(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function xD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function PD(){return C0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firebaseLocalStorageDb",UD=1,eh="firebaseLocalStorage",D0="fbase_key";class Go{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bh(r,e){return r.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function LD(){const r=indexedDB.deleteDatabase(I0);return new Go(r).toPromise()}function mm(){const r=indexedDB.open(I0,UD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(eh,{keyPath:D0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(eh)?e(s):(s.close(),await LD(),e(await mm()))})})}async function Fv(r,e,n){const s=bh(r,!0).put({[D0]:e,value:n});return new Go(s).toPromise()}async function zD(r,e){const n=bh(r,!1).get(e),s=await new Go(n).toPromise();return s===void 0?null:s.value}function Gv(r,e){const n=bh(r,!0).delete(e);return new Go(n).toPromise()}const BD=800,HD=3;class O0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(PD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xD(),!this.activeServiceWorker)return;this.sender=new MD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await Fv(e,Jc,"1"),await Gv(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=bh(l,!1).getAll();return new Go(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O0.type="LOCAL";const jD=O0;new qo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,e){return e?Gi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends T0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qD(r){return bD(r.auth,new mg(r),r.bypassAuthState)}function FD(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),SD(n,new mg(r),r.bypassAuthState)}async function GD(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),AD(n,new mg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return FD;default:di(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new qo(2e3,1e4);async function KD(r,e,n){if(Hn(r.app))return Promise.reject(jn(r,"operation-not-supported-in-this-environment"));const s=Ah(r);qI(r,e,hg);const l=N0(s,n);return new ks(s,"signInViaPopup",e,l).executeNotNull()}class ks extends M0{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QD.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="pendingRedirect",Nc=new Map;class $D extends M0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const s=await XD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XD(r,e){const n=JD(e),s=ZD(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function WD(r,e){Nc.set(r._key(),e)}function ZD(r){return Gi(r._redirectPersistence)}function JD(r){return Oc(YD,r.config.apiKey,r.name)}async function e2(r,e,n=!1){if(Hn(r.app))return Promise.reject(Ps(r));const s=Ah(r),l=N0(s,e),f=await new $D(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=10*60*1e3;class n2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!V0(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qv(e))}saveEventToCache(e){this.cachedEventUids.add(Qv(e)),this.lastProcessedEventTime=Date.now()}}function Qv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function V0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(r,e={}){return al(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a2=/^https?/;async function l2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await r2(r);for(const n of e)try{if(o2(n))return}catch{}di(r,"unauthorized-domain")}function o2(r){const e=fm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!a2.test(n))return!1;if(s2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new qo(3e4,6e4);function Kv(){const r=ci().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function c2(r){return new Promise((e,n)=>{var s,l,u;function f(){Kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kv(),n(jn(r,"network-request-failed"))},timeout:u2.get()})}if(!((l=(s=ci().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=ci().gapi)===null||u===void 0)&&u.load)f();else{const m=gD("iframefcb");return ci()[m]=()=>{gapi.load?f():n(jn(r,"network-request-failed"))},dD(`${mD()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function h2(r){return Mc=Mc||c2(r),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new qo(5e3,15e3),d2="__/auth/iframe",m2="emulator/auth/iframe",g2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y2(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ag(e,m2):`https://${r.config.authDomain}/${d2}`,s={apiKey:e.apiKey,appName:r.name,v:tl},l=p2.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Lo(s).slice(1)}`}async function _2(r){const e=await h2(r),n=ci().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:y2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g2,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=jn(r,"network-request-failed"),m=ci().setTimeout(()=>{u(f)},f2.get());function p(){ci().clearTimeout(m),l(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,T2=600,A2="_blank",S2="http://localhost";class Yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b2(r,e,n,s=E2,l=T2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},v2),{width:s.toString(),height:l.toString(),top:u,left:f}),y=$t().toLowerCase();n&&(m=d0(y)?A2:n),h0(y)&&(e=e||S2,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[x,z])=>`${C}${x}=${z},`,"");if(sD(y)&&m!=="_self")return w2(e||"",m),new Yv(null);const b=window.open(e||"",m,E);ve(b,r,"popup-blocked");try{b.focus()}catch{}return new Yv(b)}function w2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="__/auth/handler",C2="emulator/auth/handler",I2=encodeURIComponent("fac");async function $v(r,e,n,s,l,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:tl,eventId:l};if(e instanceof hg){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",cw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Fo){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${I2}=${encodeURIComponent(p)}`:"";return`${D2(r)}?${Lo(m).slice(1)}${y}`}function D2({config:r}){return r.emulator?ag(r,C2):`https://${r.authDomain}/${R2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class O2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R0,this._completeRedirectFn=e2,this._overrideRedirectResult=WD}async _openPopup(e,n,s,l){var u;Xi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await $v(e,n,s,fm(),l);return b2(e,f,dg())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await $v(e,n,s,fm(),l);return VD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Xi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _2(e),s=new n2(e);return n.register("authEvent",l=>(ve(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jd,{type:jd},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[jd];f!==void 0&&n(!!f),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _0()||f0()||ug()}}const N2=O2;var Xv="@firebase/auth",Wv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x2(r){Fa(new Us("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v0(r)},y=new hD(s,l,u,p);return yD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Fa(new Us("auth-internal",e=>{const n=Ah(e.getProvider("auth").getImmediate());return(s=>new M2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(Xv,Wv,V2(r)),qr(Xv,Wv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=5*60,P2=TE("authIdTokenMaxAge")||k2;let Zv=null;const U2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>P2)return;const l=n==null?void 0:n.token;Zv!==l&&(Zv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function L2(r=wE()){const e=Sm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=pD(r,{popupRedirectResolver:N2,persistence:[jD,OD,R0]}),s=TE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=U2(u.toString());RD(n,f,()=>f(n.currentUser)),wD(n,m=>f(m))}}const l=vE("auth");return l&&_D(n,`http://${l}`),n}function z2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}fD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=jn("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",z2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x2("Browser");const B2={apiKey:"AIzaSyB9D4TEfh51wkouAney3bGYWs-qZy0BO0o",authDomain:"pcoin-4b4b5.firebaseapp.com",projectId:"pcoin-4b4b5",storageBucket:"pcoin-4b4b5.firebasestorage.app",messagingSenderId:"927446081534",appId:"1:927446081534:web:4764b8300b0415d8556aaf",measurementId:"G-SNS37JZF7Y"},x0=bE(B2),k0=TI(x0),Qo=L2(x0),H2=new ji,j2=async()=>{try{const e=(await KD(Qo,H2)).user;return console.log("User signed in: ",e),e}catch(r){throw console.error("Error signing in with Google: ",r.message),r}},q2=async()=>{try{await CD(Qo),console.log("User logged out")}catch(r){throw console.error("Error logging out: ",r.message),r}},P0=async r=>{try{const e=FT(k0,"users",r),n=await t0(e);return n.exists()?n.data().balance:(await PI(e,{balance:0}),0)}catch(e){console.error("Error getting balance: ",e)}},F2=async(r,e)=>{try{const n=FT(k0,"users",r),s=await t0(n);if(s.exists()){const l=s.data().balance+e;return await UI(n,{balance:l}),l}else return console.error("User not found"),null}catch(n){console.error("Error updating balance: ",n)}},G2=()=>{const[r,e]=Q.useState(null),[n,s]=Q.useState(0),l=ih();Q.useEffect(()=>{const f=fg(Qo,async m=>{if(m){e(m);const p=await P0(m.uid);s(p)}else l("/auth")});return()=>f()},[l]);const u=async()=>{try{await q2(),l("/auth")}catch(f){console.error(" :",f.message)}};return Re.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:r?Re.jsxs("div",{className:"text-center",children:[Re.jsxs("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:[", ",r.displayName,"!"]}),Re.jsx("img",{src:r.photoURL,alt:"Profile",className:"w-24 h-24 rounded-full mb-4"}),Re.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["Email: ",r.email]}),Re.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:[": ",n," PencilCoins"]}),Re.jsx("button",{onClick:u,className:"bg-red-500 text-white py-2 px-6 rounded-lg hover:bg-red-400 transition duration-300",children:""})]}):Re.jsx("div",{children:Re.jsx("p",{className:"text-lg text-gray-600",children:" ..."})})})},Q2=()=>{const[r,e]=Q.useState(null),n=ih();Q.useEffect(()=>{const l=fg(Qo,u=>{e(u),u&&n("/profile")});return()=>l()},[n]);const s=async()=>{try{await j2()}catch(l){console.error(" :",l.message)}};return Re.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:[Re.jsx("h2",{className:"text-4xl font-bold text-center text-gray-800 mb-6",children:"  PencilCoin"}),Re.jsx("button",{onClick:s,className:"bg-blue-500 text-white py-3 px-8 rounded-lg hover:bg-blue-400 transition duration-300",children:"  Google"})]})},K2=()=>{const[r,e]=Q.useState(null),[n,s]=Q.useState(0),[l,u]=Q.useState(0),[f,m]=Q.useState(!1),p=ih();Q.useEffect(()=>{const E=fg(Qo,async b=>{if(b){e(b);const C=await P0(b.uid);s(C),u(C)}else p("/auth")});return()=>E()},[p]);const y=async()=>{if(r){m(!0);for(let E=1;E<=5;E++)setTimeout(()=>{u(b=>b+1)},E*100);setTimeout(async()=>{const E=await F2(r.uid,n+5);s(E),m(!1)},500)}};return Re.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:r?Re.jsxs("div",{className:"text-center",children:[Re.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"!   PencilCoin,   !"}),Re.jsx("img",{src:"PencilCoin.png",alt:"Pencil Coin",onClick:y,className:"cursor-pointer w-128 h-128 mb-6 transition-transform transform hover:scale-110"}),Re.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:[" :",Re.jsxs("span",{className:`coin-animation ${f?"coin-animation":""}`,children:[l," PencilCoins"]})]})]}):Re.jsx("p",{className:"text-lg text-gray-600",children:" ..."})})},Y2=()=>Re.jsxs("div",{className:"h-screen bg-gray-900 text-white",children:[Re.jsxs("nav",{className:"p-4 bg-gray-800 flex justify-between",children:[Re.jsx("h1",{className:"text-xl font-bold",children:"PencilCoin"}),Re.jsxs("div",{children:[Re.jsx(Eo,{to:"/#/",className:"mr-4",children:"Home"}),Re.jsx(Eo,{to:"/#/profile",className:"mr-4",children:"Profile"}),Re.jsx(Eo,{to:"/#/mining",children:"Get Coins"})]})]}),Re.jsxs(Nb,{children:[Re.jsx(mc,{path:"/#/",element:Re.jsx(Hb,{})}),Re.jsx(mc,{path:"/#/profile",element:Re.jsx(G2,{})}),Re.jsx(mc,{path:"/#/auth",element:Re.jsx(Q2,{})}),Re.jsx(mc,{path:"/#/mining",element:Re.jsx(K2,{})})]})]});_S.createRoot(document.getElementById("root")).render(Re.jsx(cS.StrictMode,{children:Re.jsx(Ob,{children:Re.jsx(Y2,{})})}));
