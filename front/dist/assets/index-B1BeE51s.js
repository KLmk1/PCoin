var dS=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var iO=dS((aO,Jo)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function sE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rd={exports:{}},_o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function mS(){if(T_)return _o;T_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return _o.Fragment=e,_o.jsx=n,_o.jsxs=n,_o}var A_;function gS(){return A_||(A_=1,Rd.exports=mS()),Rd.exports}var ye=gS(),Cd={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function pS(){if(S_)return Ve;S_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function D(T){return T===null||typeof T!="object"?null:(T=R&&T[R]||T["@@iterator"],typeof T=="function"?T:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,Y={};function U(T,w,Z){this.props=T,this.context=w,this.refs=Y,this.updater=Z||V}U.prototype.isReactComponent={},U.prototype.setState=function(T,w){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,w,"setState")},U.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function $(){}$.prototype=U.prototype;function re(T,w,Z){this.props=T,this.context=w,this.refs=Y,this.updater=Z||V}var te=re.prototype=new $;te.constructor=re,B(te,U.prototype),te.isPureReactComponent=!0;var se=Array.isArray,le={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function M(T,w,Z,X,ee,oe){return Z=oe.ref,{$$typeof:r,type:T,key:w,ref:Z!==void 0?Z:null,props:oe}}function C(T,w){return M(T.type,w,void 0,void 0,void 0,T.props)}function b(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function O(T){var w={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Z){return w[Z]})}var x=/\/+/g;function z(T,w){return typeof T=="object"&&T!==null&&T.key!=null?O(""+T.key):w.toString(36)}function N(){}function ht(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(N,N):(T.status="pending",T.then(function(w){T.status==="pending"&&(T.status="fulfilled",T.value=w)},function(w){T.status==="pending"&&(T.status="rejected",T.reason=w)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function rt(T,w,Z,X,ee){var oe=typeof T;(oe==="undefined"||oe==="boolean")&&(T=null);var ce=!1;if(T===null)ce=!0;else switch(oe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(T.$$typeof){case r:case e:ce=!0;break;case E:return ce=T._init,rt(ce(T._payload),w,Z,X,ee)}}if(ce)return ee=ee(T),ce=X===""?"."+z(T,0):X,se(ee)?(Z="",ce!=null&&(Z=ce.replace(x,"$&/")+"/"),rt(ee,w,Z,"",function(we){return we})):ee!=null&&(b(ee)&&(ee=C(ee,Z+(ee.key==null||T&&T.key===ee.key?"":(""+ee.key).replace(x,"$&/")+"/")+ce)),w.push(ee)),1;ce=0;var fe=X===""?".":X+":";if(se(T))for(var he=0;he<T.length;he++)X=T[he],oe=fe+z(X,he),ce+=rt(X,w,Z,oe,ee);else if(he=D(T),typeof he=="function")for(T=he.call(T),he=0;!(X=T.next()).done;)X=X.value,oe=fe+z(X,he++),ce+=rt(X,w,Z,oe,ee);else if(oe==="object"){if(typeof T.then=="function")return rt(ht(T),w,Z,X,ee);throw w=String(T),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.")}return ce}function ue(T,w,Z){if(T==null)return T;var X=[],ee=0;return rt(T,X,"","",function(oe){return w.call(Z,oe,ee++)}),X}function Se(T){if(T._status===-1){var w=T._result;w=w(),w.then(function(Z){(T._status===0||T._status===-1)&&(T._status=1,T._result=Z)},function(Z){(T._status===0||T._status===-1)&&(T._status=2,T._result=Z)}),T._status===-1&&(T._status=0,T._result=w)}if(T._status===1)return T._result.default;throw T._result}var _e=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ge(){}return Ve.Children={map:ue,forEach:function(T,w,Z){ue(T,function(){w.apply(this,arguments)},Z)},count:function(T){var w=0;return ue(T,function(){w++}),w},toArray:function(T){return ue(T,function(w){return w})||[]},only:function(T){if(!b(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Ve.Component=U,Ve.Fragment=n,Ve.Profiler=l,Ve.PureComponent=re,Ve.StrictMode=s,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ve.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ve.cache=function(T){return function(){return T.apply(null,arguments)}},Ve.cloneElement=function(T,w,Z){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var X=B({},T.props),ee=T.key,oe=void 0;if(w!=null)for(ce in w.ref!==void 0&&(oe=void 0),w.key!==void 0&&(ee=""+w.key),w)!ge.call(w,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&w.ref===void 0||(X[ce]=w[ce]);var ce=arguments.length-2;if(ce===1)X.children=Z;else if(1<ce){for(var fe=Array(ce),he=0;he<ce;he++)fe[he]=arguments[he+2];X.children=fe}return M(T.type,ee,void 0,void 0,oe,X)},Ve.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Ve.createElement=function(T,w,Z){var X,ee={},oe=null;if(w!=null)for(X in w.key!==void 0&&(oe=""+w.key),w)ge.call(w,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ee[X]=w[X]);var ce=arguments.length-2;if(ce===1)ee.children=Z;else if(1<ce){for(var fe=Array(ce),he=0;he<ce;he++)fe[he]=arguments[he+2];ee.children=fe}if(T&&T.defaultProps)for(X in ce=T.defaultProps,ce)ee[X]===void 0&&(ee[X]=ce[X]);return M(T,oe,void 0,void 0,null,ee)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(T){return{$$typeof:m,render:T}},Ve.isValidElement=b,Ve.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:Se}},Ve.memo=function(T,w){return{$$typeof:y,type:T,compare:w===void 0?null:w}},Ve.startTransition=function(T){var w=le.T,Z={};le.T=Z;try{var X=T(),ee=le.S;ee!==null&&ee(Z,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Ge,_e)}catch(oe){_e(oe)}finally{le.T=w}},Ve.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ve.use=function(T){return le.H.use(T)},Ve.useActionState=function(T,w,Z){return le.H.useActionState(T,w,Z)},Ve.useCallback=function(T,w){return le.H.useCallback(T,w)},Ve.useContext=function(T){return le.H.useContext(T)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(T,w){return le.H.useDeferredValue(T,w)},Ve.useEffect=function(T,w){return le.H.useEffect(T,w)},Ve.useId=function(){return le.H.useId()},Ve.useImperativeHandle=function(T,w,Z){return le.H.useImperativeHandle(T,w,Z)},Ve.useInsertionEffect=function(T,w){return le.H.useInsertionEffect(T,w)},Ve.useLayoutEffect=function(T,w){return le.H.useLayoutEffect(T,w)},Ve.useMemo=function(T,w){return le.H.useMemo(T,w)},Ve.useOptimistic=function(T,w){return le.H.useOptimistic(T,w)},Ve.useReducer=function(T,w,Z){return le.H.useReducer(T,w,Z)},Ve.useRef=function(T){return le.H.useRef(T)},Ve.useState=function(T){return le.H.useState(T)},Ve.useSyncExternalStore=function(T,w,Z){return le.H.useSyncExternalStore(T,w,Z)},Ve.useTransition=function(){return le.H.useTransition()},Ve.version="19.0.0",Ve}var b_;function vm(){return b_||(b_=1,Cd.exports=pS()),Cd.exports}var G=vm();const yS=sE(G);var Id={exports:{}},vo={},Dd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function _S(){return w_||(w_=1,function(r){function e(ue,Se){var _e=ue.length;ue.push(Se);e:for(;0<_e;){var Ge=_e-1>>>1,T=ue[Ge];if(0<l(T,Se))ue[Ge]=Se,ue[_e]=T,_e=Ge;else break e}}function n(ue){return ue.length===0?null:ue[0]}function s(ue){if(ue.length===0)return null;var Se=ue[0],_e=ue.pop();if(_e!==Se){ue[0]=_e;e:for(var Ge=0,T=ue.length,w=T>>>1;Ge<w;){var Z=2*(Ge+1)-1,X=ue[Z],ee=Z+1,oe=ue[ee];if(0>l(X,_e))ee<T&&0>l(oe,X)?(ue[Ge]=oe,ue[ee]=_e,Ge=ee):(ue[Ge]=X,ue[Z]=_e,Ge=Z);else if(ee<T&&0>l(oe,_e))ue[Ge]=oe,ue[ee]=_e,Ge=ee;else break e}}return Se}function l(ue,Se){var _e=ue.sortIndex-Se.sortIndex;return _e!==0?_e:ue.id-Se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,R=null,D=3,V=!1,B=!1,Y=!1,U=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function te(ue){for(var Se=n(y);Se!==null;){if(Se.callback===null)s(y);else if(Se.startTime<=ue)s(y),Se.sortIndex=Se.expirationTime,e(p,Se);else break;Se=n(y)}}function se(ue){if(Y=!1,te(ue),!B)if(n(p)!==null)B=!0,ht();else{var Se=n(y);Se!==null&&rt(se,Se.startTime-ue)}}var le=!1,ge=-1,M=5,C=-1;function b(){return!(r.unstable_now()-C<M)}function O(){if(le){var ue=r.unstable_now();C=ue;var Se=!0;try{e:{B=!1,Y&&(Y=!1,$(ge),ge=-1),V=!0;var _e=D;try{t:{for(te(ue),R=n(p);R!==null&&!(R.expirationTime>ue&&b());){var Ge=R.callback;if(typeof Ge=="function"){R.callback=null,D=R.priorityLevel;var T=Ge(R.expirationTime<=ue);if(ue=r.unstable_now(),typeof T=="function"){R.callback=T,te(ue),Se=!0;break t}R===n(p)&&s(p),te(ue)}else s(p);R=n(p)}if(R!==null)Se=!0;else{var w=n(y);w!==null&&rt(se,w.startTime-ue),Se=!1}}break e}finally{R=null,D=_e,V=!1}Se=void 0}}finally{Se?x():le=!1}}}var x;if(typeof re=="function")x=function(){re(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,N=z.port2;z.port1.onmessage=O,x=function(){N.postMessage(null)}}else x=function(){U(O,0)};function ht(){le||(le=!0,x())}function rt(ue,Se){ge=U(function(){ue(r.unstable_now())},Se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ue){ue.callback=null},r.unstable_continueExecution=function(){B||V||(B=!0,ht())},r.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ue?Math.floor(1e3/ue):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ue){switch(D){case 1:case 2:case 3:var Se=3;break;default:Se=D}var _e=D;D=Se;try{return ue()}finally{D=_e}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ue,Se){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var _e=D;D=ue;try{return Se()}finally{D=_e}},r.unstable_scheduleCallback=function(ue,Se,_e){var Ge=r.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ge+_e:Ge):_e=Ge,ue){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=_e+T,ue={id:E++,callback:Se,priorityLevel:ue,startTime:_e,expirationTime:T,sortIndex:-1},_e>Ge?(ue.sortIndex=_e,e(y,ue),n(p)===null&&ue===n(y)&&(Y?($(ge),ge=-1):Y=!0,rt(se,_e-Ge))):(ue.sortIndex=T,e(p,ue),B||V||(B=!0,ht())),ue},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(ue){var Se=D;return function(){var _e=D;D=Se;try{return ue.apply(this,arguments)}finally{D=_e}}}}(Od)),Od}var R_;function vS(){return R_||(R_=1,Dd.exports=_S()),Dd.exports}var Nd={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function ES(){if(C_)return tn;C_=1;var r=vm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},tn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},tn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,R=m(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:D,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:R,integrity:D,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},tn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,R=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,y){return p(y)},tn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.0.0",tn}var I_;function TS(){if(I_)return Nd.exports;I_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nd.exports=ES(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function AS(){if(D_)return vo;D_=1;var r=vS(),e=vm(),n=TS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),se=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case U:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case B:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return i=t.displayName||null,i!==null?i:C(t.type)||"Memo";case re:i=t._payload,t=t._init;try{return C(t(i))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,x,z;function N(t){if(x===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+t+z}var ht=!1;function rt(t,i){if(!t||ht)return"";ht=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var q=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){q=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){q=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var I=v.split(`
`),k=A.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===k.length)for(o=I.length-1,h=k.length-1;1<=o&&0<=h&&I[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==k[h]){var K=`
`+I[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{ht=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function ue(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=rt(t.type,!1),t;case 11:return t=rt(t.type.render,!1),t;case 1:return t=rt(t.type,!0),t;default:return""}}function Se(t){try{var i="";do i+=ue(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _e(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function T(t){if(_e(t)!==t)throw Error(s(188))}function w(t){var i=t.alternate;if(!i){if(i=_e(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return T(h),t;if(d===o)return T(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,o=d;break}if(A===o){v=!0,o=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,o=h;break}if(A===o){v=!0,o=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function Z(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=Z(t),i!==null)return i;t=t.sibling}return null}var X=Array.isArray,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ce=[],fe=-1;function he(t){return{current:t}}function we(t){0>fe||(t.current=ce[fe],ce[fe]=null,fe--)}function Ee(t,i){fe++,ce[fe]=t.current,t.current=i}var Me=he(null),Qe=he(null),Xe=he(null),Ne=he(null);function st(t,i){switch(Ee(Xe,i),Ee(Qe,t),Ee(Me,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Xy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Xy(t),i=Wy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}we(Me),Ee(Me,i)}function _t(){we(Me),we(Qe),we(Xe)}function qt(t){t.memoizedState!==null&&Ee(Ne,t);var i=Me.current,a=Wy(i,t.type);i!==a&&(Ee(Qe,t),Ee(Me,a))}function Zt(t){Qe.current===t&&(we(Me),we(Qe)),Ne.current===t&&(we(Ne),fo._currentValue=oe)}var dn=Object.prototype.hasOwnProperty,Pt=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,ml=r.unstable_shouldYield,os=r.unstable_requestPaint,Ft=r.unstable_now,Js=r.unstable_getCurrentPriorityLevel,ft=r.unstable_ImmediatePriority,At=r.unstable_UserBlockingPriority,qn=r.unstable_NormalPriority,us=r.unstable_LowPriority,or=r.unstable_IdlePriority,cs=r.log,wi=r.unstable_setDisableYieldValue,Zn=null,Jt=null;function gl(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Zn,t,void 0,(t.current.flags&128)===128)}catch{}}function Jn(t){if(typeof cs=="function"&&wi(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Zn,t)}catch{}}var ln=Math.clz32?Math.clz32:tu,pl=Math.log,eu=Math.LN2;function tu(t){return t>>>=0,t===0?32:31-(pl(t)/eu|0)|0}var ei=128,ur=4194304;function Fn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cn(t,i){var a=t.pendingLanes;if(a===0)return 0;var o=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var A=a&134217727;return A!==0?(a=A&~h,a!==0?o=Fn(a):(d&=A,d!==0?o=Fn(d):t||(v=A&~v,v!==0&&(o=Fn(v))))):(A=a&~h,A!==0?o=Fn(A):d!==0?o=Fn(d):t||(v=a&~v,v!==0&&(o=Fn(v)))),o===0?0:i!==0&&i!==o&&!(i&h)&&(h=o&-o,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:o}function cr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ea(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yl(){var t=ei;return ei<<=1,!(ei&4194176)&&(ei=128),t}function hr(){var t=ur;return ur<<=1,!(ur&62914560)&&(ur=4194304),t}function ta(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nu(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,I=t.expirationTimes,k=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-ln(a),ne=1<<K;A[K]=0,I[K]=-1;var q=k[K];if(q!==null)for(k[K]=null,K=0;K<q.length;K++){var Q=q[K];Q!==null&&(Q.lane&=-536870913)}a&=~ne}o!==0&&fr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function fr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-ln(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function dr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-ln(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function iu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function ru(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:g_(t.type))}function mr(t,i){var a=ee.p;try{return ee.p=t,i()}finally{ee.p=a}}var ti=Math.random().toString(36).slice(2),kt="__reactFiber$"+ti,Ct="__reactProps$"+ti,Ri="__reactContainer$"+ti,hs="__reactEvents$"+ti,na="__reactListeners$"+ti,ni="__reactHandles$"+ti,_l="__reactResources$"+ti,gr="__reactMarker$"+ti;function fs(t){delete t[kt],delete t[Ct],delete t[hs],delete t[na],delete t[ni]}function Gn(t){var i=t[kt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ri]||a[kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=e_(t);t!==null;){if(a=t[kt])return a;t=e_(t)}return i}t=a,a=t.parentNode}return null}function Ci(t){if(t=t[kt]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function pr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yr(t){var i=t[_l];return i||(i=t[_l]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(t){t[gr]=!0}var vl=new Set,ia={};function _n(t,i){mn(t,i),mn(t+"Capture",i)}function mn(t,i){for(ia[t]=i,t=0;t<i.length;t++)vl.add(i[t])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function su(t){return dn.call(Tl,t)?!0:dn.call(El,t)?!1:Dh.test(t)?Tl[t]=!0:(El[t]=!0,!1)}function _r(t,i,a){if(su(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function In(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function au(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oh(t){var i=au(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ds(t){t._valueTracker||(t._valueTracker=Oh(t))}function Al(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=au(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ii=/[\n"\\]/g;function dt(t){return t.replace(Ii,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Er(t,i,a,o,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?sa(t,v,on(i)):a!=null?sa(t,v,on(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+on(A):t.removeAttribute("name")}function ms(t,i,a,o,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function sa(t,i,a){i==="number"&&ra(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ke(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function gs(t,i,a){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+on(a):""}function Tr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(X(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=on(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Nh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function lu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Sl(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Sl(t,d,i[d])}function bl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(t){return Vh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var On=null;function aa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,Oi=null;function Ni(t){var i=Ci(t);if(i&&(t=i.stateNode)){var a=t[Ct]||null;e:switch(t=i.stateNode,i.type){case"input":if(Er(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Ct]||null;if(!h)throw Error(s(90));Er(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Al(o)}break e;case"textarea":gs(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ke(t,!!a.multiple,i,!1)}}}var wl=!1;function ou(t,i,a){if(wl)return t(i,a);wl=!0;try{var o=t(i);return o}finally{if(wl=!1,(Di!==null||Oi!==null)&&(Ju(),Di&&(i=Di,t=Oi,Oi=Di=null,Ni(i),t)))for(i=0;i<t.length;i++)Ni(t[i])}}function ps(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Ct]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!1;if(vn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{Nn=!1}var ri=null,Ar=null,Mi=null;function Rl(){if(Mi)return Mi;var t,i=Ar,a=i.length,o,h="value"in ri?ri.value:ri.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Mi=h.slice(t,1<o?1-o:void 0)}function si(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function Cl(){return!1}function Ut(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:Cl,this.isPropagationStopped=Cl,this}return O(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),i}var We={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Ut(We),_s=O({},We,{view:0,detail:0}),uu=Ut(_s),oa,ua,li,vs=O({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(oa=t.screenX-li.screenX,ua=t.screenY-li.screenY):ua=oa=0,li=t),oa)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),Mn=Ut(vs),cu=O({},vs,{dataTransfer:0}),xh=Ut(cu),Es=O({},_s,{relatedTarget:0}),ca=Ut(Es),Il=O({},We,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=Ut(Il),hu=O({},We,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fa=Ut(hu),Ph=O({},We,{data:0}),Dl=Ut(Ph),Ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=du[t])?!!i[t]:!1}function As(){return Ol}var mu=O({},_s,{key:function(t){if(t.key){var i=Ts[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),da=Ut(mu),gu=O({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nl=Ut(gu),Vi=O({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),pu=Ut(Vi),yu=O({},We,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=Ut(yu),vu=O({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ma=Ut(vu),un=O({},We,{newState:0,oldState:0}),Eu=Ut(un),Tu=[9,13,27,32],oi=vn&&"CompositionEvent"in window,c=null;vn&&"documentMode"in document&&(c=document.documentMode);var g=vn&&"TextEvent"in window&&!c,_=vn&&(!oi||c&&8<c&&11>=c),S=" ",j=!1;function F(t,i){switch(t){case"keyup":return Tu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function It(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(j=!0,S);case"textInput":return t=i.data,t===S&&j?null:t;default:return null}}function He(t,i){if(je)return t==="compositionend"||!oi&&F(t,i)?(t=Rl(),Mi=Ar=ri=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Lt[t.type]:i==="textarea"}function xi(t,i,a,o){Di?Oi?Oi.push(o):Oi=[o]:Di=o,i=rc(i,"onChange"),0<i.length&&(a=new la("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Gt=null,ui=null;function Ml(t){Gy(t,0)}function Au(t){var i=pr(t);if(Al(i))return t}function Eg(t,i){if(t==="change")return i}var Tg=!1;if(vn){var kh;if(vn){var Uh="oninput"in document;if(!Uh){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Uh=typeof Ag.oninput=="function"}kh=Uh}else kh=!1;Tg=kh&&(!document.documentMode||9<document.documentMode)}function Sg(){Gt&&(Gt.detachEvent("onpropertychange",bg),ui=Gt=null)}function bg(t){if(t.propertyName==="value"&&Au(ui)){var i=[];xi(i,ui,t,aa(t)),ou(Ml,i)}}function q0(t,i,a){t==="focusin"?(Sg(),Gt=i,ui=a,Gt.attachEvent("onpropertychange",bg)):t==="focusout"&&Sg()}function F0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(ui)}function G0(t,i){if(t==="click")return Au(i)}function Q0(t,i){if(t==="input"||t==="change")return Au(i)}function K0(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:K0;function Vl(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!dn.call(i,h)||!En(t[h],i[h]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rg(t,i){var a=wg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wg(a)}}function Cg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Cg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ra(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ra(t.document)}return i}function Lh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Y0(t,i){var a=Ig(i);i=t.focusedElem;var o=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Cg(i.ownerDocument.documentElement,i)){if(o!==null&&Lh(i)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!a.extend&&d>o&&(h=o,o=d,d=h),h=Rg(i,d);var v=Rg(i,o);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>o?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var $0=vn&&"documentMode"in document&&11>=document.documentMode,ga=null,zh=null,xl=null,Bh=!1;function Dg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||ga==null||ga!==ra(o)||(o=ga,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xl&&Vl(xl,o)||(xl=o,o=rc(zh,"onSelect"),0<o.length&&(i=new la("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ga)))}function Ss(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var pa={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},jh={},Og={};vn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function bs(t){if(jh[t])return jh[t];if(!pa[t])return t;var i=pa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Og)return jh[t]=i[a];return t}var Ng=bs("animationend"),Mg=bs("animationiteration"),Vg=bs("animationstart"),X0=bs("transitionrun"),W0=bs("transitionstart"),Z0=bs("transitioncancel"),xg=bs("transitionend"),Pg=new Map,kg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qn(t,i){Pg.set(t,i),_n(i,[t])}var Vn=[],ya=0,Hh=0;function Su(){for(var t=ya,i=Hh=ya=0;i<t;){var a=Vn[i];Vn[i++]=null;var o=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Ug(a,h,d)}}function bu(t,i,a,o){Vn[ya++]=t,Vn[ya++]=i,Vn[ya++]=a,Vn[ya++]=o,Hh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function qh(t,i,a,o){return bu(t,i,a,o),wu(t)}function Sr(t,i){return bu(t,null,null,i),wu(t)}function Ug(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-ln(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function wu(t){if(50<so)throw so=0,Xf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var _a={},Lg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=Lg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Se(i)},Lg.set(t,i),i)}return{value:t,source:i,stack:Se(i)}}var va=[],Ea=0,Ru=null,Cu=0,Pn=[],kn=0,ws=null,Pi=1,ki="";function Rs(t,i){va[Ea++]=Cu,va[Ea++]=Ru,Ru=t,Cu=i}function zg(t,i,a){Pn[kn++]=Pi,Pn[kn++]=ki,Pn[kn++]=ws,ws=t;var o=Pi;t=ki;var h=32-ln(o)-1;o&=~(1<<h),a+=1;var d=32-ln(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Pi=1<<32-ln(i)+h|a<<h|o,ki=d+t}else Pi=1<<d|a<<h|o,ki=t}function Fh(t){t.return!==null&&(Rs(t,1),zg(t,1,0))}function Gh(t){for(;t===Ru;)Ru=va[--Ea],va[Ea]=null,Cu=va[--Ea],va[Ea]=null;for(;t===ws;)ws=Pn[--kn],Pn[kn]=null,ki=Pn[--kn],Pn[kn]=null,Pi=Pn[--kn],Pn[kn]=null}var cn=null,Qt=null,Ye=!1,Kn=null,ci=!1,Qh=Error(s(519));function Cs(t){var i=Error(s(418,""));throw Ul(xn(i,t)),Qh}function Bg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[kt]=t,i[Ct]=o,a){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(a=0;a<lo.length;a++)Be(lo[a],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),ms(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ds(i);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),Tr(i,o.value,o.defaultValue,o.children),ds(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||$y(i.textContent,a)?(o.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),o.onScroll!=null&&Be("scroll",i),o.onScrollEnd!=null&&Be("scrollend",i),o.onClick!=null&&(i.onclick=sc),i=!0):i=!1,i||Cs(t)}function jg(t){for(cn=t.return;cn;)switch(cn.tag){case 3:case 27:ci=!0;return;case 5:case 13:ci=!1;return;default:cn=cn.return}}function Pl(t){if(t!==cn)return!1;if(!Ye)return jg(t),Ye=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||dd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Qt&&Cs(t),jg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Qt=$n(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Qt=null}}else Qt=cn?$n(t.stateNode.nextSibling):null;return!0}function kl(){Qt=cn=null,Ye=!1}function Ul(t){Kn===null?Kn=[t]:Kn.push(t)}var Ll=Error(s(460)),Hg=Error(s(474)),Kh={then:function(){}};function qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Iu(){}function Fg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Iu,Iu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Ll?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Iu,Iu);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Ll?Error(s(483)):t}throw zl=i,Ll}}var zl=null;function Gg(){if(zl===null)throw Error(s(459));var t=zl;return zl=null,t}var Ta=null,Bl=0;function Du(t){var i=Bl;return Bl+=1,Ta===null&&(Ta=[]),Fg(Ta,t,i)}function jl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ou(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){var i=t._init;return i(t._payload)}function Kg(t){function i(L,P){if(t){var H=L.deletions;H===null?(L.deletions=[P],L.flags|=16):H.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)i(L,P),P=P.sibling;return null}function o(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Pr(L,P),L.index=0,L.sibling=null,L}function d(L,P,H){return L.index=H,t?(H=L.alternate,H!==null?(H=H.index,H<P?(L.flags|=33554434,P):H):(L.flags|=33554434,P)):(L.flags|=1048576,P)}function v(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function A(L,P,H,W){return P===null||P.tag!==6?(P=Hf(H,L.mode,W),P.return=L,P):(P=h(P,H),P.return=L,P)}function I(L,P,H,W){var me=H.type;return me===p?K(L,P,H.props.children,W,H.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===re&&Qg(me)===P.type)?(P=h(P,H.props),jl(P,H),P.return=L,P):(P=Yu(H.type,H.key,H.props,null,L.mode,W),jl(P,H),P.return=L,P)}function k(L,P,H,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=qf(H,L.mode,W),P.return=L,P):(P=h(P,H.children||[]),P.return=L,P)}function K(L,P,H,W,me){return P===null||P.tag!==7?(P=Us(H,L.mode,W,me),P.return=L,P):(P=h(P,H),P.return=L,P)}function ne(L,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Hf(""+P,L.mode,H),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return H=Yu(P.type,P.key,P.props,null,L.mode,H),jl(H,P),H.return=L,H;case m:return P=qf(P,L.mode,H),P.return=L,P;case re:var W=P._init;return P=W(P._payload),ne(L,P,H)}if(X(P)||ge(P))return P=Us(P,L.mode,H,null),P.return=L,P;if(typeof P.then=="function")return ne(L,Du(P),H);if(P.$$typeof===V)return ne(L,Gu(L,P),H);Ou(L,P)}return null}function q(L,P,H,W){var me=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:A(L,P,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===me?I(L,P,H,W):null;case m:return H.key===me?k(L,P,H,W):null;case re:return me=H._init,H=me(H._payload),q(L,P,H,W)}if(X(H)||ge(H))return me!==null?null:K(L,P,H,W,null);if(typeof H.then=="function")return q(L,P,Du(H),W);if(H.$$typeof===V)return q(L,P,Gu(L,H),W);Ou(L,H)}return null}function Q(L,P,H,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(H)||null,A(P,L,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return L=L.get(W.key===null?H:W.key)||null,I(P,L,W,me);case m:return L=L.get(W.key===null?H:W.key)||null,k(P,L,W,me);case re:var Pe=W._init;return W=Pe(W._payload),Q(L,P,H,W,me)}if(X(W)||ge(W))return L=L.get(H)||null,K(P,L,W,me,null);if(typeof W.then=="function")return Q(L,P,H,Du(W),me);if(W.$$typeof===V)return Q(L,P,H,Gu(P,W),me);Ou(P,W)}return null}function pe(L,P,H,W){for(var me=null,Pe=null,ve=P,be=P=0,jt=null;ve!==null&&be<H.length;be++){ve.index>be?(jt=ve,ve=null):jt=ve.sibling;var $e=q(L,ve,H[be],W);if($e===null){ve===null&&(ve=jt);break}t&&ve&&$e.alternate===null&&i(L,ve),P=d($e,P,be),Pe===null?me=$e:Pe.sibling=$e,Pe=$e,ve=jt}if(be===H.length)return a(L,ve),Ye&&Rs(L,be),me;if(ve===null){for(;be<H.length;be++)ve=ne(L,H[be],W),ve!==null&&(P=d(ve,P,be),Pe===null?me=ve:Pe.sibling=ve,Pe=ve);return Ye&&Rs(L,be),me}for(ve=o(ve);be<H.length;be++)jt=Q(ve,L,be,H[be],W),jt!==null&&(t&&jt.alternate!==null&&ve.delete(jt.key===null?be:jt.key),P=d(jt,P,be),Pe===null?me=jt:Pe.sibling=jt,Pe=jt);return t&&ve.forEach(function(Hr){return i(L,Hr)}),Ye&&Rs(L,be),me}function De(L,P,H,W){if(H==null)throw Error(s(151));for(var me=null,Pe=null,ve=P,be=P=0,jt=null,$e=H.next();ve!==null&&!$e.done;be++,$e=H.next()){ve.index>be?(jt=ve,ve=null):jt=ve.sibling;var Hr=q(L,ve,$e.value,W);if(Hr===null){ve===null&&(ve=jt);break}t&&ve&&Hr.alternate===null&&i(L,ve),P=d(Hr,P,be),Pe===null?me=Hr:Pe.sibling=Hr,Pe=Hr,ve=jt}if($e.done)return a(L,ve),Ye&&Rs(L,be),me;if(ve===null){for(;!$e.done;be++,$e=H.next())$e=ne(L,$e.value,W),$e!==null&&(P=d($e,P,be),Pe===null?me=$e:Pe.sibling=$e,Pe=$e);return Ye&&Rs(L,be),me}for(ve=o(ve);!$e.done;be++,$e=H.next())$e=Q(ve,L,be,$e.value,W),$e!==null&&(t&&$e.alternate!==null&&ve.delete($e.key===null?be:$e.key),P=d($e,P,be),Pe===null?me=$e:Pe.sibling=$e,Pe=$e);return t&&ve.forEach(function(fS){return i(L,fS)}),Ye&&Rs(L,be),me}function pt(L,P,H,W){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:e:{for(var me=H.key;P!==null;){if(P.key===me){if(me=H.type,me===p){if(P.tag===7){a(L,P.sibling),W=h(P,H.props.children),W.return=L,L=W;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===re&&Qg(me)===P.type){a(L,P.sibling),W=h(P,H.props),jl(W,H),W.return=L,L=W;break e}a(L,P);break}else i(L,P);P=P.sibling}H.type===p?(W=Us(H.props.children,L.mode,W,H.key),W.return=L,L=W):(W=Yu(H.type,H.key,H.props,null,L.mode,W),jl(W,H),W.return=L,L=W)}return v(L);case m:e:{for(me=H.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(L,P.sibling),W=h(P,H.children||[]),W.return=L,L=W;break e}else{a(L,P);break}else i(L,P);P=P.sibling}W=qf(H,L.mode,W),W.return=L,L=W}return v(L);case re:return me=H._init,H=me(H._payload),pt(L,P,H,W)}if(X(H))return pe(L,P,H,W);if(ge(H)){if(me=ge(H),typeof me!="function")throw Error(s(150));return H=me.call(H),De(L,P,H,W)}if(typeof H.then=="function")return pt(L,P,Du(H),W);if(H.$$typeof===V)return pt(L,P,Gu(L,H),W);Ou(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(L,P.sibling),W=h(P,H),W.return=L,L=W):(a(L,P),W=Hf(H,L.mode,W),W.return=L,L=W),v(L)):a(L,P)}return function(L,P,H,W){try{Bl=0;var me=pt(L,P,H,W);return Ta=null,me}catch(ve){if(ve===Ll)throw ve;var Pe=Bn(29,ve,null,L.mode);return Pe.lanes=W,Pe.return=L,Pe}finally{}}}var Is=Kg(!0),Yg=Kg(!1),Aa=he(null),Nu=he(0);function $g(t,i){t=Ki,Ee(Nu,t),Ee(Aa,i),Ki=t|i.baseLanes}function Yh(){Ee(Nu,Ki),Ee(Aa,Aa.current)}function $h(){Ki=Nu.current,we(Aa),we(Nu)}var Un=he(null),hi=null;function br(t){var i=t.alternate;Ee(Ot,Ot.current&1),Ee(Un,t),hi===null&&(i===null||Aa.current!==null||i.memoizedState!==null)&&(hi=t)}function Xg(t){if(t.tag===22){if(Ee(Ot,Ot.current),Ee(Un,t),hi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(hi=t)}}else wr()}function wr(){Ee(Ot,Ot.current),Ee(Un,Un.current)}function Ui(t){we(Un),hi===t&&(hi=null),we(Ot)}var Ot=he(0);function Mu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var J0=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},eA=r.unstable_scheduleCallback,tA=r.unstable_NormalPriority,Nt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new J0,data:new Map,refCount:0}}function Hl(t){t.refCount--,t.refCount===0&&eA(tA,function(){t.controller.abort()})}var ql=null,Wh=0,Sa=0,ba=null;function nA(t,i){if(ql===null){var a=ql=[];Wh=0,Sa=rd(),ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Wh++,i.then(Wg,Wg),i}function Wg(){if(--Wh===0&&ql!==null){ba!==null&&(ba.status="fulfilled");var t=ql;ql=null,Sa=0,ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function iA(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Zg=b.S;b.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&nA(t,i),Zg!==null&&Zg(t,i)};var Ds=he(null);function Zh(){var t=Ds.current;return t!==null?t:nt.pooledCache}function Vu(t,i){i===null?Ee(Ds,Ds.current):Ee(Ds,i.pool)}function Jg(){var t=Zh();return t===null?null:{parent:Nt._currentValue,pool:t}}var Rr=0,xe=null,Je=null,St=null,xu=!1,wa=!1,Os=!1,Pu=0,Fl=0,Ra=null,rA=0;function Et(){throw Error(s(321))}function Jh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function ef(t,i,a,o,h,d){return Rr=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=t===null||t.memoizedState===null?Ns:Cr,Os=!1,d=a(o,h),Os=!1,wa&&(d=tp(i,a,o,h)),ep(t),d}function ep(t){b.H=fi;var i=Je!==null&&Je.next!==null;if(Rr=0,St=Je=xe=null,xu=!1,Fl=0,Ra=null,i)throw Error(s(300));t===null||zt||(t=t.dependencies,t!==null&&Fu(t)&&(zt=!0))}function tp(t,i,a,o){xe=t;var h=0;do{if(wa&&(Ra=null),Fl=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,St=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Ms,d=i(a,o)}while(wa);return d}function sA(){var t=b.H,i=t.useState()[0];return i=typeof i.then=="function"?Gl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(xe.flags|=1024),i}function tf(){var t=Pu!==0;return Pu=0,t}function nf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function rf(t){if(xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}xu=!1}Rr=0,St=Je=xe=null,wa=!1,Fl=Pu=0,Ra=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?xe.memoizedState=St=t:St=St.next=t,St}function bt(){if(Je===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=St===null?xe.memoizedState:St.next;if(i!==null)St=i,Je=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},St===null?xe.memoizedState=St=t:St=St.next=t}return St}var ku;ku=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Gl(t){var i=Fl;return Fl+=1,Ra===null&&(Ra=[]),t=Fg(Ra,t,i),i=xe,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?Ns:Cr),t}function Uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gl(t);if(t.$$typeof===V)return en(t)}throw Error(s(438,String(t)))}function sf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ku(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=se;return i.index++,a}function Li(t,i){return typeof i=="function"?i(t):i}function Lu(t){var i=bt();return af(i,Je,t)}function af(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=v=null,I=null,k=i,K=!1;do{var ne=k.lane&-536870913;if(ne!==k.lane?(qe&ne)===ne:(Rr&ne)===ne){var q=k.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),ne===Sa&&(K=!0);else if((Rr&q)===q){k=k.next,q===Sa&&(K=!0);continue}else ne={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},I===null?(A=I=ne,v=d):I=I.next=ne,xe.lanes|=q,kr|=q;ne=k.action,Os&&a(d,ne),d=k.hasEagerState?k.eagerState:a(d,ne)}else q={lane:ne,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},I===null?(A=I=q,v=d):I=I.next=q,xe.lanes|=ne,kr|=ne;k=k.next}while(k!==null&&k!==i);if(I===null?v=d:I.next=A,!En(d,t.memoizedState)&&(zt=!0,K&&(a=ba,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function lf(t){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(zt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function np(t,i,a){var o=xe,h=bt(),d=Ye;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!En((Je||h).memoizedState,a);if(v&&(h.memoizedState=a,zt=!0),h=h.queue,cf(sp.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Ca(9,rp.bind(null,o,h,a,i),{destroy:void 0},null),nt===null)throw Error(s(349));d||Rr&60||ip(o,i,a)}return a}function ip(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=ku(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function rp(t,i,a,o){i.value=a,i.getSnapshot=o,ap(i)&&lp(t)}function sp(t,i,a){return a(function(){ap(i)&&lp(t)})}function ap(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function lp(t){var i=Sr(t,2);i!==null&&hn(i,t,2)}function of(t){var i=gn();if(typeof t=="function"){var a=t;if(t=a(),Os){Jn(!0);try{a()}finally{Jn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},i}function op(t,i,a,o){return t.baseState=a,af(t,Je,typeof o=="function"?o:Li)}function aA(t,i,a,o,h){if(ju(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,up(i,d)):(d.next=a.next,i.pending=a.next=d)}}function up(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=b.T,v={};b.T=v;try{var A=a(h,o),I=b.S;I!==null&&I(v,A),cp(t,i,A)}catch(k){uf(t,i,k)}finally{b.T=d}}else try{d=a(h,o),cp(t,i,d)}catch(k){uf(t,i,k)}}function cp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){hp(t,i,o)},function(o){return uf(t,i,o)}):hp(t,i,a)}function hp(t,i,a){i.status="fulfilled",i.value=a,fp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,up(t,a)))}function uf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,fp(i),i=i.next;while(i!==o)}t.action=null}function fp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dp(t,i){return i}function mp(t,i){if(Ye){var a=nt.formState;if(a!==null){e:{var o=xe;if(Ye){if(Qt){t:{for(var h=Qt,d=ci;h.nodeType!==8;){if(!d){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Qt=$n(h.nextSibling),o=h.data==="F!";break e}}Cs(o)}o=!1}o&&(i=a[0])}}return a=gn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:i},a.queue=o,a=Mp.bind(null,xe,o),o.dispatch=a,o=of(!1),d=gf.bind(null,xe,!1,o.queue),o=gn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=aA.bind(null,xe,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function gp(t){var i=bt();return pp(i,Je,t)}function pp(t,i,a){i=af(t,i,dp)[0],t=Lu(Li)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Gl(i):i;var o=bt(),h=o.queue,d=h.dispatch;return a!==o.memoizedState&&(xe.flags|=2048,Ca(9,lA.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function lA(t,i){t.action=i}function yp(t){var i=bt(),a=Je;if(a!==null)return pp(i,a,t);bt(),i=i.memoizedState,a=bt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ca(t,i,a,o){return t={tag:t,create:i,inst:a,deps:o,next:null},i=xe.updateQueue,i===null&&(i=ku(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function _p(){return bt().memoizedState}function zu(t,i,a,o){var h=gn();xe.flags|=t,h.memoizedState=Ca(1|i,a,{destroy:void 0},o===void 0?null:o)}function Bu(t,i,a,o){var h=bt();o=o===void 0?null:o;var d=h.memoizedState.inst;Je!==null&&o!==null&&Jh(o,Je.memoizedState.deps)?h.memoizedState=Ca(i,a,d,o):(xe.flags|=t,h.memoizedState=Ca(1|i,a,d,o))}function vp(t,i){zu(8390656,8,t,i)}function cf(t,i){Bu(2048,8,t,i)}function Ep(t,i){return Bu(4,2,t,i)}function Tp(t,i){return Bu(4,4,t,i)}function Ap(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Sp(t,i,a){a=a!=null?a.concat([t]):null,Bu(4,4,Ap.bind(null,i,t),a)}function hf(){}function bp(t,i){var a=bt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Jh(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function wp(t,i){var a=bt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Jh(i,o[1]))return o[0];if(o=t(),Os){Jn(!0);try{t()}finally{Jn(!1)}}return a.memoizedState=[o,i],o}function ff(t,i,a){return a===void 0||Rr&1073741824?t.memoizedState=i:(t.memoizedState=a,t=Cy(),xe.lanes|=t,kr|=t,a)}function Rp(t,i,a,o){return En(a,i)?a:Aa.current!==null?(t=ff(t,a,o),En(t,i)||(zt=!0),t):Rr&42?(t=Cy(),xe.lanes|=t,kr|=t,i):(zt=!0,t.memoizedState=a)}function Cp(t,i,a,o,h){var d=ee.p;ee.p=d!==0&&8>d?d:8;var v=b.T,A={};b.T=A,gf(t,!1,i,a);try{var I=h(),k=b.S;if(k!==null&&k(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=iA(I,o);Ql(t,i,K,bn(t))}else Ql(t,i,o,bn(t))}catch(ne){Ql(t,i,{then:function(){},status:"rejected",reason:ne},bn())}finally{ee.p=d,b.T=v}}function oA(){}function df(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Ip(t).queue;Cp(t,h,i,oe,a===null?oA:function(){return Dp(t),a(o)})}function Ip(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dp(t){var i=Ip(t).next.queue;Ql(t,i,{},bn())}function mf(){return en(fo)}function Op(){return bt().memoizedState}function Np(){return bt().memoizedState}function uA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Or(a);var o=Nr(i,t,a);o!==null&&(hn(o,i,a),$l(o,i,a)),i={cache:Xh()},t.payload=i;return}i=i.return}}function cA(t,i,a){var o=bn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ju(t)?Vp(i,a):(a=qh(t,i,a,o),a!==null&&(hn(a,t,o),xp(a,i,o)))}function Mp(t,i,a){var o=bn();Ql(t,i,a,o)}function Ql(t,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ju(t))Vp(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,En(A,v))return bu(t,i,h,0),nt===null&&Su(),!1}catch{}finally{}if(a=qh(t,i,h,o),a!==null)return hn(a,t,o),xp(a,i,o),!0}return!1}function gf(t,i,a,o){if(o={lane:2,revertLane:rd(),action:o,hasEagerState:!1,eagerState:null,next:null},ju(t)){if(i)throw Error(s(479))}else i=qh(t,a,o,2),i!==null&&hn(i,t,2)}function ju(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function Vp(t,i){wa=xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function xp(t,i,a){if(a&4194176){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,dr(t,a)}}var fi={readContext:en,use:Uu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et};fi.useCacheRefresh=Et,fi.useMemoCache=Et,fi.useHostTransitionStatus=Et,fi.useFormState=Et,fi.useActionState=Et,fi.useOptimistic=Et;var Ns={readContext:en,use:Uu,useCallback:function(t,i){return gn().memoizedState=[t,i===void 0?null:i],t},useContext:en,useEffect:vp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,zu(4194308,4,Ap.bind(null,i,t),a)},useLayoutEffect:function(t,i){return zu(4194308,4,t,i)},useInsertionEffect:function(t,i){zu(4,2,t,i)},useMemo:function(t,i){var a=gn();i=i===void 0?null:i;var o=t();if(Os){Jn(!0);try{t()}finally{Jn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=gn();if(a!==void 0){var h=a(i);if(Os){Jn(!0);try{a(i)}finally{Jn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=cA.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var i=gn();return t={current:t},i.memoizedState=t},useState:function(t){t=of(t);var i=t.queue,a=Mp.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:hf,useDeferredValue:function(t,i){var a=gn();return ff(a,t,i)},useTransition:function(){var t=of(!1);return t=Cp.bind(null,xe,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=xe,h=gn();if(Ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));qe&60||ip(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vp(sp.bind(null,o,d,t),[t]),o.flags|=2048,Ca(9,rp.bind(null,o,d,a,i),{destroy:void 0},null),a},useId:function(){var t=gn(),i=nt.identifierPrefix;if(Ye){var a=ki,o=Pi;a=(o&~(1<<32-ln(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Pu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=rA++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return gn().memoizedState=uA.bind(null,xe)}};Ns.useMemoCache=sf,Ns.useHostTransitionStatus=mf,Ns.useFormState=mp,Ns.useActionState=mp,Ns.useOptimistic=function(t){var i=gn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gf.bind(null,xe,!0,a),a.dispatch=i,[t,i]};var Cr={readContext:en,use:Uu,useCallback:bp,useContext:en,useEffect:cf,useImperativeHandle:Sp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:Lu,useRef:_p,useState:function(){return Lu(Li)},useDebugValue:hf,useDeferredValue:function(t,i){var a=bt();return Rp(a,Je.memoizedState,t,i)},useTransition:function(){var t=Lu(Li)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Gl(t),i]},useSyncExternalStore:np,useId:Op};Cr.useCacheRefresh=Np,Cr.useMemoCache=sf,Cr.useHostTransitionStatus=mf,Cr.useFormState=gp,Cr.useActionState=gp,Cr.useOptimistic=function(t,i){var a=bt();return op(a,Je,t,i)};var Ms={readContext:en,use:Uu,useCallback:bp,useContext:en,useEffect:cf,useImperativeHandle:Sp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:lf,useRef:_p,useState:function(){return lf(Li)},useDebugValue:hf,useDeferredValue:function(t,i){var a=bt();return Je===null?ff(a,t,i):Rp(a,Je.memoizedState,t,i)},useTransition:function(){var t=lf(Li)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Gl(t),i]},useSyncExternalStore:np,useId:Op};Ms.useCacheRefresh=Np,Ms.useMemoCache=sf,Ms.useHostTransitionStatus=mf,Ms.useFormState=yp,Ms.useActionState=yp,Ms.useOptimistic=function(t,i){var a=bt();return Je!==null?op(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])};function pf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:O({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yf={isMounted:function(t){return(t=t._reactInternals)?_e(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var o=bn(),h=Or(o);h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,o),i!==null&&(hn(i,t,o),$l(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=bn(),h=Or(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,o),i!==null&&(hn(i,t,o),$l(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),o=Or(a);o.tag=2,i!=null&&(o.callback=i),i=Nr(t,o,a),i!==null&&(hn(i,t,a),$l(i,t,a))}};function Pp(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Vl(a,o)||!Vl(h,d):!0}function kp(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&yf.enqueueReplaceState(i,i.state,null)}function Vs(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=O({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Up(t){Hu(t)}function Lp(t){console.error(t)}function zp(t){Hu(t)}function qu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Bp(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _f(t,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){qu(t,i)},a}function jp(t){return t=Or(t),t.tag=3,t}function Hp(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Bp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Bp(i,a,o),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function hA(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Yl(i,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 13:return hi===null?Jf():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Kh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),td(t,o,h)),!1;case 22:return a.flags|=65536,o===Kh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),td(t,o,h)),!1}throw Error(s(435,a.tag))}return td(t,o,h),Jf(),!1}if(Ye)return i=Un.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Qh&&(t=Error(s(422),{cause:o}),Ul(xn(t,a)))):(o!==Qh&&(i=Error(s(423),{cause:o}),Ul(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=xn(o,a),h=_f(t.stateNode,o,h),Vf(t,h),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:o});if(d=xn(d,a),io===null?io=[d]:io.push(d),gt!==4&&(gt=2),i===null)return!0;o=xn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=_f(a.stateNode,o,t),Vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jp(h),Hp(h,t,a,o),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var qp=Error(s(461)),zt=!1;function Kt(t,i,a,o){i.child=t===null?Yg(i,null,a,o):Is(i,t.child,a,o)}function Fp(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var A in o)A!=="ref"&&(v[A]=o[A])}else v=o;return Ps(i),o=ef(t,i,a,v,d,h),A=tf(),t!==null&&!zt?(nf(t,i,h),zi(t,i,h)):(Ye&&A&&Fh(i),i.flags|=1,Kt(t,i,o,h),i.child)}function Gp(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!jf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Qp(t,i,d,o,h)):(t=Yu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Cf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(v,o)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=Pr(d,o),t.ref=i.ref,t.return=i,i.child=t}function Qp(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Vl(d,o)&&t.ref===i.ref)if(zt=!1,i.pendingProps=o=d,Cf(t,h))t.flags&131072&&(zt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return vf(t,i,a,o,h)}function Kp(t,i,a){var o=i.pendingProps,h=o.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(Kl(t,i),o.mode==="hidden"||d){if(i.flags&128){if(o=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Yp(t,i,o,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(i,v!==null?v.cachePool:null),v!==null?$g(i,v):Yh(),Xg(i);else return i.lanes=i.childLanes=536870912,Yp(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Vu(i,v.cachePool),$g(i,v),wr(),i.memoizedState=null):(t!==null&&Vu(i,null),Yh(),wr());return Kt(t,i,h,a),i.child}function Yp(t,i,a,o){var h=Zh();return h=h===null?null:{parent:Nt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Vu(i,null),Yh(),Xg(i),t!==null&&Yl(t,i,o,!0),null}function Kl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function vf(t,i,a,o,h){return Ps(i),a=ef(t,i,a,o,void 0,h),o=tf(),t!==null&&!zt?(nf(t,i,h),zi(t,i,h)):(Ye&&o&&Fh(i),i.flags|=1,Kt(t,i,a,h),i.child)}function $p(t,i,a,o,h,d){return Ps(i),i.updateQueue=null,a=tp(i,o,a,h),ep(t),o=tf(),t!==null&&!zt?(nf(t,i,d),zi(t,i,d)):(Ye&&o&&Fh(i),i.flags|=1,Kt(t,i,a,d),i.child)}function Xp(t,i,a,o,h){if(Ps(i),i.stateNode===null){var d=_a,v=a.contextType;typeof v=="object"&&v!==null&&(d=en(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Nf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?en(v):_a,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(pf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&yf.enqueueReplaceState(d,d.state,null),Wl(i,o,d,h),Xl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,I=Vs(a,A);d.props=I;var k=d.context,K=a.contextType;v=_a,typeof K=="object"&&K!==null&&(v=en(K));var ne=a.getDerivedStateFromProps;K=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||k!==v)&&kp(i,d,o,v),Dr=!1;var q=i.memoizedState;d.state=q,Wl(i,o,d,h),Xl(),k=i.memoizedState,A||q!==k||Dr?(typeof ne=="function"&&(pf(i,a,ne,o),k=i.memoizedState),(I=Dr||Pp(i,a,I,o,q,k,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=k),d.props=o,d.state=k,d.context=v,o=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Mf(t,i),v=i.memoizedProps,K=Vs(a,v),d.props=K,ne=i.pendingProps,q=d.context,k=a.contextType,I=_a,typeof k=="object"&&k!==null&&(I=en(k)),A=a.getDerivedStateFromProps,(k=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||q!==I)&&kp(i,d,o,I),Dr=!1,q=i.memoizedState,d.state=q,Wl(i,o,d,h),Xl();var Q=i.memoizedState;v!==ne||q!==Q||Dr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof A=="function"&&(pf(i,a,A,o),Q=i.memoizedState),(K=Dr||Pp(i,a,K,o,q,Q,I)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Q),d.props=o,d.state=Q,d.context=I,o=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Kl(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Is(i,t.child,null,h),i.child=Is(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function Wp(t,i,a,o){return kl(),i.flags|=256,Kt(t,i,a,o),i.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Tf(t){return{baseLanes:t,cachePool:Jg()}}function Af(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=jn),t}function Zp(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ye){if(h?br(i):wr(),Ye){var A=Qt,I;if(I=A){e:{for(I=A,A=ci;I.nodeType!==8;){if(!A){A=null;break e}if(I=$n(I.nextSibling),I===null){A=null;break e}}A=I}A!==null?(i.memoizedState={dehydrated:A,treeContext:ws!==null?{id:Pi,overflow:ki}:null,retryLane:536870912},I=Bn(18,null,null,0),I.stateNode=A,I.return=i,i.child=I,cn=i,Qt=null,I=!0):I=!1}I||Cs(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ui(i)}return A=o.children,o=o.fallback,h?(wr(),h=i.mode,A=bf({mode:"hidden",children:A},h),o=Us(o,h,a,null),A.return=i,o.return=i,A.sibling=o,i.child=A,h=i.child,h.memoizedState=Tf(a),h.childLanes=Af(t,v,a),i.memoizedState=Ef,o):(br(i),Sf(i,A))}if(I=t.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(d)i.flags&256?(br(i),i.flags&=-257,i=wf(t,i,a)):i.memoizedState!==null?(wr(),i.child=t.child,i.flags|=128,i=null):(wr(),h=o.fallback,A=i.mode,o=bf({mode:"visible",children:o.children},A),h=Us(h,A,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Is(i,t.child,null,a),o=i.child,o.memoizedState=Tf(a),o.childLanes=Af(t,v,a),i.memoizedState=Ef,i=h);else if(br(i),A.data==="$!"){if(v=A.nextSibling&&A.nextSibling.dataset,v)var k=v.dgst;v=k,o=Error(s(419)),o.stack="",o.digest=v,Ul({value:o,source:null,stack:null}),i=wf(t,i,a)}else if(zt||Yl(t,i,a,!1),v=(a&t.childLanes)!==0,zt||v){if(v=nt,v!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(v.suspendedLanes|a)?0:o,o!==0&&o!==I.retryLane)throw I.retryLane=o,Sr(t,o),hn(v,t,o),qp}A.data==="$?"||Jf(),i=wf(t,i,a)}else A.data==="$?"?(i.flags|=128,i.child=t.child,i=RA.bind(null,t),A._reactRetry=i,i=null):(t=I.treeContext,Qt=$n(A.nextSibling),cn=i,Ye=!0,Kn=null,ci=!1,t!==null&&(Pn[kn++]=Pi,Pn[kn++]=ki,Pn[kn++]=ws,Pi=t.id,ki=t.overflow,ws=i),i=Sf(i,o.children),i.flags|=4096);return i}return h?(wr(),h=o.fallback,A=i.mode,I=t.child,k=I.sibling,o=Pr(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&31457280,k!==null?h=Pr(k,h):(h=Us(h,A,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,A=t.child.memoizedState,A===null?A=Tf(a):(I=A.cachePool,I!==null?(k=Nt._currentValue,I=I.parent!==k?{parent:k,pool:k}:I):I=Jg(),A={baseLanes:A.baseLanes|a,cachePool:I}),h.memoizedState=A,h.childLanes=Af(t,v,a),i.memoizedState=Ef,o):(br(i),a=t.child,t=a.sibling,a=Pr(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Sf(t,i){return i=bf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function bf(t,i){return by(t,i,0,null)}function wf(t,i,a){return Is(i,t.child,null,a),t=Sf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jp(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Df(t.return,i,a)}function Rf(t,i,a,o,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function ey(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Kt(t,i,o.children,a),o=Ot.current,o&2)o=o&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jp(t,a,i);else if(t.tag===19)Jp(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Ee(Ot,o),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Mu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Mu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Rf(i,!0,a,null,d);break;case"together":Rf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),kr|=i.lanes,!(a&i.childLanes))if(t!==null){if(Yl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Pr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Pr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cf(t,i){return t.lanes&i?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function fA(t,i,a){switch(i.tag){case 3:st(i,i.stateNode.containerInfo),Ir(i,Nt,t.memoizedState.cache),kl();break;case 27:case 5:qt(i);break;case 4:st(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(br(i),i.flags|=128,null):a&i.child.childLanes?Zp(t,i,a):(br(i),t=zi(t,i,a),t!==null?t.sibling:null);br(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Yl(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return ey(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ee(Ot,Ot.current),o)break;return null;case 22:case 23:return i.lanes=0,Kp(t,i,a);case 24:Ir(i,Nt,t.memoizedState.cache)}return zi(t,i,a)}function ty(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)zt=!0;else{if(!Cf(t,a)&&!(i.flags&128))return zt=!1,fA(t,i,a);zt=!!(t.flags&131072)}else zt=!1,Ye&&i.flags&1048576&&zg(i,Cu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")jf(o)?(t=Vs(o,t),i.tag=1,i=Xp(null,i,o,t,a)):(i.tag=0,i=vf(null,i,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===B){i.tag=11,i=Fp(null,i,o,t,a);break e}else if(h===$){i.tag=14,i=Gp(null,i,o,t,a);break e}}throw i=C(o)||o,Error(s(306,i,""))}}return i;case 0:return vf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Vs(o,i.pendingProps),Xp(t,i,o,h,a);case 3:e:{if(st(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,o=h.element,Mf(t,i),Wl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Ir(i,Nt,d),d!==h.cache&&Of(i,[Nt],a,!0),Xl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Wp(t,i,d,a);break e}else if(d!==o){o=xn(Error(s(424)),i),Ul(o),i=Wp(t,i,d,a);break e}else for(Qt=$n(i.stateNode.containerInfo.firstChild),cn=i,Ye=!0,Kn=null,ci=!0,a=Yg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(kl(),d===o){i=zi(t,i,a);break e}Kt(t,i,d,a)}i=i.child}return i;case 26:return Kl(t,i),t===null?(a=r_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ye||(a=i.type,t=i.pendingProps,o=ac(Xe.current).createElement(a),o[kt]=i,o[Ct]=t,Yt(o,a,t),at(o),i.stateNode=o):i.memoizedState=r_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return qt(i),t===null&&Ye&&(o=i.stateNode=t_(i.type,i.pendingProps,Xe.current),cn=i,ci=!0,Qt=$n(o.firstChild)),o=i.pendingProps.children,t!==null||Ye?Kt(t,i,o,a):i.child=Is(i,null,o,a),Kl(t,i),i.child;case 5:return t===null&&Ye&&((h=o=Qt)&&(o=HA(o,i.type,i.pendingProps,ci),o!==null?(i.stateNode=o,cn=i,Qt=$n(o.firstChild),ci=!1,h=!0):h=!1),h||Cs(i)),qt(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,dd(h,d)?o=null:v!==null&&dd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=ef(t,i,sA,null,null,a),fo._currentValue=h),Kl(t,i),Kt(t,i,o,a),i.child;case 6:return t===null&&Ye&&((t=a=Qt)&&(a=qA(a,i.pendingProps,ci),a!==null?(i.stateNode=a,cn=i,Qt=null,t=!0):t=!1),t||Cs(i)),null;case 13:return Zp(t,i,a);case 4:return st(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Is(i,null,o,a):Kt(t,i,o,a),i.child;case 11:return Fp(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ir(i,i.type,o.value),Kt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ps(i),h=en(h),o=o(h),i.flags|=1,Kt(t,i,o,a),i.child;case 14:return Gp(t,i,i.type,i.pendingProps,a);case 15:return Qp(t,i,i.type,i.pendingProps,a);case 19:return ey(t,i,a);case 22:return Kp(t,i,a);case 24:return Ps(i),o=en(Nt),t===null?(h=Zh(),h===null&&(h=nt,d=Xh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Nf(i),Ir(i,Nt,h)):(t.lanes&a&&(Mf(t,i),Wl(i,null,null,a),Xl()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,Nt,o)):(o=d.cache,Ir(i,Nt,o),o!==h.cache&&Of(i,[Nt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var If=he(null),xs=null,Bi=null;function Ir(t,i,a){Ee(If,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=If.current,we(If)}function Df(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Of(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var I=0;I<i.length;I++)if(A.context===i[I]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Df(d.return,a,t),o||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Df(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Yl(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;En(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===Ne.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fo):t=[fo])}h=h.return}t!==null&&Of(i,t,a,o),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ps(t){xs=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return ny(xs,t)}function Gu(t,i){return xs===null&&Ps(t),ny(t,i)}function ny(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return a}var Dr=!1;function Nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,ot&2){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=wu(t),Ug(t,null,a),i}return bu(t,o,i,a),wu(t)}function $l(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,dr(t,a)}}function Vf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var xf=!1;function Xl(){if(xf){var t=ba;if(t!==null)throw t}}function Wl(t,i,a,o){xf=!1;var h=t.updateQueue;Dr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var I=A,k=I.next;I.next=null,v===null?d=k:v.next=k,v=I;var K=t.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==v&&(A===null?K.firstBaseUpdate=k:A.next=k,K.lastBaseUpdate=I))}if(d!==null){var ne=h.baseState;v=0,K=k=I=null,A=d;do{var q=A.lane&-536870913,Q=q!==A.lane;if(Q?(qe&q)===q:(o&q)===q){q!==0&&q===Sa&&(xf=!0),K!==null&&(K=K.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=t,De=A;q=i;var pt=a;switch(De.tag){case 1:if(pe=De.payload,typeof pe=="function"){ne=pe.call(pt,ne,q);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=De.payload,q=typeof pe=="function"?pe.call(pt,ne,q):pe,q==null)break e;ne=O({},ne,q);break e;case 2:Dr=!0}}q=A.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(k=K=Q,I=ne):K=K.next=Q,v|=q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(I=ne),h.baseState=I,h.firstBaseUpdate=k,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),kr|=v,t.lanes=v,t.memoizedState=ne}}function iy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ry(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)iy(a[t],i)}function Zl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(A){tt(i,i.return,A)}}function Mr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var I=a;try{A()}catch(k){tt(h,I,k)}}}o=o.next}while(o!==d)}}catch(k){tt(i,i.return,k)}}function sy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ry(i,a)}catch(o){tt(t,t.return,o)}}}function ay(t,i,a){a.props=Vs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){tt(t,i,o)}}function ks(t,i){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){tt(t,i,d)}}function Tn(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,i,h)}else a.current=null}function ly(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function oy(t,i,a){try{var o=t.stateNode;UA(o,t.type,a,i),o[Ct]=i}catch(h){tt(t,t.return,h)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sc));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(kf(t,i,a),t=t.sibling;t!==null;)kf(t,i,a),t=t.sibling}function Qu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Qu(t,i,a),t=t.sibling;t!==null;)Qu(t,i,a),t=t.sibling}var Hi=!1,mt=!1,Uf=!1,cy=typeof WeakSet=="function"?WeakSet:Set,Bt=null,hy=!1;function dA(t,i){if(t=t.containerInfo,hd=fc,t=Ig(t),Lh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,I=-1,k=0,K=0,ne=t,q=null;t:for(;;){for(var Q;ne!==a||h!==0&&ne.nodeType!==3||(A=v+h),ne!==d||o!==0&&ne.nodeType!==3||(I=v+o),ne.nodeType===3&&(v+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)q=ne,ne=Q;for(;;){if(ne===t)break t;if(q===a&&++k===h&&(A=v),q===d&&++K===o&&(I=v),(Q=ne.nextSibling)!==null)break;ne=q,q=ne.parentNode}ne=Q}a=A===-1||I===-1?null:{start:A,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(fd={focusedElem:t,selectionRange:a},fc=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var pe=Vs(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(pe,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(De){tt(a,a.return,De)}}break;case 3:if(t&1024){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}return pe=hy,hy=!1,pe}function fy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),o&4&&Zl(5,a);break;case 1:if(Fi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(A){tt(a,a.return,A)}else{var h=Vs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(A){tt(a,a.return,A)}}o&64&&sy(a),o&512&&ks(a,a.return);break;case 3:if(Fi(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ry(o,t)}catch(A){tt(a,a.return,A)}}break;case 26:Fi(t,a),o&512&&ks(a,a.return);break;case 27:case 5:Fi(t,a),i===null&&o&4&&ly(a),o&512&&ks(a,a.return);break;case 12:Fi(t,a);break;case 13:Fi(t,a),o&4&&gy(t,a);break;case 22:if(h=a.memoizedState!==null||Hi,!h){i=i!==null&&i.memoizedState!==null||mt;var d=Hi,v=mt;Hi=h,(mt=i)&&!v?Vr(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),Hi=d,mt=v}o&512&&(a.memoizedProps.mode==="manual"?ks(a,a.return):Tn(a,a.return));break;default:Fi(t,a)}}function dy(t){var i=t.alternate;i!==null&&(t.alternate=null,dy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,An=!1;function qi(t,i,a){for(a=a.child;a!==null;)my(t,i,a),a=a.sibling}function my(t,i,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:mt||Tn(a,i),qi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||Tn(a,i);var o=wt,h=An;for(wt=a.stateNode,qi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);fs(a),wt=o,An=h;break;case 5:mt||Tn(a,i);case 6:h=wt;var d=An;if(wt=null,qi(t,i,a),wt=h,An=d,wt!==null)if(An)try{t=wt,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(v){tt(a,i,v)}else try{wt.removeChild(a.stateNode)}catch(v){tt(a,i,v)}break;case 18:wt!==null&&(An?(i=wt,a=a.stateNode,i.nodeType===8?gd(i.parentNode,a):i.nodeType===1&&gd(i,a),yo(i)):gd(wt,a.stateNode));break;case 4:o=wt,h=An,wt=a.stateNode.containerInfo,An=!0,qi(t,i,a),wt=o,An=h;break;case 0:case 11:case 14:case 15:mt||Mr(2,a,i),mt||Mr(4,a,i),qi(t,i,a);break;case 1:mt||(Tn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ay(a,i,o)),qi(t,i,a);break;case 21:qi(t,i,a);break;case 22:mt||Tn(a,i),mt=(o=mt)||a.memoizedState!==null,qi(t,i,a),mt=o;break;default:qi(t,i,a)}}function gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(a){tt(i,i.return,a)}}function mA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new cy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new cy),i;default:throw Error(s(435,t.tag))}}function Lf(t,i){var a=mA(t);i.forEach(function(o){var h=CA.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function Ln(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:case 5:wt=A.stateNode,An=!1;break e;case 3:wt=A.stateNode.containerInfo,An=!0;break e;case 4:wt=A.stateNode.containerInfo,An=!0;break e}A=A.return}if(wt===null)throw Error(s(160));my(d,v,h),wt=null,An=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)py(i,t),i=i.sibling}var Yn=null;function py(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ln(i,t),zn(t),o&4&&(Mr(3,t,t.return),Zl(3,t),Mr(5,t,t.return));break;case 1:Ln(i,t),zn(t),o&512&&(mt||a===null||Tn(a,a.return)),o&64&&Hi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(Ln(i,t),zn(t),o&512&&(mt||a===null||Tn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gr]||d[kt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,o,a),d[kt]=t,at(d),o=d;break e;case"link":var v=l_("link","href",h).get(o+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(o),Yt(d,o,a),h.head.appendChild(d);break;case"meta":if(v=l_("meta","content",h).get(o+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(o),Yt(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[kt]=t,at(d),o=d}t.stateNode=o}else o_(h,t.type,t.stateNode);else t.stateNode=a_(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?o_(h,t.type,t.stateNode):a_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&oy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var I=h.firstChild;I;){var k=I.nextSibling,K=I.nodeName;I[gr]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=k}for(var ne=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);Yt(h,ne,d),h[kt]=t,h[Ct]=d}catch(pe){tt(t,t.return,pe)}}case 5:if(Ln(i,t),zn(t),o&512&&(mt||a===null||Tn(a,a.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(pe){tt(t,t.return,pe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,oy(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Uf=!0);break;case 6:if(Ln(i,t),zn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(pe){tt(t,t.return,pe)}}break;case 3:if(uc=null,h=Yn,Yn=lc(i.containerInfo),Ln(i,t),Yn=h,zn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(i.containerInfo)}catch(pe){tt(t,t.return,pe)}Uf&&(Uf=!1,yy(t));break;case 4:o=Yn,Yn=lc(t.stateNode.containerInfo),Ln(i,t),zn(t),Yn=o;break;case 12:Ln(i,t),zn(t);break;case 13:Ln(i,t),zn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kf=Ft()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Lf(t,o)));break;case 22:if(o&512&&(mt||a===null||Tn(a,a.return)),I=t.memoizedState!==null,k=a!==null&&a.memoizedState!==null,K=Hi,ne=mt,Hi=K||I,mt=ne||k,Ln(i,t),mt=ne,Hi=K,zn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Hi||mt,a===null||k||i||Ia(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,A=k.memoizedProps.style;var Q=A!=null&&A.hasOwnProperty("display")?A.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){tt(k,k.return,pe)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=I?"":k.memoizedProps}catch(pe){tt(k,k.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Lf(t,a))));break;case 19:Ln(i,t),zn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Lf(t,o)));break;case 21:break;default:Ln(i,t),zn(t)}}function zn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(uy(a)){var o=a;break e}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,d=Pf(t);Qu(t,d,h);break;case 5:var v=o.stateNode;o.flags&32&&(Dn(v,""),o.flags&=-33);var A=Pf(t);Qu(t,A,v);break;case 3:case 4:var I=o.stateNode.containerInfo,k=Pf(t);kf(t,k,I);break;default:throw Error(s(161))}}}catch(K){tt(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fy(t,i.alternate,i),i=i.sibling}function Ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Ia(i);break;case 1:Tn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ay(i,i.return,a),Ia(i);break;case 26:case 27:case 5:Tn(i,i.return),Ia(i);break;case 22:Tn(i,i.return),i.memoizedState===null&&Ia(i);break;default:Ia(i)}t=t.sibling}}function Vr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(h,d,a),Zl(4,d);break;case 1:if(Vr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){tt(o,o.return,k)}if(o=d,h=o.updateQueue,h!==null){var A=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)iy(I[h],A)}catch(k){tt(o,o.return,k)}}a&&v&64&&sy(d),ks(d,d.return);break;case 26:case 27:case 5:Vr(h,d,a),a&&o===null&&v&4&&ly(d),ks(d,d.return);break;case 12:Vr(h,d,a);break;case 13:Vr(h,d,a),a&&v&4&&gy(h,d);break;case 22:d.memoizedState===null&&Vr(h,d,a),ks(d,d.return);break;default:Vr(h,d,a)}i=i.sibling}}function zf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Hl(a))}function Bf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Hl(t))}function xr(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_y(t,i,a,o),i=i.sibling}function _y(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:xr(t,i,a,o),h&2048&&Zl(9,i);break;case 3:xr(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Hl(t)));break;case 12:if(h&2048){xr(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){tt(i,i.return,I)}}else xr(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?xr(t,i,a,o):Jl(t,i):d._visibility&4?xr(t,i,a,o):(d._visibility|=4,Da(t,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&zf(i.alternate,i);break;case 24:xr(t,i,a,o),h&2048&&Bf(i.alternate,i);break;default:xr(t,i,a,o)}}function Da(t,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,A=a,I=o,k=v.flags;switch(v.tag){case 0:case 11:case 15:Da(d,v,A,I,h),Zl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&4?Da(d,v,A,I,h):Jl(d,v):(K._visibility|=4,Da(d,v,A,I,h)),h&&k&2048&&zf(v.alternate,v);break;case 24:Da(d,v,A,I,h),h&&k&2048&&Bf(v.alternate,v);break;default:Da(d,v,A,I,h)}i=i.sibling}}function Jl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Jl(a,o),h&2048&&zf(o.alternate,o);break;case 24:Jl(a,o),h&2048&&Bf(o.alternate,o);break;default:Jl(a,o)}i=i.sibling}}var eo=8192;function Oa(t){if(t.subtreeFlags&eo)for(t=t.child;t!==null;)vy(t),t=t.sibling}function vy(t){switch(t.tag){case 26:Oa(t),t.flags&eo&&t.memoizedState!==null&&nS(Yn,t.memoizedState,t.memoizedProps);break;case 5:Oa(t);break;case 3:case 4:var i=Yn;Yn=lc(t.stateNode.containerInfo),Oa(t),Yn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=eo,eo=16777216,Oa(t),eo=i):Oa(t));break;default:Oa(t)}}function Ey(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function to(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Bt=o,Ay(o,t)}Ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ty(t),t=t.sibling}function Ty(t){switch(t.tag){case 0:case 11:case 15:to(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:to(t);break;case 12:to(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Ku(t)):to(t);break;default:to(t)}}function Ku(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Bt=o,Ay(o,t)}Ey(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),Ku(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Ku(i));break;default:Ku(i)}t=t.sibling}}function Ay(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Hl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Bt=o;else e:for(a=t;Bt!==null;){o=Bt;var h=o.sibling,d=o.return;if(dy(o),o===a){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}function gA(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,i,a,o){return new gA(t,i,a,o)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pr(t,i){var a=t.alternate;return a===null?(a=Bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sy(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Yu(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")jf(t)&&(v=1);else if(typeof t=="string")v=eS(t,a,Me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Us(a.children,h,d,i);case y:v=8,h|=24;break;case E:return t=Bn(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case Y:return t=Bn(13,a,i,h),t.elementType=Y,t.lanes=d,t;case U:return t=Bn(19,a,i,h),t.elementType=U,t.lanes=d,t;case te:return by(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case V:v=10;break e;case D:v=9;break e;case B:v=11;break e;case $:v=14;break e;case re:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=Bn(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Us(t,i,a,o){return t=Bn(7,t,o,i),t.lanes=a,t}function by(t,i,a,o){t=Bn(22,t,o,i),t.elementType=te,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=Sr(d,2);v!==null&&(h._pendingVisibility|=2,hn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=Sr(d,2);v!==null&&(h._pendingVisibility&=-3,hn(v,d,2))}}};return t.stateNode=h,t}function Hf(t,i,a){return t=Bn(6,t,null,i),t.lanes=a,t}function qf(t,i,a){return i=Bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Gi(t){t.flags|=4}function wy(t,i){if(i.type!=="stylesheet"||i.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!u_(i)){if(i=Un.current,i!==null&&((qe&4194176)===qe?hi!==null:(qe&62914560)!==qe&&!(qe&536870912)||i!==hi))throw zl=Kh,Hg;t.flags|=8192}}function $u(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?hr():536870912,t.lanes|=i,Ma|=i)}function no(t,i){if(!Ye)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function pA(t,i,a){var o=i.pendingProps;switch(Gh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ji(Nt),_t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pl(i)?Gi(i):t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Kn!==null&&(Wf(Kn),Kn=null))),lt(i),null;case 26:return a=i.memoizedState,t===null?(Gi(i),a!==null?(lt(i),wy(i,a)):(lt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Gi(i),lt(i),wy(i,a)):(lt(i),i.flags&=-16777217):(t.memoizedProps!==o&&Gi(i),lt(i),i.flags&=-16777217),null;case 27:Zt(i),a=Xe.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=Me.current,Pl(i)?Bg(i):(t=t_(h,o,a),i.stateNode=t,Gi(i))}return lt(i),null;case 5:if(Zt(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(t=Me.current,Pl(i))Bg(i);else{switch(h=ac(Xe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[kt]=i,t[Ct]=o;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Yt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gi(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Gi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=Xe.current,Pl(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=cn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[kt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||$y(t.nodeValue,a)),t||Cs(i)}else t=ac(t).createTextNode(o),t[kt]=i,i.stateNode=t}return lt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Pl(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[kt]=i}else kl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else Kn!==null&&(Wf(Kn),Kn=null),h=!0;if(!h)return i.flags&256?(Ui(i),i):(Ui(i),null)}if(Ui(i),i.flags&128)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),$u(i,i.updateQueue),lt(i),null;case 4:return _t(),t===null&&od(i.stateNode.containerInfo),lt(i),null;case 10:return ji(i.type),lt(i),null;case 19:if(we(Ot),h=i.memoizedState,h===null)return lt(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)no(h,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(d=Mu(t),d!==null){for(i.flags|=128,no(h,!1),t=d.updateQueue,i.updateQueue=t,$u(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Sy(a,t),a=a.sibling;return Ee(Ot,Ot.current&1|2),i.child}t=t.sibling}h.tail!==null&&Ft()>Xu&&(i.flags|=128,o=!0,no(h,!1),i.lanes=4194304)}else{if(!o)if(t=Mu(d),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,$u(i,t),no(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ye)return lt(i),null}else 2*Ft()-h.renderingStartTime>Xu&&a!==536870912&&(i.flags|=128,o=!0,no(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ft(),i.sibling=null,t=Ot.current,Ee(Ot,o?t&1|2:t&1),i):(lt(i),null);case 22:case 23:return Ui(i),$h(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?a&536870912&&!(i.flags&128)&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&$u(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&we(Ds),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(Nt),lt(i),null;case 25:return null}throw Error(s(156,i.tag))}function yA(t,i){switch(Gh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(Nt),_t(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Zt(i),null;case 13:if(Ui(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));kl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return we(Ot),null;case 4:return _t(),null;case 10:return ji(i.type),null;case 22:case 23:return Ui(i),$h(),t!==null&&we(Ds),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(Nt),null;case 25:return null;default:return null}}function Ry(t,i){switch(Gh(i),i.tag){case 3:ji(Nt),_t();break;case 26:case 27:case 5:Zt(i);break;case 4:_t();break;case 13:Ui(i);break;case 19:we(Ot);break;case 10:ji(i.type);break;case 22:case 23:Ui(i),$h(),t!==null&&we(Ds);break;case 24:ji(Nt)}}var _A={getCacheForType:function(t){var i=en(Nt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},vA=typeof WeakMap=="function"?WeakMap:Map,ot=0,nt=null,ke=null,qe=0,it=0,Sn=null,Qi=!1,Na=!1,Ff=!1,Ki=0,gt=0,kr=0,Ls=0,Gf=0,jn=0,Ma=0,io=null,di=null,Qf=!1,Kf=0,Xu=1/0,Wu=null,Ur=null,Zu=!1,zs=null,ro=0,Yf=0,$f=null,so=0,Xf=null;function bn(){if(ot&2&&qe!==0)return qe&-qe;if(b.T!==null){var t=Sa;return t!==0?t:rd()}return ru()}function Cy(){jn===0&&(jn=!(qe&536870912)||Ye?yl():536870912);var t=Un.current;return t!==null&&(t.flags|=32),jn}function hn(t,i,a){(t===nt&&it===2||t.cancelPendingCommit!==null)&&(Va(t,0),Yi(t,qe,jn,!1)),vt(t,a),(!(ot&2)||t!==nt)&&(t===nt&&(!(ot&2)&&(Ls|=a),gt===4&&Yi(t,qe,jn,!1)),mi(t))}function Iy(t,i,a){if(ot&6)throw Error(s(327));var o=!a&&(i&60)===0&&(i&t.expiredLanes)===0||cr(t,i),h=o?AA(t,i):ed(t,i,!0),d=o;do{if(h===0){Na&&!o&&Yi(t,i,0,!1);break}else if(h===6)Yi(t,i,0,!Qi);else{if(a=t.current.alternate,d&&!EA(a)){h=ed(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;h=io;var I=A.current.memoizedState.isDehydrated;if(I&&(Va(A,v).flags|=256),v=ed(A,v,!1),v!==2){if(Ff&&!I){A.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break e}d=di,di=h,d!==null&&Wf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Va(t,0),Yi(t,i,0,!0);break}e:{switch(o=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Yi(o,i,jn,!Qi);break e}break;case 2:di=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(d=Kf+300-Ft(),10<d)){if(Yi(o,i,jn,!Qi),Cn(o,0)!==0)break e;o.timeoutHandle=Zy(Dy.bind(null,o,a,di,Wu,Qf,i,jn,Ls,Ma,Qi,2,-0,0),d);break e}Dy(o,a,di,Wu,Qf,i,jn,Ls,Ma,Qi,0,-0,0)}}break}while(!0);mi(t)}function Wf(t){di===null?di=t:di.push.apply(di,t)}function Dy(t,i,a,o,h,d,v,A,I,k,K,ne,q){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(ho={stylesheets:null,count:0,unsuspend:tS},vy(i),i=iS(),i!==null)){t.cancelPendingCommit=i(ky.bind(null,t,a,o,h,v,A,I,1,ne,q)),Yi(t,d,v,!k);return}ky(t,a,o,h,v,A,I,K,ne,q)}function EA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(t,i,a,o){i&=~Gf,i&=~Ls,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-ln(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&fr(t,a,i)}function Ju(){return ot&6?!0:(ao(0),!1)}function Zf(){if(ke!==null){if(it===0)var t=ke.return;else t=ke,Bi=xs=null,rf(t),Ta=null,Bl=0,t=ke;for(;t!==null;)Ry(t.alternate,t),t=t.return;ke=null}}function Va(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zf(),nt=t,ke=a=Pr(t.current,null),qe=i,it=0,Sn=null,Qi=!1,Na=cr(t,i),Ff=!1,Ma=jn=Gf=Ls=kr=gt=0,di=io=null,Qf=!1,i&8&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-ln(o),d=1<<h;i|=t[h],o&=~d}return Ki=i,Su(),a}function Oy(t,i){xe=null,b.H=fi,i===Ll?(i=Gg(),it=3):i===Hg?(i=Gg(),it=4):it=i===qp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,ke===null&&(gt=1,qu(t,xn(i,t.current)))}function Ny(){var t=b.H;return b.H=fi,t===null?fi:t}function My(){var t=b.A;return b.A=_A,t}function Jf(){gt=4,Qi||(qe&4194176)!==qe&&Un.current!==null||(Na=!0),!(kr&134217727)&&!(Ls&134217727)||nt===null||Yi(nt,qe,jn,!1)}function ed(t,i,a){var o=ot;ot|=2;var h=Ny(),d=My();(nt!==t||qe!==i)&&(Wu=null,Va(t,i)),i=!1;var v=gt;e:do try{if(it!==0&&ke!==null){var A=ke,I=Sn;switch(it){case 8:Zf(),v=6;break e;case 3:case 2:case 6:Un.current===null&&(i=!0);var k=it;if(it=0,Sn=null,xa(t,A,I,k),a&&Na){v=0;break e}break;default:k=it,it=0,Sn=null,xa(t,A,I,k)}}TA(),v=gt;break}catch(K){Oy(t,K)}while(!0);return i&&t.shellSuspendCounter++,Bi=xs=null,ot=o,b.H=h,b.A=d,ke===null&&(nt=null,qe=0,Su()),v}function TA(){for(;ke!==null;)Vy(ke)}function AA(t,i){var a=ot;ot|=2;var o=Ny(),h=My();nt!==t||qe!==i?(Wu=null,Xu=Ft()+500,Va(t,i)):Na=cr(t,i);e:do try{if(it!==0&&ke!==null){i=ke;var d=Sn;t:switch(it){case 1:it=0,Sn=null,xa(t,i,d,1);break;case 2:if(qg(d)){it=0,Sn=null,xy(i);break}i=function(){it===2&&nt===t&&(it=7),mi(t)},d.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:qg(d)?(it=0,Sn=null,xy(i)):(it=0,Sn=null,xa(t,i,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var A=ke;if(!v||u_(v)){it=0,Sn=null;var I=A.sibling;if(I!==null)ke=I;else{var k=A.return;k!==null?(ke=k,ec(k)):ke=null}break t}}it=0,Sn=null,xa(t,i,d,5);break;case 6:it=0,Sn=null,xa(t,i,d,6);break;case 8:Zf(),gt=6;break e;default:throw Error(s(462))}}SA();break}catch(K){Oy(t,K)}while(!0);return Bi=xs=null,b.H=o,b.A=h,ot=a,ke!==null?0:(nt=null,qe=0,Su(),gt)}function SA(){for(;ke!==null&&!ml();)Vy(ke)}function Vy(t){var i=ty(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?ec(t):ke=i}function xy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=$p(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=$p(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:rf(i);default:Ry(a,i),i=ke=Sy(i,Ki),i=ty(a,i,Ki)}t.memoizedProps=t.pendingProps,i===null?ec(t):ke=i}function xa(t,i,a,o){Bi=xs=null,rf(i),Ta=null,Bl=0;var h=i.return;try{if(hA(t,h,i,a,qe)){gt=1,qu(t,xn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;gt=1,qu(t,xn(a,t.current)),ke=null;return}i.flags&32768?(Ye||o===1?t=!0:Na||qe&536870912?t=!1:(Qi=t=!0,(o===2||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(i,t)):ec(i)}function ec(t){var i=t;do{if(i.flags&32768){Py(i,Qi);return}t=i.return;var a=pA(i.alternate,i,Ki);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);gt===0&&(gt=5)}function Py(t,i){do{var a=yA(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);gt=6,ke=null}function ky(t,i,a,o,h,d,v,A,I,k){var K=b.T,ne=ee.p;try{ee.p=2,b.T=null,bA(t,i,a,o,ne,h,d,v,A,I,k)}finally{b.T=K,ee.p=ne}}function bA(t,i,a,o,h,d,v,A){do Pa();while(zs!==null);if(ot&6)throw Error(s(327));var I=t.finishedWork;if(o=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var k=I.lanes|I.childLanes;if(k|=Hh,nu(t,o,k,d,v,A),t===nt&&(ke=nt=null,qe=0),!(I.subtreeFlags&10256)&&!(I.flags&10256)||Zu||(Zu=!0,Yf=k,$f=a,IA(qn,function(){return Pa(),null})),a=(I.flags&15990)!==0,I.subtreeFlags&15990||a?(a=b.T,b.T=null,d=ee.p,ee.p=2,v=ot,ot|=4,dA(t,I),py(I,t),Y0(fd,t.containerInfo),fc=!!hd,fd=hd=null,t.current=I,fy(t,I.alternate,I),os(),ot=v,ee.p=d,b.T=a):t.current=I,Zu?(Zu=!1,zs=t,ro=o):Uy(t,k),k=t.pendingLanes,k===0&&(Ur=null),gl(I.stateNode),mi(t),i!==null)for(h=t.onRecoverableError,I=0;I<i.length;I++)k=i[I],h(k.value,{componentStack:k.stack});return ro&3&&Pa(),k=t.pendingLanes,o&4194218&&k&42?t===Xf?so++:(so=0,Xf=t):so=0,ao(0),null}function Uy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Hl(i)))}function Pa(){if(zs!==null){var t=zs,i=Yf;Yf=0;var a=iu(ro),o=b.T,h=ee.p;try{if(ee.p=32>a?32:a,b.T=null,zs===null)var d=!1;else{a=$f,$f=null;var v=zs,A=ro;if(zs=null,ro=0,ot&6)throw Error(s(331));var I=ot;if(ot|=4,Ty(v.current),_y(v,v.current,A,a),ot=I,ao(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Zn,v)}catch{}d=!0}return d}finally{ee.p=h,b.T=o,Uy(t,i)}}return!1}function Ly(t,i,a){i=xn(a,i),i=_f(t.stateNode,i,2),t=Nr(t,i,2),t!==null&&(vt(t,2),mi(t))}function tt(t,i,a){if(t.tag===3)Ly(t,t,a);else for(;i!==null;){if(i.tag===3){Ly(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ur===null||!Ur.has(o))){t=xn(a,t),a=jp(2),o=Nr(i,a,2),o!==null&&(Hp(a,o,i,t),vt(o,2),mi(o));break}}i=i.return}}function td(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new vA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Ff=!0,h.add(a),t=wA.bind(null,t,i,a),i.then(t,t))}function wA(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(qe&a)===a&&(gt===4||gt===3&&(qe&62914560)===qe&&300>Ft()-Kf?!(ot&2)&&Va(t,0):Gf|=a,Ma===qe&&(Ma=0)),mi(t)}function zy(t,i){i===0&&(i=hr()),t=Sr(t,i),t!==null&&(vt(t,i),mi(t))}function RA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),zy(t,a)}function CA(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),zy(t,a)}function IA(t,i){return Pt(t,i)}var tc=null,ka=null,nd=!1,nc=!1,id=!1,Bs=0;function mi(t){t!==ka&&t.next===null&&(ka===null?tc=ka=t:ka=ka.next=t),nc=!0,nd||(nd=!0,OA(DA))}function ao(t,i){if(!id&&nc){id=!0;do for(var a=!1,o=tc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,A=o.pingedLanes;d=(1<<31-ln(42|t)+1)-1,d&=h&~(v&~A),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Hy(o,d))}else d=qe,d=Cn(o,o===nt?d:0),!(d&3)||cr(o,d)||(a=!0,Hy(o,d));o=o.next}while(a);id=!1}}function DA(){nc=nd=!1;var t=0;Bs!==0&&(LA()&&(t=Bs),Bs=0);for(var i=Ft(),a=null,o=tc;o!==null;){var h=o.next,d=By(o,i);d===0?(o.next=null,a===null?tc=h:a.next=h,h===null&&(ka=a)):(a=o,(t!==0||d&3)&&(nc=!0)),o=h}ao(t)}function By(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-ln(d),A=1<<v,I=h[v];I===-1?(!(A&a)||A&o)&&(h[v]=ea(A,i)):I<=i&&(t.expiredLanes|=A),d&=~A}if(i=nt,a=qe,a=Cn(t,t===i?a:0),o=t.callbackNode,a===0||t===i&&it===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||cr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&lr(o),iu(a)){case 2:case 8:a=At;break;case 32:a=qn;break;case 268435456:a=or;break;default:a=qn}return o=jy.bind(null,t),a=Pt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&lr(o),t.callbackPriority=2,t.callbackNode=null,2}function jy(t,i){var a=t.callbackNode;if(Pa()&&t.callbackNode!==a)return null;var o=qe;return o=Cn(t,t===nt?o:0),o===0?null:(Iy(t,o,i),By(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?jy.bind(null,t):null)}function Hy(t,i){if(Pa())return null;Iy(t,i,!0)}function OA(t){BA(function(){ot&6?Pt(ft,t):t()})}function rd(){return Bs===0&&(Bs=yl()),Bs}function qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ii(""+t)}function Fy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function NA(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=qy((h[Ct]||null).action),v=o.submitter;v&&(i=(i=v[Ct]||null)?qy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new la("action","action",null,o,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Bs!==0){var I=v?Fy(h,v):new FormData(h);df(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(A.preventDefault(),I=v?Fy(h,v):new FormData(h),df(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var sd=0;sd<kg.length;sd++){var ad=kg[sd],MA=ad.toLowerCase(),VA=ad[0].toUpperCase()+ad.slice(1);Qn(MA,"on"+VA)}Qn(Ng,"onAnimationEnd"),Qn(Mg,"onAnimationIteration"),Qn(Vg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(X0,"onTransitionRun"),Qn(W0,"onTransitionStart"),Qn(Z0,"onTransitionCancel"),Qn(xg,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function Gy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var A=o[v],I=A.instance,k=A.currentTarget;if(A=A.listener,I!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=k;try{d(h)}catch(K){Hu(K)}h.currentTarget=null,d=I}else for(v=0;v<o.length;v++){if(A=o[v],I=A.instance,k=A.currentTarget,A=A.listener,I!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=k;try{d(h)}catch(K){Hu(K)}h.currentTarget=null,d=I}}}}function Be(t,i){var a=i[hs];a===void 0&&(a=i[hs]=new Set);var o=t+"__bubble";a.has(o)||(Qy(i,t,2,!1),a.add(o))}function ld(t,i,a){var o=0;i&&(o|=4),Qy(a,t,o,i)}var ic="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[ic]){t[ic]=!0,vl.forEach(function(a){a!=="selectionchange"&&(xA.has(a)||ld(a,!1,t),ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ic]||(i[ic]=!0,ld("selectionchange",!1,i))}}function Qy(t,i,a,o){switch(g_(i)){case 2:var h=aS;break;case 8:h=lS;break;default:h=Td}a=h.bind(null,i,a,t),h=void 0,!Nn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function ud(t,i,a,o,h){var d=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var A=o.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(v===4)for(v=o.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;v=v.return}for(;A!==null;){if(v=Gn(A),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){o=d=v;continue e}A=A.parentNode}}o=o.return}ou(function(){var k=d,K=aa(a),ne=[];e:{var q=Pg.get(t);if(q!==void 0){var Q=la,pe=t;switch(t){case"keypress":if(si(a)===0)break e;case"keydown":case"keyup":Q=da;break;case"focusin":pe="focus",Q=ca;break;case"focusout":pe="blur",Q=ca;break;case"beforeblur":case"afterblur":Q=ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=pu;break;case Ng:case Mg:case Vg:Q=ha;break;case xg:Q=_u;break;case"scroll":case"scrollend":Q=uu;break;case"wheel":Q=ma;break;case"copy":case"cut":case"paste":Q=fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Nl;break;case"toggle":case"beforetoggle":Q=Eu}var De=(i&4)!==0,pt=!De&&(t==="scroll"||t==="scrollend"),L=De?q!==null?q+"Capture":null:q;De=[];for(var P=k,H;P!==null;){var W=P;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||L===null||(W=ps(P,L),W!=null&&De.push(oo(P,W,H))),pt)break;P=P.return}0<De.length&&(q=new Q(q,pe,null,a,K),ne.push({event:q,listeners:De}))}}if(!(i&7)){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==On&&(pe=a.relatedTarget||a.fromElement)&&(Gn(pe)||pe[Ri]))break e;if((Q||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=k,pe=pe?Gn(pe):null,pe!==null&&(pt=_e(pe),De=pe.tag,pe!==pt||De!==5&&De!==27&&De!==6)&&(pe=null)):(Q=null,pe=k),Q!==pe)){if(De=Mn,W="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(De=Nl,W="onPointerLeave",L="onPointerEnter",P="pointer"),pt=Q==null?q:pr(Q),H=pe==null?q:pr(pe),q=new De(W,P+"leave",Q,a,K),q.target=pt,q.relatedTarget=H,W=null,Gn(K)===k&&(De=new De(L,P+"enter",pe,a,K),De.target=H,De.relatedTarget=pt,W=De),pt=W,Q&&pe)t:{for(De=Q,L=pe,P=0,H=De;H;H=Ua(H))P++;for(H=0,W=L;W;W=Ua(W))H++;for(;0<P-H;)De=Ua(De),P--;for(;0<H-P;)L=Ua(L),H--;for(;P--;){if(De===L||L!==null&&De===L.alternate)break t;De=Ua(De),L=Ua(L)}De=null}else De=null;Q!==null&&Ky(ne,q,Q,De,!1),pe!==null&&pt!==null&&Ky(ne,pt,pe,De,!0)}}e:{if(q=k?pr(k):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var me=Eg;else if(Dt(q))if(Tg)me=Q0;else{me=F0;var Pe=q0}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?k&&bl(k.elementType)&&(me=Eg):me=G0;if(me&&(me=me(t,k))){xi(ne,me,a,K);break e}Pe&&Pe(t,q,k),t==="focusout"&&k&&q.type==="number"&&k.memoizedProps.value!=null&&sa(q,"number",q.value)}switch(Pe=k?pr(k):window,t){case"focusin":(Dt(Pe)||Pe.contentEditable==="true")&&(ga=Pe,zh=k,xl=null);break;case"focusout":xl=zh=ga=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Dg(ne,a,K);break;case"selectionchange":if($0)break;case"keydown":case"keyup":Dg(ne,a,K)}var ve;if(oi)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else je?F(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(_&&a.locale!=="ko"&&(je||be!=="onCompositionStart"?be==="onCompositionEnd"&&je&&(ve=Rl()):(ri=K,Ar="value"in ri?ri.value:ri.textContent,je=!0)),Pe=rc(k,be),0<Pe.length&&(be=new Dl(be,t,null,a,K),ne.push({event:be,listeners:Pe}),ve?be.data=ve:(ve=ae(a),ve!==null&&(be.data=ve)))),(ve=g?It(t,a):He(t,a))&&(be=rc(k,"onBeforeInput"),0<be.length&&(Pe=new Dl("onBeforeInput","beforeinput",null,a,K),ne.push({event:Pe,listeners:be}),Pe.data=ve)),NA(ne,t,k,a,K)}Gy(ne,i)})}function oo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function rc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ps(t,a),h!=null&&o.unshift(oo(t,h,d)),h=ps(t,i),h!=null&&o.push(oo(t,h,d))),t=t.return}return o}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ky(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var A=a,I=A.alternate,k=A.stateNode;if(A=A.tag,I!==null&&I===o)break;A!==5&&A!==26&&A!==27||k===null||(I=k,h?(k=ps(a,d),k!=null&&v.unshift(oo(a,k,I))):h||(k=ps(a,d),k!=null&&v.push(oo(a,k,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var PA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function Yy(t){return(typeof t=="string"?t:""+t).replace(PA,`
`).replace(kA,"")}function $y(t,i){return i=Yy(i),Yy(t)===i}function sc(){}function et(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Dn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Dn(t,""+o);break;case"className":vr(t,"class",o);break;case"tabIndex":vr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(t,a,o);break;case"style":lu(t,o,d);break;case"data":if(i!=="object"){vr(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ii(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ii(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=sc);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ii(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Be("beforetoggle",t),Be("toggle",t),_r(t,"popover",o);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_r(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mh.get(a)||a,_r(t,a,o))}}function cd(t,i,a,o,h,d){switch(a){case"style":lu(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Dn(t,o):(typeof o=="number"||typeof o=="bigint")&&Dn(t,""+o);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"onClick":o!=null&&(t.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ct]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):_r(t,a,o)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,v,a,null)}}h&&et(t,i,"srcSet",a.srcSet,a,null),o&&et(t,i,"src",a.src,a,null);return;case"input":Be("invalid",t);var A=d=v=h=null,I=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":v=K;break;case"checked":I=K;break;case"defaultChecked":k=K;break;case"value":d=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:et(t,i,o,K,a,null)}}ms(t,d,A,I,k,v,h,!1),ds(t);return;case"select":Be("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":o=A;default:et(t,i,h,A,a,null)}i=d,a=v,t.multiple=!!o,i!=null?Ke(t,!!o,i,!1):a!=null&&Ke(t,!!o,a,!0);return;case"textarea":Be("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":o=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:et(t,i,v,A,a,null)}Tr(t,o,h,d),ds(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:et(t,i,I,o,a,null)}return;case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(o=0;o<lo.length;o++)Be(lo[o],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,k,o,a,null)}return;default:if(bl(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&cd(t,i,K,o,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(o=a[A],o!=null&&et(t,i,A,o,a,null))}function UA(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,I=null,k=null,K=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ne;default:o.hasOwnProperty(Q)||et(t,i,Q,null,o,ne)}}for(var q in o){var Q=o[q];if(ne=a[q],o.hasOwnProperty(q)&&(Q!=null||ne!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":k=Q;break;case"defaultChecked":K=Q;break;case"value":v=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ne&&et(t,i,q,Q,o,ne)}}Er(t,v,A,I,k,K,d,h);return;case"select":Q=v=A=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:o.hasOwnProperty(d)||et(t,i,d,null,o,I)}for(h in o)if(d=o[h],I=a[h],o.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==I&&et(t,i,h,d,o,I)}i=A,a=v,o=Q,q!=null?Ke(t,!!a,q,!1):!!o!=!!a&&(i!=null?Ke(t,!!a,i,!0):Ke(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:et(t,i,A,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&et(t,i,v,h,o,d)}gs(t,q,Q);return;case"option":for(var pe in a)if(q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:et(t,i,pe,null,o,q)}for(I in o)if(q=o[I],Q=a[I],o.hasOwnProperty(I)&&q!==Q&&(q!=null||Q!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:et(t,i,I,q,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)q=a[De],a.hasOwnProperty(De)&&q!=null&&!o.hasOwnProperty(De)&&et(t,i,De,null,o,q);for(k in o)if(q=o[k],Q=a[k],o.hasOwnProperty(k)&&q!==Q&&(q!=null||Q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:et(t,i,k,q,o,Q)}return;default:if(bl(i)){for(var pt in a)q=a[pt],a.hasOwnProperty(pt)&&q!==void 0&&!o.hasOwnProperty(pt)&&cd(t,i,pt,void 0,o,q);for(K in o)q=o[K],Q=a[K],!o.hasOwnProperty(K)||q===Q||q===void 0&&Q===void 0||cd(t,i,K,q,o,Q);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!o.hasOwnProperty(L)&&et(t,i,L,null,o,q);for(ne in o)q=o[ne],Q=a[ne],!o.hasOwnProperty(ne)||q===Q||q==null&&Q==null||et(t,i,ne,q,o,Q)}var hd=null,fd=null;function ac(t){return t.nodeType===9?t:t.ownerDocument}function Xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var md=null;function LA(){var t=window.event;return t&&t.type==="popstate"?t===md?!1:(md=t,!0):(md=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,zA=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(jA)}:Zy;function jA(t){setTimeout(function(){throw t})}function gd(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){t.removeChild(h),yo(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);yo(i)}function pd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pd(a),fs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function HA(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[gr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function qA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function $n(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function e_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function t_(t,i,a){switch(i=ac(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Hn=new Map,n_=new Set;function lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var $i=ee.d;ee.d={f:FA,r:GA,D:QA,C:KA,L:YA,m:$A,X:WA,S:XA,M:ZA};function FA(){var t=$i.f(),i=Ju();return t||i}function GA(t){var i=Ci(t);i!==null&&i.tag===5&&i.type==="form"?Dp(i):$i.r(t)}var La=typeof document>"u"?null:document;function i_(t,i,a){var o=La;if(o&&typeof i=="string"&&i){var h=dt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),n_.has(h)||(n_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Yt(i,"link",t),at(i),o.head.appendChild(i)))}}function QA(t){$i.D(t),i_("dns-prefetch",t,null)}function KA(t,i){$i.C(t,i),i_("preconnect",t,i)}function YA(t,i,a){$i.L(t,i,a);var o=La;if(o&&t&&i){var h='link[rel="preload"][as="'+dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dt(a.imageSizes)+'"]')):h+='[href="'+dt(t)+'"]';var d=h;switch(i){case"style":d=za(t);break;case"script":d=Ba(t)}Hn.has(d)||(t=O({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Hn.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(uo(d))||i==="script"&&o.querySelector(co(d))||(i=o.createElement("link"),Yt(i,"link",t),at(i),o.head.appendChild(i)))}}function $A(t,i){$i.m(t,i);var a=La;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+dt(o)+'"][href="'+dt(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!Hn.has(d)&&(t=O({rel:"modulepreload",href:t},i),Hn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(co(d)))return}o=a.createElement("link"),Yt(o,"link",t),at(o),a.head.appendChild(o)}}}function XA(t,i,a){$i.S(t,i,a);var o=La;if(o&&t){var h=yr(o).hoistableStyles,d=za(t);i=i||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=o.querySelector(uo(d)))A.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Hn.get(d))&&yd(t,a);var I=v=o.createElement("link");at(I),Yt(I,"link",t),I._p=new Promise(function(k,K){I.onload=k,I.onerror=K}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,oc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function WA(t,i){$i.X(t,i);var a=La;if(a&&t){var o=yr(a).hoistableScripts,h=Ba(t),d=o.get(h);d||(d=a.querySelector(co(h)),d||(t=O({src:t,async:!0},i),(i=Hn.get(h))&&_d(t,i),d=a.createElement("script"),at(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function ZA(t,i){$i.M(t,i);var a=La;if(a&&t){var o=yr(a).hoistableScripts,h=Ba(t),d=o.get(h);d||(d=a.querySelector(co(h)),d||(t=O({src:t,async:!0,type:"module"},i),(i=Hn.get(h))&&_d(t,i),d=a.createElement("script"),at(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function r_(t,i,a,o){var h=(h=Xe.current)?lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=za(a.href),a=yr(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=za(a.href);var d=yr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(uo(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||JA(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=yr(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function za(t){return'href="'+dt(t)+'"'}function uo(t){return'link[rel="stylesheet"]['+t+"]"}function s_(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function JA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Yt(i,"link",a),at(i),t.head.appendChild(i))}function Ba(t){return'[src="'+dt(t)+'"]'}function co(t){return"script[async]"+t}function a_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+dt(a.href)+'"]');if(o)return i.instance=o,at(o),o;var h=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),at(o),Yt(o,"style",h),oc(o,a.precedence,t),i.instance=o;case"stylesheet":h=za(a.href);var d=t.querySelector(uo(h));if(d)return i.state.loading|=4,i.instance=d,at(d),d;o=s_(a),(h=Hn.get(h))&&yd(o,h),d=(t.ownerDocument||t).createElement("link"),at(d);var v=d;return v._p=new Promise(function(A,I){v.onload=A,v.onerror=I}),Yt(d,"link",o),i.state.loading|=4,oc(d,a.precedence,t),i.instance=d;case"script":return d=Ba(a.src),(h=t.querySelector(co(d)))?(i.instance=h,at(h),h):(o=a,(h=Hn.get(d))&&(o=O({},a),_d(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),at(h),Yt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(o=i.instance,i.state.loading|=4,oc(o,a.precedence,t));return i.instance}function oc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var A=o[v];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function _d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var uc=null;function l_(t,i,a){if(uc===null){var o=new Map,h=uc=new Map;h.set(a,o)}else h=uc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[gr]||d[kt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=o.get(v);A?A.push(d):o.set(v,[d])}}return o}function o_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function eS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function u_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ho=null;function tS(){}function nS(t,i,a){if(ho===null)throw Error(s(475));var o=ho;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=za(a.href),d=t.querySelector(uo(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=cc.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=d,at(d);return}d=t.ownerDocument||t,a=s_(a),(h=Hn.get(h))&&yd(a,h),d=d.createElement("link"),at(d);var v=d;v._p=new Promise(function(A,I){v.onload=A,v.onerror=I}),Yt(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&!(i.state.loading&3)&&(o.count++,i=cc.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function iS(){if(ho===null)throw Error(s(475));var t=ho;return t.stylesheets&&t.count===0&&vd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&vd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hc=null;function vd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hc=new Map,i.forEach(rS,t),hc=null,cc.call(t))}function rS(t,i){if(!(i.state.loading&4)){var a=hc.get(t);if(a)var o=a.get(null);else{a=new Map,hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var fo={$$typeof:V,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function sS(t,i,a,o,h,d,v,A){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.hiddenUpdates=ta(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function c_(t,i,a,o,h,d,v,A,I,k,K,ne){return t=new sS(t,i,a,v,A,I,k,ne),i=1,d===!0&&(i|=24),d=Bn(3,null,null,i),t.current=d,d.stateNode=t,i=Xh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Nf(d),t}function h_(t){return t?(t=_a,t):_a}function f_(t,i,a,o,h,d){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=Or(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Nr(t,o,i),a!==null&&(hn(a,t,i),$l(a,t,i))}function d_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ed(t,i){d_(t,i),(t=t.alternate)&&d_(t,i)}function m_(t){if(t.tag===13){var i=Sr(t,67108864);i!==null&&hn(i,t,67108864),Ed(t,67108864)}}var fc=!0;function aS(t,i,a,o){var h=b.T;b.T=null;var d=ee.p;try{ee.p=2,Td(t,i,a,o)}finally{ee.p=d,b.T=h}}function lS(t,i,a,o){var h=b.T;b.T=null;var d=ee.p;try{ee.p=8,Td(t,i,a,o)}finally{ee.p=d,b.T=h}}function Td(t,i,a,o){if(fc){var h=Ad(o);if(h===null)ud(t,i,o,dc,a),p_(t,o);else if(uS(h,t,i,a,o))o.stopPropagation();else if(p_(t,o),i&4&&-1<oS.indexOf(t)){for(;h!==null;){var d=Ci(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Fn(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var I=1<<31-ln(v);A.entanglements[1]|=I,v&=~I}mi(d),!(ot&6)&&(Xu=Ft()+500,ao(0))}}break;case 13:A=Sr(d,2),A!==null&&hn(A,d,2),Ju(),Ed(d,2)}if(d=Ad(o),d===null&&ud(t,i,o,dc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else ud(t,i,o,null,a)}}function Ad(t){return t=aa(t),Sd(t)}var dc=null;function Sd(t){if(dc=null,t=Gn(t),t!==null){var i=_e(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return dc=t,null}function g_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Js()){case ft:return 2;case At:return 8;case qn:case us:return 32;case or:return 268435456;default:return 32}default:return 32}}var bd=!1,Lr=null,zr=null,Br=null,mo=new Map,go=new Map,jr=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(t,i){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":mo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(i.pointerId)}}function po(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ci(i),i!==null&&m_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function uS(t,i,a,o,h){switch(i){case"focusin":return Lr=po(Lr,t,i,a,o,h),!0;case"dragenter":return zr=po(zr,t,i,a,o,h),!0;case"mouseover":return Br=po(Br,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return mo.set(d,po(mo.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,go.set(d,po(go.get(d)||null,t,i,a,o,h)),!0}return!1}function y_(t){var i=Gn(t.target);if(i!==null){var a=_e(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){t.blockedOn=i,mr(t.priority,function(){if(a.tag===13){var o=bn(),h=Sr(a,o);h!==null&&hn(h,a,o),Ed(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ad(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);On=o,a.target.dispatchEvent(o),On=null}else return i=Ci(a),i!==null&&m_(i),t.blockedOn=a,!1;i.shift()}return!0}function __(t,i,a){mc(t)&&a.delete(i)}function cS(){bd=!1,Lr!==null&&mc(Lr)&&(Lr=null),zr!==null&&mc(zr)&&(zr=null),Br!==null&&mc(Br)&&(Br=null),mo.forEach(__),go.forEach(__)}function gc(t,i){t.blockedOn===i&&(t.blockedOn=null,bd||(bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cS)))}var pc=null;function v_(t){pc!==t&&(pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pc===t&&(pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Sd(o||a)===null)continue;break}var d=Ci(a);d!==null&&(t.splice(i,3),i-=3,df(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function yo(t){function i(I){return gc(I,t)}Lr!==null&&gc(Lr,t),zr!==null&&gc(zr,t),Br!==null&&gc(Br,t),mo.forEach(i),go.forEach(i);for(var a=0;a<jr.length;a++){var o=jr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<jr.length&&(a=jr[0],a.blockedOn===null);)y_(a),a.blockedOn===null&&jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[Ct]||null;if(typeof d=="function")v||v_(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ct]||null)A=v.formAction;else if(Sd(h)!==null)continue}else A=v.action;typeof A=="function"?a[o+1]=A:(a.splice(o,3),o-=3),v_(a)}}}function wd(t){this._internalRoot=t}yc.prototype.render=wd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=bn();f_(a,o,t,i,null,null)},yc.prototype.unmount=wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Pa(),f_(t.current,2,null,t,null,null),Ju(),i[Ri]=null}};function yc(t){this._internalRoot=t}yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=ru();t={blockedOn:null,target:t,priority:i};for(var a=0;a<jr.length&&i!==0&&i<jr[a].priority;a++);jr.splice(a,0,t),a===0&&y_(t)}};var E_=e.version;if(E_!=="19.0.0")throw Error(s(527,E_,"19.0.0"));ee.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=w(i),t=t!==null?Z(t):null,t=t===null?null:t.stateNode,t};var hS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Gn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Zn=_c.inject(hS),Jt=_c}catch{}}return vo.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=Up,d=Lp,v=zp,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=c_(t,1,!1,null,null,a,o,h,d,v,A,null),t[Ri]=i.current,od(t.nodeType===8?t.parentNode:t),new wd(i)},vo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=Up,v=Lp,A=zp,I=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=c_(t,1,!0,i,a??null,o,h,d,v,A,I,k),i.context=h_(null),a=i.current,o=bn(),h=Or(o),h.callback=null,Nr(a,h,o),i.current.lanes=o,vt(i,o),mi(i),t[Ri]=i.current,od(t),new yc(i)},vo.version="19.0.0",vo}var O_;function SS(){if(O_)return Id.exports;O_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Id.exports=AS(),Id.exports}var bS=SS();const wS=sE(bS);var Eo={},N_;function RS(){if(N_)return Eo;N_=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.parse=f,Eo.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const D=function(){};return D.prototype=Object.create(null),D})();function f(D,V){const B=new u,Y=D.length;if(Y<2)return B;const U=(V==null?void 0:V.decode)||E;let $=0;do{const re=D.indexOf("=",$);if(re===-1)break;const te=D.indexOf(";",$),se=te===-1?Y:te;if(re>se){$=D.lastIndexOf(";",re-1)+1;continue}const le=m(D,$,re),ge=p(D,re,le),M=D.slice(le,ge);if(B[M]===void 0){let C=m(D,re+1,se),b=p(D,se,C);const O=U(D.slice(C,b));B[M]=O}$=se+1}while($<Y);return B}function m(D,V,B){do{const Y=D.charCodeAt(V);if(Y!==32&&Y!==9)return V}while(++V<B);return B}function p(D,V,B){for(;V>B;){const Y=D.charCodeAt(--V);if(Y!==32&&Y!==9)return V+1}return B}function y(D,V,B){const Y=(B==null?void 0:B.encode)||encodeURIComponent;if(!r.test(D))throw new TypeError(`argument name is invalid: ${D}`);const U=Y(V);if(!e.test(U))throw new TypeError(`argument val is invalid: ${V}`);let $=D+"="+U;if(!B)return $;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);$+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);$+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);$+="; Path="+B.path}if(B.expires){if(!R(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);$+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&($+="; HttpOnly"),B.secure&&($+="; Secure"),B.partitioned&&($+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return $}function E(D){if(D.indexOf("%")===-1)return D;try{return decodeURIComponent(D)}catch{return D}}function R(D){return l.call(D)==="[object Date]"}return Eo}RS();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var M_="popstate";function CS(r={}){function e(s,l){let{pathname:u,search:f,hash:m}=s.location;return Gd("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:No(l)}return DS(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ei(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IS(){return Math.random().toString(36).substring(2,10)}function V_(r,e){return{usr:r.state,key:r.key,idx:e}}function Gd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:n,key:e&&e.key||s||IS()}}function No({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function al(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function DS(r,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function R(){m="POP";let U=E(),$=U==null?null:U-y;y=U,p&&p({action:m,location:Y.location,delta:$})}function D(U,$){m="PUSH";let re=Gd(Y.location,U,$);y=E()+1;let te=V_(re,y),se=Y.createHref(re);try{f.pushState(te,"",se)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;l.location.assign(se)}u&&p&&p({action:m,location:Y.location,delta:1})}function V(U,$){m="REPLACE";let re=Gd(Y.location,U,$);y=E();let te=V_(re,y),se=Y.createHref(re);f.replaceState(te,"",se),u&&p&&p({action:m,location:Y.location,delta:0})}function B(U){let $=l.location.origin!=="null"?l.location.origin:l.location.href,re=typeof U=="string"?U:No(U);return re=re.replace(/ $/,"%20"),ut($,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,$)}let Y={get action(){return m},get location(){return r(l,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(M_,R),p=U,()=>{l.removeEventListener(M_,R),p=null}},createHref(U){return e(l,U)},createURL:B,encodeLocation(U){let $=B(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:D,replace:V,go(U){return f.go(U)}};return Y}function aE(r,e,n="/"){return OS(r,e,n,!1)}function OS(r,e,n,s){let l=typeof e=="string"?al(e):e,u=Jr(l.pathname||"/",n);if(u==null)return null;let f=lE(r);NS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=HS(u);m=BS(f[p],y,s)}return m}function lE(r,e=[],n=[],s=""){let l=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=er([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),lE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:LS(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let p of oE(u.path))l(u,f,p)}),e}function oE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=oE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function NS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:zS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var MS=/^:[\w-]+$/,VS=3,xS=2,PS=1,kS=10,US=-2,x_=r=>r==="*";function LS(r,e){let n=r.split("/"),s=n.length;return n.some(x_)&&(s+=US),e&&(s+=xS),n.filter(l=>!x_(l)).reduce((l,u)=>l+(MS.test(u)?VS:u===""?PS:kS),s)}function zS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function BS(r,e,n=!1){let{routesMeta:s}=r,l={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",R=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),D=p.route;if(!R&&y&&n&&!s[s.length-1].route.index&&(R=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!R)return null;Object.assign(l,R.params),f.push({params:l,pathname:er([u,R.pathname]),pathnameBase:QS(er([u,R.pathnameBase])),route:D}),R.pathnameBase!=="/"&&(u=er([u,R.pathnameBase]))}return f}function Uc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=jS(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:R},D)=>{if(E==="*"){let B=m[D]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const V=m[D];return R&&!V?y[E]=void 0:y[E]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function jS(r,e=!1,n=!0){Ei(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function HS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Jr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function qS(r,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?al(r):r;return{pathname:n?n.startsWith("/")?n:FS(n,e):e,search:KS(s),hash:YS(l)}}function FS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Md(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uE(r){let e=GS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cE(r,e,n,s=!1){let l;typeof r=="string"?l=al(r):(l={...r},ut(!l.pathname||!l.pathname.includes("?"),Md("?","pathname","search",l)),ut(!l.pathname||!l.pathname.includes("#"),Md("#","pathname","hash",l)),ut(!l.search||!l.search.includes("#"),Md("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let D=f.split("/");for(;D[0]==="..";)D.shift(),R-=1;l.pathname=D.join("/")}m=R>=0?e[R]:"/"}let p=qS(l,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var er=r=>r.join("/").replace(/\/\/+/g,"/"),QS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,YS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function $S(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var hE=["POST","PUT","PATCH","DELETE"];new Set(hE);var XS=["GET",...hE];new Set(XS);var ll=G.createContext(null);ll.displayName="DataRouter";var rh=G.createContext(null);rh.displayName="DataRouterState";var fE=G.createContext({isTransitioning:!1});fE.displayName="ViewTransition";var WS=G.createContext(new Map);WS.displayName="Fetchers";var ZS=G.createContext(null);ZS.displayName="Await";var bi=G.createContext(null);bi.displayName="Navigation";var jo=G.createContext(null);jo.displayName="Location";var sr=G.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var Em=G.createContext(null);Em.displayName="RouteError";function JS(r,{relative:e}={}){ut(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(bi),{hash:l,pathname:u,search:f}=qo(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:f,hash:l})}function Ho(){return G.useContext(jo)!=null}function Xs(){return ut(Ho(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(jo).location}var dE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mE(r){G.useContext(bi).static||G.useLayoutEffect(r)}function Tm(){let{isDataRoute:r}=G.useContext(sr);return r?fb():eb()}function eb(){ut(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(ll),{basename:e,navigator:n}=G.useContext(bi),{matches:s}=G.useContext(sr),{pathname:l}=Xs(),u=JSON.stringify(uE(s)),f=G.useRef(!1);return mE(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(Ei(f.current,dE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=cE(p,JSON.parse(u),l,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,l,r])}G.createContext(null);function qo(r,{relative:e}={}){let{matches:n}=G.useContext(sr),{pathname:s}=Xs(),l=JSON.stringify(uE(n));return G.useMemo(()=>cE(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function tb(r,e){return gE(r,e)}function gE(r,e,n,s){var re;ut(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=G.useContext(bi),{matches:f}=G.useContext(sr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",R=m&&m.route;{let te=R&&R.path||"";pE(y,!R||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let D=Xs(),V;if(e){let te=typeof e=="string"?al(e):e;ut(E==="/"||((re=te.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),V=te}else V=D;let B=V.pathname||"/",Y=B;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Y="/"+B.replace(/^\//,"").split("/").slice(te.length).join("/")}let U=!u&&n&&n.matches&&n.matches.length>0?n.matches:aE(r,{pathname:Y});Ei(R||U!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Ei(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=ab(U&&U.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:er([E,l.encodeLocation?l.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:er([E,l.encodeLocation?l.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,s);return e&&$?G.createElement(jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},$):$}function nb(){let r=hb(),e=$S(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:l},n):null,f)}var ib=G.createElement(nb,null),rb=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(sr.Provider,{value:this.props.routeContext},G.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sb({routeContext:r,match:e,children:n}){let s=G.useContext(ll);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(sr.Provider,{value:r},n)}function ab(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:R}=n,D=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!R||R[y.route.id]===void 0);if(y.route.lazy||D){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,E)=>{let R,D=!1,V=null,B=null;n&&(R=u&&y.route.id?u[y.route.id]:void 0,V=y.route.errorElement||ib,f&&(m<0&&E===0?(pE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,B=null):m===E&&(D=!0,B=y.route.hydrateFallbackElement||null)));let Y=e.concat(l.slice(0,E+1)),U=()=>{let $;return R?$=V:D?$=B:y.route.Component?$=G.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,G.createElement(sb,{match:y,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(rb,{location:n.location,revalidation:n.revalidation,component:V,error:R,children:U(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):U()},null)}function Am(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lb(r){let e=G.useContext(ll);return ut(e,Am(r)),e}function ob(r){let e=G.useContext(rh);return ut(e,Am(r)),e}function ub(r){let e=G.useContext(sr);return ut(e,Am(r)),e}function Sm(r){let e=ub(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function cb(){return Sm("useRouteId")}function hb(){var s;let r=G.useContext(Em),e=ob("useRouteError"),n=Sm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function fb(){let{router:r}=lb("useNavigate"),e=Sm("useNavigate"),n=G.useRef(!1);return mE(()=>{n.current=!0}),G.useCallback(async(l,u={})=>{Ei(n.current,dE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var P_={};function pE(r,e,n){!e&&!P_[r]&&(P_[r]=!0,Ei(!1,n))}G.memo(db);function db({routes:r,future:e,state:n}){return gE(r,void 0,n,e)}function Ha(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mb({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1}){ut(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=al(n));let{pathname:p="/",search:y="",hash:E="",state:R=null,key:D="default"}=n,V=G.useMemo(()=>{let B=Jr(p,f);return B==null?null:{location:{pathname:B,search:y,hash:E,state:R,key:D},navigationType:s}},[f,p,y,E,R,D,s]);return Ei(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:G.createElement(bi.Provider,{value:m},G.createElement(jo.Provider,{children:e,value:V}))}function gb({children:r,location:e}){return tb(Qd(r),e)}function Qd(r,e=[]){let n=[];return G.Children.forEach(r,(s,l)=>{if(!G.isValidElement(s))return;let u=[...e,l];if(s.type===G.Fragment){n.push.apply(n,Qd(s.props.children,u));return}ut(s.type===Ha,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Qd(s.props.children,u)),n.push(f)}),n}var Rc="get",Cc="application/x-www-form-urlencoded";function sh(r){return r!=null&&typeof r.tagName=="string"}function pb(r){return sh(r)&&r.tagName.toLowerCase()==="button"}function yb(r){return sh(r)&&r.tagName.toLowerCase()==="form"}function _b(r){return sh(r)&&r.tagName.toLowerCase()==="input"}function vb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Eb(r,e){return r.button===0&&(!e||e==="_self")&&!vb(r)}var vc=null;function Tb(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var Ab=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vd(r){return r!=null&&!Ab.has(r)?(Ei(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):r}function Sb(r,e){let n,s,l,u,f;if(yb(r)){let m=r.getAttribute("action");s=m?Jr(m,e):null,n=r.getAttribute("method")||Rc,l=Vd(r.getAttribute("enctype"))||Cc,u=new FormData(r)}else if(pb(r)||_b(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Jr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Rc,l=Vd(r.getAttribute("formenctype"))||Vd(m.getAttribute("enctype"))||Cc,u=new FormData(m,r),!Tb()){let{name:y,type:E,value:R}=r;if(E==="image"){let D=y?`${y}.`:"";u.append(`${D}x`,"0"),u.append(`${D}y`,"0")}else y&&u.append(y,R)}}else{if(sh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rc,s=null,l=Cc,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}function bm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function bb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Rb(r,e,n){let s=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await bb(u,n);return f.links?f.links():[]}return[]}));return Ob(s.flat(1).filter(wb).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function k_(r,e,n,s,l,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var R;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let D=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function Cb(r,e){return Ib(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let l=[s.module];return s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function Ib(r){return[...new Set(r)]}function Db(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Ob(r,e){let n=new Set;return new Set(e),r.reduce((s,l)=>{let u=JSON.stringify(Db(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function Nb(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Mb(){let r=G.useContext(ll);return bm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Vb(){let r=G.useContext(rh);return bm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wm=G.createContext(void 0);wm.displayName="FrameworkContext";function yE(){let r=G.useContext(wm);return bm(r,"You must render this element inside a <HydratedRouter> element"),r}function xb(r,e){let n=G.useContext(wm),[s,l]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:R}=e,D=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=$=>{$.forEach(re=>{f(re.isIntersecting)})},U=new IntersectionObserver(Y,{threshold:.5});return D.current&&U.observe(D.current),()=>{U.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let V=()=>{l(!0)},B=()=>{l(!1),f(!1)};return n?r!=="intent"?[u,D,{}]:[u,D,{onFocus:To(m,V),onBlur:To(p,B),onMouseEnter:To(y,V),onMouseLeave:To(E,B),onTouchStart:To(R,V)}]:[!1,D,{}]}function To(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Pb({page:r,...e}){let{router:n}=Mb(),s=G.useMemo(()=>aE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(Ub,{page:r,matches:s,...e}):null}function kb(r){let{manifest:e,routeModules:n}=yE(),[s,l]=G.useState([]);return G.useEffect(()=>{let u=!1;return Rb(r,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[r,e,n]),s}function Ub({page:r,matches:e,...n}){let s=Xs(),{manifest:l,routeModules:u}=yE(),{loaderData:f,matches:m}=Vb(),p=G.useMemo(()=>k_(r,e,m,l,s,"data"),[r,e,m,l,s]),y=G.useMemo(()=>k_(r,e,m,l,s,"assets"),[r,e,m,l,s]),E=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,B=!1;if(e.forEach(U=>{var re;let $=l.routes[U.route.id];!$||!$.hasLoader||(!p.some(te=>te.route.id===U.route.id)&&U.route.id in f&&((re=u[U.route.id])!=null&&re.shouldRevalidate)||$.hasClientLoader?B=!0:V.add(U.route.id))}),V.size===0)return[];let Y=Nb(r);return B&&V.size>0&&Y.searchParams.set("_routes",e.filter(U=>V.has(U.route.id)).map(U=>U.route.id).join(",")),[Y.pathname+Y.search]},[f,s,l,p,e,r,u]),R=G.useMemo(()=>Cb(y,l),[y,l]),D=kb(y);return G.createElement(G.Fragment,null,E.map(V=>G.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),R.map(V=>G.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),D.map(({key:V,link:B})=>G.createElement("link",{key:V,...B})))}function Lb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_E&&(window.__reactRouterVersion="7.1.5")}catch{}function zb({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=CS({window:n,v5Compat:!0}));let l=s.current,[u,f]=G.useState({action:l.action,location:l.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>l.listen(m),[l,m]),G.createElement(mb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l})}var vE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wo=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:R,...D},V){let{basename:B}=G.useContext(bi),Y=typeof y=="string"&&vE.test(y),U,$=!1;if(typeof y=="string"&&Y&&(U=y,_E))try{let b=new URL(window.location.href),O=y.startsWith("//")?new URL(b.protocol+y):new URL(y),x=Jr(O.pathname,B);O.origin===b.origin&&x!=null?y=x+O.search+O.hash:$=!0}catch{Ei(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=JS(y,{relative:l}),[te,se,le]=xb(s,D),ge=qb(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:R});function M(b){e&&e(b),b.defaultPrevented||ge(b)}let C=G.createElement("a",{...D,...le,href:U||re,onClick:$||u?e:M,ref:Lb(V,se),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return te&&!Y?G.createElement(G.Fragment,null,C,G.createElement(Pb,{page:re})):C});wo.displayName="Link";var Bb=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let R=qo(f,{relative:y.relative}),D=Xs(),V=G.useContext(rh),{navigator:B,basename:Y}=G.useContext(bi),U=V!=null&&Yb(R)&&m===!0,$=B.encodeLocation?B.encodeLocation(R).pathname:R.pathname,re=D.pathname,te=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(re=re.toLowerCase(),te=te?te.toLowerCase():null,$=$.toLowerCase()),te&&Y&&(te=Jr(te,Y)||te);const se=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let le=re===$||!l&&re.startsWith($)&&re.charAt(se)==="/",ge=te!=null&&(te===$||!l&&te.startsWith($)&&te.charAt($.length)==="/"),M={isActive:le,isPending:ge,isTransitioning:U},C=le?e:void 0,b;typeof s=="function"?b=s(M):b=[s,le?"active":null,ge?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return G.createElement(wo,{...y,"aria-current":C,className:b,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(M):p)});Bb.displayName="NavLink";var jb=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:f=Rc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:R,...D},V)=>{let B=Qb(),Y=Kb(m,{relative:y}),U=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&vE.test(m),re=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let se=te.nativeEvent.submitter,le=(se==null?void 0:se.getAttribute("formmethod"))||f;B(se||te.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:R})};return G.createElement("form",{ref:V,method:U,action:Y,onSubmit:s?p:re,...D,"data-discover":!$&&r==="render"?"true":void 0})});jb.displayName="Form";function Hb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EE(r){let e=G.useContext(ll);return ut(e,Hb(r)),e}function qb(r,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=Tm(),p=Xs(),y=qo(r,{relative:u});return G.useCallback(E=>{if(Eb(E,e)){E.preventDefault();let R=n!==void 0?n:No(p)===No(y);m(r,{replace:R,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,l,u,f])}var Fb=0,Gb=()=>`__${String(++Fb)}__`;function Qb(){let{router:r}=EE("useSubmit"),{basename:e}=G.useContext(bi),n=cb();return G.useCallback(async(s,l={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=Sb(s,e);if(l.navigate===!1){let E=l.fetcherKey||Gb();await r.fetch(E,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,n])}function Kb(r,{relative:e}={}){let{basename:n}=G.useContext(bi),s=G.useContext(sr);ut(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...qo(r||".",{relative:e})},f=Xs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(R=>R).forEach(R=>m.append("index",R));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),No(u)}function Yb(r,e={}){let n=G.useContext(fE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=EE("useViewTransitionState"),l=qo(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uc(l.pathname,f)!=null||Uc(l.pathname,u)!=null}new TextEncoder;const $b=()=>ye.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[ye.jsx("h2",{className:"text-4xl font-bold text-center",children:"Добро пожаловать в PencilCoin"}),ye.jsx("p",{className:"mt-2 text-lg text-center",children:"Играй и зарабатывай с нашей криптовалютой!"})]});var U_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Xb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],m=r[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,E=u>>2,R=(u&3)<<4|m>>4;let D=(m&15)<<2|y>>6,V=y&63;p||(V=64,f||(D=64)),s.push(n[E],n[R],n[D],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(TE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Xb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||R==null)throw new Wb;const D=u<<2|m>>4;if(s.push(D),y!==64){const V=m<<4&240|y>>2;if(s.push(V),R!==64){const B=y<<6&192|R;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zb=function(r){const e=TE(r);return AE.encodeByteArray(e,!0)},Lc=function(r){return Zb(r).replace(/\./g,"")},SE=function(r){try{return AE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=()=>Jb().__FIREBASE_DEFAULTS__,tw=()=>{if(typeof process>"u"||typeof U_>"u")return;const r=U_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&SE(r[1]);return e&&JSON.parse(e)},ah=()=>{try{return ew()||tw()||nw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bE=r=>{var e,n;return(n=(e=ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},iw=r=>{const e=bE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},wE=()=>{var r;return(r=ah())===null||r===void 0?void 0:r.config},RE=r=>{var e;return(e=ah())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function lw(){var r;const e=(r=ah())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ow(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hw(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fw(){return!lw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dw(){try{return typeof indexedDB=="object"}catch{return!1}}function mw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="FirebaseError";class ar extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=gw,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fo.prototype.create)}}class Fo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?pw(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new ar(l,m,s)}}function pw(r,e){return r.replace(yw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const yw=/\{\$([^}]+)}/g;function _w(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function zc(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=e[l];if(L_(u)&&L_(f)){if(!zc(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function L_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function vw(r,e){const n=new Ew(r,e);return n.subscribe.bind(n)}class Ew{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Tw(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new rw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bw(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Sw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sw(r){return r===js?void 0:r}function bw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Aw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const Rw={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Cw=Ue.INFO,Iw={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Dw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=Iw[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=Cw,this._logHandler=Dw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Ow=(r,e)=>e.some(n=>r instanceof n);let z_,B_;function Nw(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mw(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,Kd=new WeakMap,IE=new WeakMap,Pd=new WeakMap,Cm=new WeakMap;function Vw(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Yr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&CE.set(n,r)}).catch(()=>{}),Cm.set(e,r),e}function xw(r){if(Kd.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Kd.set(r,e)}let Yd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Kd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||IE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Pw(r){Yd=r(Yd)}function kw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(kd(this),e,...n);return IE.set(s,e.sort?e.sort():[e]),Yr(s)}:Mw().includes(r)?function(...e){return r.apply(kd(this),e),Yr(CE.get(this))}:function(...e){return Yr(r.apply(kd(this),e))}}function Uw(r){return typeof r=="function"?kw(r):(r instanceof IDBTransaction&&xw(r),Ow(r,Nw())?new Proxy(r,Yd):r)}function Yr(r){if(r instanceof IDBRequest)return Vw(r);if(Pd.has(r))return Pd.get(r);const e=Uw(r);return e!==r&&(Pd.set(r,e),Cm.set(e,r)),e}const kd=r=>Cm.get(r);function Lw(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),m=Yr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Yr(f.result),p.oldVersion,p.newVersion,Yr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const zw=["get","getKey","getAll","getAllKeys","count"],Bw=["put","add","delete","clear"],Ud=new Map;function j_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=Bw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||zw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&p.done]))[0]};return Ud.set(e,u),u}Pw(r=>({...r,get:(e,n,s)=>j_(e,n)||r.get(e,n,s),has:(e,n)=>!!j_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Hw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $d="@firebase/app",H_="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new Rm("@firebase/app"),qw="@firebase/app-compat",Fw="@firebase/analytics-compat",Gw="@firebase/analytics",Qw="@firebase/app-check-compat",Kw="@firebase/app-check",Yw="@firebase/auth",$w="@firebase/auth-compat",Xw="@firebase/database",Ww="@firebase/data-connect",Zw="@firebase/database-compat",Jw="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",iR="@firebase/messaging",rR="@firebase/messaging-compat",sR="@firebase/performance",aR="@firebase/performance-compat",lR="@firebase/remote-config",oR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",hR="@firebase/firestore",fR="@firebase/vertexai",dR="@firebase/firestore-compat",mR="firebase",gR="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",pR={[$d]:"fire-core",[qw]:"fire-core-compat",[Gw]:"fire-analytics",[Fw]:"fire-analytics-compat",[Kw]:"fire-app-check",[Qw]:"fire-app-check-compat",[Yw]:"fire-auth",[$w]:"fire-auth-compat",[Xw]:"fire-rtdb",[Ww]:"fire-data-connect",[Zw]:"fire-rtdb-compat",[Jw]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[iR]:"fire-fcm",[rR]:"fire-fcm-compat",[sR]:"fire-perf",[aR]:"fire-perf-compat",[lR]:"fire-rc",[oR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[hR]:"fire-fst",[dR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,yR=new Map,Wd=new Map;function q_(r,e){try{r.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Wa(r){const e=r.name;if(Wd.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,r);for(const n of Bc.values())q_(n,r);for(const n of yR.values())q_(n,r);return!0}function Im(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Fo("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=gR;function DE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xd,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw $r.create("bad-app-name",{appName:String(l)});if(n||(n=wE()),!n)throw $r.create("no-options");const u=Bc.get(l);if(u){if(zc(n,u.options)&&zc(s,u.config))return u;throw $r.create("duplicate-app",{appName:l})}const f=new ww(l);for(const p of Wd.values())f.addComponent(p);const m=new vR(n,s,f);return Bc.set(l,m),m}function OE(r=Xd){const e=Bc.get(r);if(!e&&r===Xd&&wE())return DE();if(!e)throw $r.create("no-app",{appName:r});return e}function Xr(r,e,n){var s;let l=(s=pR[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(m.join(" "));return}Wa(new Gs(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",TR=1,Mo="firebase-heartbeat-store";let Ld=null;function NE(){return Ld||(Ld=Lw(ER,TR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Mo)}catch(n){console.warn(n)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function AR(r){try{const n=(await NE()).transaction(Mo),s=await n.objectStore(Mo).get(ME(r));return await n.done,s}catch(e){if(e instanceof ar)tr.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tr.warn(n.message)}}}async function F_(r,e){try{const s=(await NE()).transaction(Mo,"readwrite");await s.objectStore(Mo).put(e,ME(r)),await s.done}catch(n){if(n instanceof ar)tr.warn(n.message);else{const s=$r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(s.message)}}}function ME(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1024,bR=30;class wR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=G_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>bR){const f=IR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G_(),{heartbeatsToSend:s,unsentEntries:l}=RR(this._heartbeatsCache.heartbeats),u=Lc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return tr.warn(n),""}}}function G_(){return new Date().toISOString().substring(0,10)}function RR(r,e=SR){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Q_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Q_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class CR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dw()?mw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Q_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function IR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){Wa(new Gs("platform-logger",e=>new jw(e),"PRIVATE")),Wa(new Gs("heartbeat",e=>new wR(e),"PRIVATE")),Xr($d,H_,r),Xr($d,H_,"esm2017"),Xr("fire-js","")}DR("");var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,VE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function b(){}b.prototype=C.prototype,M.D=C.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(O,x,z){for(var N=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)N[ht-2]=arguments[ht];return C.prototype[x].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,C,b){b||(b=0);var O=Array(16);if(typeof C=="string")for(var x=0;16>x;++x)O[x]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(x=0;16>x;++x)O[x]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=M.g[0],b=M.g[1],x=M.g[2];var z=M.g[3],N=C+(z^b&(x^z))+O[0]+3614090360&4294967295;C=b+(N<<7&4294967295|N>>>25),N=z+(x^C&(b^x))+O[1]+3905402710&4294967295,z=C+(N<<12&4294967295|N>>>20),N=x+(b^z&(C^b))+O[2]+606105819&4294967295,x=z+(N<<17&4294967295|N>>>15),N=b+(C^x&(z^C))+O[3]+3250441966&4294967295,b=x+(N<<22&4294967295|N>>>10),N=C+(z^b&(x^z))+O[4]+4118548399&4294967295,C=b+(N<<7&4294967295|N>>>25),N=z+(x^C&(b^x))+O[5]+1200080426&4294967295,z=C+(N<<12&4294967295|N>>>20),N=x+(b^z&(C^b))+O[6]+2821735955&4294967295,x=z+(N<<17&4294967295|N>>>15),N=b+(C^x&(z^C))+O[7]+4249261313&4294967295,b=x+(N<<22&4294967295|N>>>10),N=C+(z^b&(x^z))+O[8]+1770035416&4294967295,C=b+(N<<7&4294967295|N>>>25),N=z+(x^C&(b^x))+O[9]+2336552879&4294967295,z=C+(N<<12&4294967295|N>>>20),N=x+(b^z&(C^b))+O[10]+4294925233&4294967295,x=z+(N<<17&4294967295|N>>>15),N=b+(C^x&(z^C))+O[11]+2304563134&4294967295,b=x+(N<<22&4294967295|N>>>10),N=C+(z^b&(x^z))+O[12]+1804603682&4294967295,C=b+(N<<7&4294967295|N>>>25),N=z+(x^C&(b^x))+O[13]+4254626195&4294967295,z=C+(N<<12&4294967295|N>>>20),N=x+(b^z&(C^b))+O[14]+2792965006&4294967295,x=z+(N<<17&4294967295|N>>>15),N=b+(C^x&(z^C))+O[15]+1236535329&4294967295,b=x+(N<<22&4294967295|N>>>10),N=C+(x^z&(b^x))+O[1]+4129170786&4294967295,C=b+(N<<5&4294967295|N>>>27),N=z+(b^x&(C^b))+O[6]+3225465664&4294967295,z=C+(N<<9&4294967295|N>>>23),N=x+(C^b&(z^C))+O[11]+643717713&4294967295,x=z+(N<<14&4294967295|N>>>18),N=b+(z^C&(x^z))+O[0]+3921069994&4294967295,b=x+(N<<20&4294967295|N>>>12),N=C+(x^z&(b^x))+O[5]+3593408605&4294967295,C=b+(N<<5&4294967295|N>>>27),N=z+(b^x&(C^b))+O[10]+38016083&4294967295,z=C+(N<<9&4294967295|N>>>23),N=x+(C^b&(z^C))+O[15]+3634488961&4294967295,x=z+(N<<14&4294967295|N>>>18),N=b+(z^C&(x^z))+O[4]+3889429448&4294967295,b=x+(N<<20&4294967295|N>>>12),N=C+(x^z&(b^x))+O[9]+568446438&4294967295,C=b+(N<<5&4294967295|N>>>27),N=z+(b^x&(C^b))+O[14]+3275163606&4294967295,z=C+(N<<9&4294967295|N>>>23),N=x+(C^b&(z^C))+O[3]+4107603335&4294967295,x=z+(N<<14&4294967295|N>>>18),N=b+(z^C&(x^z))+O[8]+1163531501&4294967295,b=x+(N<<20&4294967295|N>>>12),N=C+(x^z&(b^x))+O[13]+2850285829&4294967295,C=b+(N<<5&4294967295|N>>>27),N=z+(b^x&(C^b))+O[2]+4243563512&4294967295,z=C+(N<<9&4294967295|N>>>23),N=x+(C^b&(z^C))+O[7]+1735328473&4294967295,x=z+(N<<14&4294967295|N>>>18),N=b+(z^C&(x^z))+O[12]+2368359562&4294967295,b=x+(N<<20&4294967295|N>>>12),N=C+(b^x^z)+O[5]+4294588738&4294967295,C=b+(N<<4&4294967295|N>>>28),N=z+(C^b^x)+O[8]+2272392833&4294967295,z=C+(N<<11&4294967295|N>>>21),N=x+(z^C^b)+O[11]+1839030562&4294967295,x=z+(N<<16&4294967295|N>>>16),N=b+(x^z^C)+O[14]+4259657740&4294967295,b=x+(N<<23&4294967295|N>>>9),N=C+(b^x^z)+O[1]+2763975236&4294967295,C=b+(N<<4&4294967295|N>>>28),N=z+(C^b^x)+O[4]+1272893353&4294967295,z=C+(N<<11&4294967295|N>>>21),N=x+(z^C^b)+O[7]+4139469664&4294967295,x=z+(N<<16&4294967295|N>>>16),N=b+(x^z^C)+O[10]+3200236656&4294967295,b=x+(N<<23&4294967295|N>>>9),N=C+(b^x^z)+O[13]+681279174&4294967295,C=b+(N<<4&4294967295|N>>>28),N=z+(C^b^x)+O[0]+3936430074&4294967295,z=C+(N<<11&4294967295|N>>>21),N=x+(z^C^b)+O[3]+3572445317&4294967295,x=z+(N<<16&4294967295|N>>>16),N=b+(x^z^C)+O[6]+76029189&4294967295,b=x+(N<<23&4294967295|N>>>9),N=C+(b^x^z)+O[9]+3654602809&4294967295,C=b+(N<<4&4294967295|N>>>28),N=z+(C^b^x)+O[12]+3873151461&4294967295,z=C+(N<<11&4294967295|N>>>21),N=x+(z^C^b)+O[15]+530742520&4294967295,x=z+(N<<16&4294967295|N>>>16),N=b+(x^z^C)+O[2]+3299628645&4294967295,b=x+(N<<23&4294967295|N>>>9),N=C+(x^(b|~z))+O[0]+4096336452&4294967295,C=b+(N<<6&4294967295|N>>>26),N=z+(b^(C|~x))+O[7]+1126891415&4294967295,z=C+(N<<10&4294967295|N>>>22),N=x+(C^(z|~b))+O[14]+2878612391&4294967295,x=z+(N<<15&4294967295|N>>>17),N=b+(z^(x|~C))+O[5]+4237533241&4294967295,b=x+(N<<21&4294967295|N>>>11),N=C+(x^(b|~z))+O[12]+1700485571&4294967295,C=b+(N<<6&4294967295|N>>>26),N=z+(b^(C|~x))+O[3]+2399980690&4294967295,z=C+(N<<10&4294967295|N>>>22),N=x+(C^(z|~b))+O[10]+4293915773&4294967295,x=z+(N<<15&4294967295|N>>>17),N=b+(z^(x|~C))+O[1]+2240044497&4294967295,b=x+(N<<21&4294967295|N>>>11),N=C+(x^(b|~z))+O[8]+1873313359&4294967295,C=b+(N<<6&4294967295|N>>>26),N=z+(b^(C|~x))+O[15]+4264355552&4294967295,z=C+(N<<10&4294967295|N>>>22),N=x+(C^(z|~b))+O[6]+2734768916&4294967295,x=z+(N<<15&4294967295|N>>>17),N=b+(z^(x|~C))+O[13]+1309151649&4294967295,b=x+(N<<21&4294967295|N>>>11),N=C+(x^(b|~z))+O[4]+4149444226&4294967295,C=b+(N<<6&4294967295|N>>>26),N=z+(b^(C|~x))+O[11]+3174756917&4294967295,z=C+(N<<10&4294967295|N>>>22),N=x+(C^(z|~b))+O[2]+718787259&4294967295,x=z+(N<<15&4294967295|N>>>17),N=b+(z^(x|~C))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var b=C-this.blockSize,O=this.B,x=this.h,z=0;z<C;){if(x==0)for(;z<=b;)l(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<C;)if(O[x++]=M.charCodeAt(z++),x==this.blockSize){l(this,O),x=0;break}}else for(;z<C;)if(O[x++]=M[z++],x==this.blockSize){l(this,O),x=0;break}}this.h=x,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var b=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=b&255,b/=256;for(this.u(M),M=Array(16),C=b=0;4>C;++C)for(var O=0;32>O;O+=8)M[b++]=this.g[C]>>>O&255;return M};function u(M,C){var b=m;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=C(M)}function f(M,C){this.h=C;for(var b=[],O=!0,x=M.length-1;0<=x;x--){var z=M[x]|0;O&&z==C||(b[x]=z,O=!1)}this.g=b}var m={};function p(M){return-128<=M&&128>M?u(M,function(C){return new f([C|0],0>C?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return R;if(0>M)return U(y(-M));for(var C=[],b=1,O=0;M>=b;O++)C[O]=M/b|0,b*=4294967296;return new f(C,0)}function E(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return U(E(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(C,8)),O=R,x=0;x<M.length;x+=8){var z=Math.min(8,M.length-x),N=parseInt(M.substring(x,x+z),C);8>z?(z=y(Math.pow(C,z)),O=O.j(z).add(y(N))):(O=O.j(b),O=O.add(y(N)))}return O}var R=p(0),D=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-U(this).m();for(var M=0,C=1,b=0;b<this.g.length;b++){var O=this.i(b);M+=(0<=O?O:4294967296+O)*C,C*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(B(this))return"0";if(Y(this))return"-"+U(this).toString(M);for(var C=y(Math.pow(M,6)),b=this,O="";;){var x=se(b,C).g;b=$(b,x.j(C));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=x,B(b))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function B(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function Y(M){return M.h==-1}r.l=function(M){return M=$(this,M),Y(M)?-1:B(M)?0:1};function U(M){for(var C=M.g.length,b=[],O=0;O<C;O++)b[O]=~M.g[O];return new f(b,~M.h).add(D)}r.abs=function(){return Y(this)?U(this):this},r.add=function(M){for(var C=Math.max(this.g.length,M.g.length),b=[],O=0,x=0;x<=C;x++){var z=O+(this.i(x)&65535)+(M.i(x)&65535),N=(z>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);O=N>>>16,z&=65535,N&=65535,b[x]=N<<16|z}return new f(b,b[b.length-1]&-2147483648?-1:0)};function $(M,C){return M.add(U(C))}r.j=function(M){if(B(this)||B(M))return R;if(Y(this))return Y(M)?U(this).j(U(M)):U(U(this).j(M));if(Y(M))return U(this.j(U(M)));if(0>this.l(V)&&0>M.l(V))return y(this.m()*M.m());for(var C=this.g.length+M.g.length,b=[],O=0;O<2*C;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<M.g.length;x++){var z=this.i(O)>>>16,N=this.i(O)&65535,ht=M.i(x)>>>16,rt=M.i(x)&65535;b[2*O+2*x]+=N*rt,re(b,2*O+2*x),b[2*O+2*x+1]+=z*rt,re(b,2*O+2*x+1),b[2*O+2*x+1]+=N*ht,re(b,2*O+2*x+1),b[2*O+2*x+2]+=z*ht,re(b,2*O+2*x+2)}for(O=0;O<C;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=C;O<2*C;O++)b[O]=0;return new f(b,0)};function re(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function te(M,C){this.g=M,this.h=C}function se(M,C){if(B(C))throw Error("division by zero");if(B(M))return new te(R,R);if(Y(M))return C=se(U(M),C),new te(U(C.g),U(C.h));if(Y(C))return C=se(M,U(C)),new te(U(C.g),C.h);if(30<M.g.length){if(Y(M)||Y(C))throw Error("slowDivide_ only works with positive integers.");for(var b=D,O=C;0>=O.l(M);)b=le(b),O=le(O);var x=ge(b,1),z=ge(O,1);for(O=ge(O,2),b=ge(b,2);!B(O);){var N=z.add(O);0>=N.l(M)&&(x=x.add(b),z=N),O=ge(O,1),b=ge(b,1)}return C=$(M,x.j(C)),new te(x,C)}for(x=R;0<=M.l(C);){for(b=Math.max(1,Math.floor(M.m()/C.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=y(b),N=z.j(C);Y(N)||0<N.l(M);)b-=O,z=y(b),N=z.j(C);B(z)&&(z=D),x=x.add(z),M=$(M,N)}return new te(x,M)}r.A=function(M){return se(this,M).h},r.and=function(M){for(var C=Math.max(this.g.length,M.g.length),b=[],O=0;O<C;O++)b[O]=this.i(O)&M.i(O);return new f(b,this.h&M.h)},r.or=function(M){for(var C=Math.max(this.g.length,M.g.length),b=[],O=0;O<C;O++)b[O]=this.i(O)|M.i(O);return new f(b,this.h|M.h)},r.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),b=[],O=0;O<C;O++)b[O]=this.i(O)^M.i(O);return new f(b,this.h^M.h)};function le(M){for(var C=M.g.length+1,b=[],O=0;O<C;O++)b[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(b,M.h)}function ge(M,C){var b=C>>5;C%=32;for(var O=M.g.length-b,x=[],z=0;z<O;z++)x[z]=0<C?M.i(z+b)>>>C|M.i(z+b+1)<<32-C:M.i(z+b);return new f(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,VE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Wr=f}).apply(typeof K_<"u"?K_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xE,Ao,PE,Ic,Zd,kE,UE,LE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(c,g){if(g)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in _))break e;_=_[j]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,S=!1,j={next:function(){if(!S&&_<c.length){var F=_++;return{value:g(F,c[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}l("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function R(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function D(c,g,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,D.apply(null,arguments)}function V(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function B(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,j,F){for(var ae=Array(arguments.length-2),je=2;je<arguments.length;je++)ae[je-2]=arguments[je];return g.prototype[j].apply(S,ae)}}function Y(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function U(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const j=c.length||0,F=S.length||0;c.length=j+F;for(let ae=0;ae<F;ae++)c[j+ae]=S[ae]}else c.push(S)}}class ${constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var le=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function ge(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function M(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function C(c){const g={};for(const _ in c)g[_]=c[_];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)c[_]=S[_];for(let F=0;F<b.length;F++)_=b[F],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function x(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ht{constructor(){this.h=this.g=null}add(g,_){const S=rt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var rt=new $(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,_e=!1,Ge=new ht,T=()=>{const c=m.Promise.resolve(void 0);Se=()=>{c.then(w)}};var w=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){z(_)}var g=rt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}_e=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function oe(c,g){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(le){e:{try{se(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&oe.aa.h.call(this)}}B(oe,X);var ce={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),he=0;function we(c,g,_,S,j){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=j,this.key=++he,this.da=this.fa=!1}function Ee(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c){this.src=c,this.g={},this.h=0}Me.prototype.add=function(c,g,_,S,j){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var ae=Xe(c,g,S,j);return-1<ae?(g=c[ae],_||(g.fa=!1)):(g=new we(g,this.src,F,!!S,j),g.fa=_,c.push(g)),g};function Qe(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],j=Array.prototype.indexOf.call(S,g,void 0),F;(F=0<=j)&&Array.prototype.splice.call(S,j,1),F&&(Ee(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Xe(c,g,_,S){for(var j=0;j<c.length;++j){var F=c[j];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==S)return j}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),st={};function _t(c,g,_,S,j){if(Array.isArray(g)){for(var F=0;F<g.length;F++)_t(c,g[F],_,S,j);return null}return _=Js(_),c&&c[fe]?c.K(g,_,y(S)?!!S.capture:!1,j):qt(c,g,_,!1,S,j)}function qt(c,g,_,S,j,F){if(!g)throw Error("Invalid event type");var ae=y(j)?!!j.capture:!!j,je=os(c);if(je||(c[Ne]=je=new Me(c)),_=je.add(g,_,S,ae,F),_.proxy)return _;if(S=Zt(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ee||(j=ae),j===void 0&&(j=!1),c.addEventListener(g.toString(),S,j);else if(c.attachEvent)c.attachEvent(lr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Zt(){function c(_){return g.call(c.src,c.listener,_)}const g=ml;return c}function dn(c,g,_,S,j){if(Array.isArray(g))for(var F=0;F<g.length;F++)dn(c,g[F],_,S,j);else S=y(S)?!!S.capture:!!S,_=Js(_),c&&c[fe]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],_=Xe(F,_,S,j),-1<_&&(Ee(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=os(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Xe(g,_,S,j)),(_=-1<c?g[c]:null)&&Pt(_))}function Pt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[fe])Qe(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(lr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=os(g))?(Qe(_,c),_.h==0&&(_.src=null,g[Ne]=null)):Ee(c)}}}function lr(c){return c in st?st[c]:st[c]="on"+c}function ml(c,g){if(c.da)c=!0;else{g=new oe(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Pt(c),c=_.call(S,g)}return c}function os(c){return c=c[Ne],c instanceof Me?c:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Js(c){return typeof c=="function"?c:(c[Ft]||(c[Ft]=function(g){return c.handleEvent(g)}),c[Ft])}function ft(){Z.call(this),this.i=new Me(this),this.M=this,this.F=null}B(ft,Z),ft.prototype[fe]=!0,ft.prototype.removeEventListener=function(c,g,_,S){dn(this,c,g,_,S)};function At(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new X(g,c);else if(g instanceof X)g.target=g.target||c;else{var j=g;g=new X(S,c),O(g,j)}if(j=!0,_)for(var F=_.length-1;0<=F;F--){var ae=g.g=_[F];j=qn(ae,S,!0,g)&&j}if(ae=g.g=c,j=qn(ae,S,!0,g)&&j,j=qn(ae,S,!1,g)&&j,_)for(F=0;F<_.length;F++)ae=g.g=_[F],j=qn(ae,S,!1,g)&&j}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Ee(_[S]);delete c.g[g],c.h--}}this.F=null},ft.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},ft.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function qn(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,F=0;F<g.length;++F){var ae=g[F];if(ae&&!ae.da&&ae.capture==_){var je=ae.listener,It=ae.ha||ae.src;ae.fa&&Qe(c.i,ae),j=je.call(It,S)!==!1&&j}}return j&&!S.defaultPrevented}function us(c,g,_){if(typeof c=="function")_&&(c=D(c,_));else if(c&&typeof c.handleEvent=="function")c=D(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function or(c){c.g=us(()=>{c.g=null,c.i&&(c.i=!1,or(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class cs extends Z{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:or(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(c){Z.call(this),this.h=c,this.g={}}B(wi,Z);var Zn=[];function Jt(c){ge(c.g,function(g,_){this.g.hasOwnProperty(_)&&Pt(g)},c),c.g={}}wi.prototype.N=function(){wi.aa.N.call(this),Jt(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gl=m.JSON.stringify,Jn=m.JSON.parse,ln=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function pl(){}pl.prototype.h=null;function eu(c){return c.h||(c.h=c.i())}function tu(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){X.call(this,"d")}B(ur,X);function Fn(){X.call(this,"c")}B(Fn,X);var Cn={},cr=null;function ea(){return cr=cr||new ft}Cn.La="serverreachability";function yl(c){X.call(this,Cn.La,c)}B(yl,X);function hr(c){const g=ea();At(g,new yl(g))}Cn.STAT_EVENT="statevent";function ta(c,g){X.call(this,Cn.STAT_EVENT,c),this.stat=g}B(ta,X);function vt(c){const g=ea();At(g,new ta(g,c))}Cn.Ma="timingevent";function nu(c,g){X.call(this,Cn.Ma,c),this.size=g}B(nu,X);function fr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function dr(){this.g=!0}dr.prototype.xa=function(){this.g=!1};function iu(c,g,_,S,j,F){c.info(function(){if(c.g)if(F)for(var ae="",je=F.split("&"),It=0;It<je.length;It++){var He=je[It].split("=");if(1<He.length){var Lt=He[0];He=He[1];var Dt=Lt.split("_");ae=2<=Dt.length&&Dt[1]=="type"?ae+(Lt+"="+He+"&"):ae+(Lt+"=redacted&")}}else ae=null;else ae=F;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+_+`
`+ae})}function ru(c,g,_,S,j,F,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+_+`
`+F+" "+ae})}function mr(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+kt(c,_)+(S?" "+S:"")})}function ti(c,g){c.info(function(){return"TIMEOUT: "+g})}dr.prototype.info=function(){};function kt(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return gl(_)}catch{return g}}var Ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hs;function na(){}B(na,pl),na.prototype.g=function(){return new XMLHttpRequest},na.prototype.i=function(){return{}},hs=new na;function ni(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _l}function _l(){this.i=null,this.g="",this.h=!1}var gr={},fs={};function Gn(c,g,_){c.L=1,c.v=gs(dt(g)),c.m=_,c.P=!0,Ci(c,null)}function Ci(c,g){c.F=Date.now(),at(c),c.A=dt(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Oi(_.i,"t",S),c.C=0,_=c.j.J,c.h=new _l,c.g=_u(c.j,_?g:null,!c.m),0<c.O&&(c.M=new cs(D(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Zn[0]=j.toString()),j=Zn);for(var F=0;F<j.length;F++){var ae=_t(_,j[F],S||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),hr(),iu(c.i,c.u,c.A,c.l,c.R,c.m)}ni.prototype.ca=function(c){c=c.target;const g=this.M;g&&Mn(c)==3?g.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Mn(this.g);var g=this.g.Ba();const xi=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||Dt!=4||g==7||(g==8||0>=xi?hr(3):hr(2)),ia(this);var _=this.g.Z();this.X=_;t:if(pr(this)){var S=cu(this.g);c="";var j=S.length,F=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),_n(this);var ae="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(F&&g==j-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,ru(this.i,this.u,this.A,this.l,this.R,Dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,It=this.g;if((je=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(je)){var He=je;break t}}He=null}if(_=He)mr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,_);else{this.o=!1,this.s=3,vt(12),mn(this),_n(this);break e}}if(this.P){_=!0;let Gt;for(;!this.J&&this.C<ae.length;)if(Gt=yr(this,ae),Gt==fs){Dt==4&&(this.s=4,vt(14),_=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==gr){this.s=4,vt(15),mr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else mr(this.i,this.l,Gt,null),vn(this,Gt);if(pr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ae.length!=0||this.h.h||(this.s=1,vt(16),_=!1),this.o=this.o&&_,!_)mr(this.i,this.l,ae,"[Invalid Chunked Response]"),mn(this),_n(this);else if(0<ae.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),As(Lt),Lt.M=!0,vt(11))}}else mr(this.i,this.l,ae,null),vn(this,ae);Dt==4&&mn(this),this.o&&!this.J&&(Dt==4?gu(this.j,this):(this.o=!1,at(this)))}else xh(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),mn(this),_n(this)}}}catch{}finally{}};function pr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yr(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?fs:(_=Number(g.substring(_,S)),isNaN(_)?gr:(S+=1,S+_>g.length?fs:(g=g.slice(S,S+_),c.C=S+_,g)))}ni.prototype.cancel=function(){this.J=!0,mn(this)};function at(c){c.S=Date.now()+c.I,vl(c,c.I)}function vl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fr(D(c.ba,c),g)}function ia(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ni.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ti(this.i,this.A),this.L!=2&&(hr(),vt(17)),mn(this),this.s=2,_n(this)):vl(this,this.S-c)};function _n(c){c.j.G==0||c.J||gu(c.j,c)}function mn(c){ia(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Jt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function vn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||_r(_.h,c))){if(!c.K&&_r(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)da(_),ha(_);else break e;Ol(_),vt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=fr(D(_.Za,_),6e3));if(1>=su(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((c.K||_.g==c)&&da(_),!re(g))for(j=_.Da.g.parse(g),g=0;g<j.length;g++){let He=j[g];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const Lt=He[3];Lt!=null&&(_.la=Lt,_.j.info("VER="+_.la));const Dt=He[4];Dt!=null&&(_.Aa=Dt,_.j.info("SVER="+_.Aa));const xi=He[5];xi!=null&&typeof xi=="number"&&0<xi&&(S=1.5*xi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Gt=c.g;if(Gt){const ui=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var F=S.h;F.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(vr(F,F.h),F.h=null))}if(S.D){const Ml=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(S.ya=Ml,Ke(S.I,S.D,Ml))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=c;if(S.qa=yu(S,S.J?S.ia:null,S.W),ae.K){In(S.h,ae);var je=ae,It=S.L;It&&(je.I=It),je.B&&(ia(je),at(je)),S.g=ae}else du(S);0<_.i.length&&fa(_)}else He[0]!="stop"&&He[0]!="close"||Vi(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Vi(_,7):Il(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}hr(4)}catch{}}var Dh=class{constructor(c,g){this.g=c,this.map=g}};function El(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function su(c){return c.h?1:c.g?c.g.size:0}function _r(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function vr(c,g){c.g?c.g.add(g):c.h=g}function In(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}El.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function on(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return Y(c.i)}function au(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function Oh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function ds(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Oh(c),S=au(c),j=S.length,F=0;F<j;F++)g.call(void 0,S[F],_&&_[F],c)}var Al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),j=null;if(0<=S){var F=c[_].substring(0,S);j=c[_].substring(S+1)}else F=c[_];g(F,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ii){this.h=c.h,Er(this,c.j),this.o=c.o,this.g=c.g,ms(this,c.s),this.l=c.l;var g=c.i,_=new ii;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),sa(this,_),this.m=c.m}else c&&(g=String(c).match(Al))?(this.h=!1,Er(this,g[1]||"",!0),this.o=Tr(g[2]||""),this.g=Tr(g[3]||"",!0),ms(this,g[4]),this.l=Tr(g[5]||"",!0),sa(this,g[6]||"",!0),this.m=Tr(g[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}Ii.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Dn(g,Sl,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Dn(g,Sl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Dn(_,_.charAt(0)=="/"?bl:lu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Dn(_,Vh)),c.join("")};function dt(c){return new Ii(c)}function Er(c,g,_){c.j=_?Tr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ms(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function sa(c,g,_){g instanceof ii?(c.i=g,wl(c.i,c.h)):(_||(g=Dn(g,Mh)),c.i=new ii(g,c.h))}function Ke(c,g,_){c.i.set(g,_)}function gs(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dn(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Nh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sl=/[#\/\?@]/g,lu=/[#\?:]/g,bl=/[#\?]/g,Mh=/[#\?@]/g,Vh=/#/g;function ii(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&ra(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=ii.prototype,r.add=function(c,g){On(this),this.i=null,c=Ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function aa(c,g){On(c),g=Ni(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Di(c,g){return On(c),g=Ni(c,g),c.g.has(g)}r.forEach=function(c,g){On(this),this.g.forEach(function(_,S){_.forEach(function(j){c.call(g,j,S,this)},this)},this)},r.na=function(){On(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const j=c[S];for(let F=0;F<j.length;F++)_.push(g[S])}return _},r.V=function(c){On(this);let g=[];if(typeof c=="string")Di(this,c)&&(g=g.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return On(this),this.i=null,c=Ni(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Oi(c,g,_){aa(c,g),0<_.length&&(c.i=null,c.g.set(Ni(c,g),Y(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const F=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var j=F;ae[S]!==""&&(j+="="+encodeURIComponent(String(ae[S]))),c.push(j)}}return this.i=c.join("&")};function Ni(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function wl(c,g){g&&!c.j&&(On(c),c.i=null,c.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(aa(this,S),Oi(this,j,_))},c)),c.j=g}function ou(c,g){const _=new dr;if(m.Image){const S=new Image;S.onload=V(Nn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=V(Nn,_,"TestLoadImage: error",!1,g,S),S.onabort=V(Nn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=V(Nn,_,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function ps(c,g){const _=new dr,S=new AbortController,j=setTimeout(()=>{S.abort(),Nn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(j),F.ok?Nn(_,"TestPingServer: ok",!0,g):Nn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Nn(_,"TestPingServer: error",!1,g)})}function Nn(c,g,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function ys(){this.g=new ln}function ri(c,g,_){const S=_||"";try{ds(c,function(j,F){let ae=j;y(j)&&(ae=gl(j)),g.push(S+F+"="+encodeURIComponent(ae))})}catch(j){throw g.push(S+"type="+encodeURIComponent("_badmap")),j}}function Ar(c){this.l=c.Ub||null,this.j=c.eb||!1}B(Ar,pl),Ar.prototype.g=function(){return new Mi(this.l,this.j)},Ar.prototype.i=function(c){return function(){return c}}({});function Mi(c,g){ft.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Mi,ft),r=Mi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ai(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?si(this):ai(this),this.readyState==3&&Rl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},r.Qa=function(c){this.g&&(this.response=c,si(this))},r.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ai(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cl(c){let g="";return ge(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function Ut(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Cl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,g,_))}function We(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(We,ft);var la=/^https?$/i,_s=["POST","PUT"];r=We.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hs.g(),this.v=this.o?eu(this.o):eu(hs),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){uu(this,F);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(_s,g,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ae]of _)this.g.setRequestHeader(F,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){uu(this,F)}};function uu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,oa(c),li(c)}function oa(c){c.A||(c.A=!0,At(c,"complete"),At(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,At(this,"complete"),At(this,"abort"),li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),We.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},r.bb=function(){ua(this)};function ua(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)us(c.Ea,0,c);else if(At(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=ae===0){var j=String(c.D).match(Al)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!la.test(j?j.toLowerCase():"")}_=S}if(_)At(c,"complete"),At(c,"success");else{c.m=6;try{var F=2<Mn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",oa(c)}}finally{li(c)}}}}function li(c,g){if(c.g){vs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||At(c,"ready");try{_.onreadystatechange=S}catch{}}}function vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Jn(g)}};function cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xh(c){const g={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(re(c[S]))continue;var _=x(c[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[j]||[];g[j]=F,F.push(_)}M(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ca(c){this.Aa=0,this.i=[],this.j=new dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Es("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Es("baseRetryDelayMs",5e3,c),this.cb=Es("retryDelaySeedMs",1e4,c),this.Wa=Es("forwardChannelMaxRetries",2,c),this.wa=Es("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new El(c&&c.concurrentRequestLimit),this.Da=new ys,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ca.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,S){vt(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=yu(this,null,this.W),fa(this)};function Il(c){if(hu(c),c.G==3){var g=c.U++,_=dt(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",g),Ke(_,"TYPE","terminate"),Ts(c,_),g=new ni(c,c.j,g),g.L=2,g.v=gs(dt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=_u(g.j,null),g.g.ea(g.v)),g.F=Date.now(),at(g)}pu(c)}function ha(c){c.g&&(As(c),c.g.cancel(),c.g=null)}function hu(c){ha(c),c.u&&(m.clearTimeout(c.u),c.u=null),da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function fa(c){if(!Tl(c.h)&&!c.s){c.s=!0;var g=c.Ga;Se||T(),_e||(Se(),_e=!0),Ge.add(g,c),c.B=0}}function Ph(c,g){return su(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fr(D(c.Ga,c,g),Nl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ni(this,this.j,c);let F=this.o;if(this.S&&(F?(F=C(F),O(F,this.S)):F=this.S),this.m!==null||this.O||(j.H=F,F=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=fu(this,j,g),_=dt(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),Ts(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(Cl(F)))+"&"+g:this.m&&Ut(_,this.m,F)),vr(this.h,j),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",g),Ke(_,"SID","null"),j.T=!0,Gn(j,_,null)):Gn(j,_,g),this.G=2}}else this.G==3&&(c?Dl(this,c):this.i.length==0||Tl(this.h)||Dl(this))};function Dl(c,g){var _;g?_=g.l:_=c.U++;const S=dt(c.I);Ke(S,"SID",c.K),Ke(S,"RID",_),Ke(S,"AID",c.T),Ts(c,S),c.m&&c.o&&Ut(S,c.m,c.o),_=new ni(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=fu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vr(c.h,_),Gn(_,S,g)}function Ts(c,g){c.H&&ge(c.H,function(_,S){Ke(g,S,_)}),c.l&&ds({},function(_,S){Ke(g,S,_)})}function fu(c,g,_){_=Math.min(c.i.length,_);var S=c.l?D(c.l.Na,c.l,c):null;e:{var j=c.i;let F=-1;for(;;){const ae=["count="+_];F==-1?0<_?(F=j[0].g,ae.push("ofs="+F)):F=0:ae.push("ofs="+F);let je=!0;for(let It=0;It<_;It++){let He=j[It].g;const Lt=j[It].map;if(He-=F,0>He)F=Math.max(0,j[It].g-100),je=!1;else try{ri(Lt,ae,"req"+He+"_")}catch{S&&S(Lt)}}if(je){S=ae.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function du(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Se||T(),_e||(Se(),_e=!0),Ge.add(g,c),c.v=0}}function Ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fr(D(c.Fa,c),Nl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fr(D(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),ha(this),mu(this))};function As(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function mu(c){c.g=new ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=dt(c.qa);Ke(g,"RID","rpc"),Ke(g,"SID",c.K),Ke(g,"AID",c.T),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(g,"TO",c.ja),Ke(g,"TYPE","xmlhttp"),Ts(c,g),c.m&&c.o&&Ut(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=gs(dt(g)),_.m=null,_.P=!0,Ci(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ha(this),Ol(this),vt(19))};function da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function gu(c,g){var _=null;if(c.g==g){da(c),As(c),c.g=null;var S=2}else if(_r(c.h,g))_=g.D,In(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;S=ea(),At(S,new nu(S,_)),fa(c)}else du(c);else if(j=g.s,j==3||j==0&&0<g.X||!(S==1&&Ph(c,g)||S==2&&Ol(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),j){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Nl(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Vi(c,g){if(c.j.info("Error code "+g),g==2){var _=D(c.fb,c),S=c.Xa;const j=!S;S=new Ii(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Er(S,"https"),gs(S),j?ou(S.toString(),_):ps(S.toString(),_)}else vt(2);c.G=0,c.l&&c.l.sa(g),pu(c),hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function pu(c){if(c.G=0,c.ka=[],c.l){const g=on(c.h);(g.length!=0||c.i.length!=0)&&(U(c.ka,g),U(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function yu(c,g,_){var S=_ instanceof Ii?dt(_):new Ii(_);if(S.g!="")g&&(S.g=g+"."+S.g),ms(S,S.s);else{var j=m.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var F=new Ii(null);S&&Er(F,S),g&&(F.g=g),j&&ms(F,j),_&&(F.l=_),S=F}return _=c.D,g=c.ya,_&&g&&Ke(S,_,g),Ke(S,"VER",c.la),Ts(c,S),S}function _u(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new We(new Ar({eb:_})):new We(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ma(){}ma.prototype.g=function(c,g){return new un(c,g)};function un(c,g){ft.call(this),this.g=new ca(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!re(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new oi(this)}B(un,ft),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Il(this.g)},un.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=gl(c),c=_);g.i.push(new Dh(g.Ya++,c)),g.G==3&&fa(g)},un.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,un.aa.N.call(this)};function Eu(c){ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}B(Eu,ur);function Tu(){Fn.call(this),this.status=1}B(Tu,Fn);function oi(c){this.g=c}B(oi,vu),oi.prototype.ua=function(){At(this.g,"a")},oi.prototype.ta=function(c){At(this.g,new Eu(c))},oi.prototype.sa=function(c){At(this.g,new Tu)},oi.prototype.ra=function(){At(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,LE=function(){return new ma},UE=function(){return ea()},kE=Cn,Zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ct.NO_ERROR=0,Ct.TIMEOUT=8,Ct.HTTP_ERROR=6,Ic=Ct,Ri.COMPLETE="complete",PE=Ri,tu.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ao=tu,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,xE=We}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore",$_="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Rm("@firebase/firestore");function qa(){return Qs.logLevel}function de(r,...e){if(Qs.logLevel<=Ue.DEBUG){const n=e.map(Dm);Qs.debug(`Firestore (${ul}): ${r}`,...n)}}function nr(r,...e){if(Qs.logLevel<=Ue.ERROR){const n=e.map(Dm);Qs.error(`Firestore (${ul}): ${r}`,...n)}}function Za(r,...e){if(Qs.logLevel<=Ue.WARN){const n=e.map(Dm);Qs.warn(`Firestore (${ul}): ${r}`,...n)}}function Dm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r="Unexpected state"){const e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+r;throw nr(e),new Error(e)}function Ze(r,e){r||Re()}function Oe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class NR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MR{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string"),new zE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new rn(e)}}class VR{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class xR{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new VR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const l=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new X_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new X_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=kR(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function em(r,e){const n=Jd().encode(r),s=Jd().encode(e);for(let l=0;l<Math.min(n.length,s.length);l++){const u=Le(n[l],s[l]);if(u!==0)return u}return Le(n.length,s.length)}function Ja(r,e,n){return r.length===e.length&&r.every((s,l)=>n(s,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=-62135596800,Z_=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Z_);return new Vt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<W_)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-W_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Vt(0,0))}static max(){return new Ie(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__name__";class gi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Re(),s===void 0?s=e.length-n:s>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=gi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=gi.isNumericId(e),l=gi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?gi.extractNumericId(e).compare(gi.extractNumericId(n)):em(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class yt extends gi{construct(e,n,s){return new yt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Te(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends gi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new Xt([J_])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new Te(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new Te(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new Te(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(yt.fromString(e))}static fromName(e){return new Ae(yt.fromString(e).popFirst(5))}static empty(){return new Ae(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=-1;function LR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(s===1e9?new Vt(n+1,0):new Vt(n,s));return new es(l,Ae.empty(),e)}function zR(r){return new es(r.readTime,r.key,Vo)}class es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new es(Ie.min(),Ae.empty(),Vo)}static max(){return new es(Ie.max(),Ae.empty(),Vo)}}function BR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==jR)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let l=0,u=0,f=!1;e.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&n()},p=>s(p))}),f=!0,u===l&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(l=>l?J.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,u)=>{s.push(n.call(this,l,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,l)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>l(E))}})}static doWhile(e,n){return new J((s,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):s()};u()})}}function qR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=-1;function oh(r){return r==null}function jc(r){return r===0&&1/r==-1/0}function FR(r){return typeof r=="number"&&Number.isInteger(r)&&!jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="";function GR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=ev(e)),e=QR(r.get(n),e);return ev(e)}function QR(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case jE:n+="";break;default:n+=u}}return n}function ev(r){return r+jE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function as(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function HE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=l??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new $t(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return $t.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,s,l,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(e){return new nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new xt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new qE("Invalid base64 string: "+u):u}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Ze(!!r),typeof r=="string"){let e=0;const n=KR.exec(r);if(Ze(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="server_timestamp",GE="__type__",QE="__previous_value__",KE="__local_write_time__";function Nm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[GE])===null||n===void 0?void 0:n.stringValue)===FE}function uh(r){const e=r.mapValue.fields[QE];return Nm(e)?uh(e):e}function xo(r){const e=ts(r.mapValue.fields[KE].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,s,l,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Hc="(default)";class Po{constructor(e,n){this.projectId=e,this.database=n||Hc}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="__type__",$R="__max__",Ac={mapValue:{}},$E="__vector__",qc="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nm(r)?4:WR(r)?9007199254740991:XR(r)?10:11:Re()}function Ti(r,e){if(r===e)return!0;const n=is(r);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xo(r).isEqual(xo(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=ts(l.timestampValue),m=ts(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,u){return ns(l.bytesValue).isEqual(ns(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,u){return Tt(l.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(l.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(r,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Tt(l.integerValue)===Tt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Tt(l.doubleValue),m=Tt(u.doubleValue);return f===m?jc(f)===jc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ja(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(tv(f)!==tv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ti(f[p],m[p])))return!1;return!0}(r,e);default:return Re()}}function ko(r,e){return(r.values||[]).find(n=>Ti(n,e))!==void 0}function el(r,e){if(r===e)return 0;const n=is(r),s=is(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Tt(u.integerValue||u.doubleValue),p=Tt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return iv(r.timestampValue,e.timestampValue);case 4:return iv(xo(r),xo(e));case 5:return em(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ns(u),p=ns(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Le(m[y],p[y]);if(E!==0)return E}return Le(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Le(Tt(u.latitude),Tt(f.latitude));return m!==0?m:Le(Tt(u.longitude),Tt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return rv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const R=u.fields||{},D=f.fields||{},V=(m=R[qc])===null||m===void 0?void 0:m.arrayValue,B=(p=D[qc])===null||p===void 0?void 0:p.arrayValue,Y=Le(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((E=B==null?void 0:B.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:rv(V,B)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Ac.mapValue&&f===Ac.mapValue)return 0;if(u===Ac.mapValue)return 1;if(f===Ac.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let R=0;R<p.length&&R<E.length;++R){const D=em(p[R],E[R]);if(D!==0)return D;const V=el(m[p[R]],y[E[R]]);if(V!==0)return V}return Le(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Re()}}function iv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=ts(r),s=ts(e),l=Le(n.seconds,s.seconds);return l!==0?l:Le(n.nanos,s.nanos)}function rv(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=el(n[l],s[l]);if(u)return u}return Le(n.length,s.length)}function tl(r){return tm(r)}function tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ns(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ae.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=tm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${tm(n.fields[f])}`;return l+"}"}(r.mapValue):Re()}function Dc(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uh(r);return e?16+Dc(e):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,u)=>l+Dc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return as(s.fields,(u,f)=>{l+=u.length+Dc(f)}),l}(r.mapValue);default:throw Re()}}function nm(r){return!!r&&"integerValue"in r}function Mm(r){return!!r&&"arrayValue"in r}function sv(r){return!!r&&"nullValue"in r}function av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oc(r){return!!r&&"mapValue"in r}function XR(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[YE])===null||n===void 0?void 0:n.stringValue)===$E}function Ro(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return as(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ro(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ro(r.arrayValue.values[n]);return e}return Object.assign({},r)}function WR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$R}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ro(n)}setAll(e){let n=Xt.emptyPath(),s={},l=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=m.popLast()}f?s[m.lastSegment()]=Ro(f):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){as(n,(l,u)=>e[l]=u);for(const l of s)delete e[l]}clone(){return new yn(Ro(this.value))}}function XE(r){const e=[];return as(r.fields,(n,s)=>{const l=new Xt([n]);if(Oc(s)){const u=XE(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,s,l,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Ie.min(),Ie.min(),Ie.min(),yn.empty(),0)}static newFoundDocument(e,n,s,l){return new sn(e,1,n,Ie.min(),s,l,0)}static newNoDocument(e,n){return new sn(e,2,n,Ie.min(),Ie.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ie.min(),Ie.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.position=e,this.inclusive=n}}function lv(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(f.referenceValue),n.key):s=el(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ov(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ti(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{}class Mt extends WE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new e1(e,n,s):n==="array-contains"?new i1(e,s):n==="in"?new r1(e,s):n==="not-in"?new s1(e,s):n==="array-contains-any"?new a1(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new t1(e,s):new n1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(el(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends WE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ai(e,n)}matches(e){return ZE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ZE(r){return r.op==="and"}function JE(r){return JR(r)&&ZE(r)}function JR(r){for(const e of r.filters)if(e instanceof Ai)return!1;return!0}function im(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(JE(r))return r.filters.map(e=>im(e)).join(",");{const e=r.filters.map(n=>im(n)).join(",");return`${r.op}(${e})`}}function eT(r,e){return r instanceof Mt?function(s,l){return l instanceof Mt&&s.op===l.op&&s.field.isEqual(l.field)&&Ti(s.value,l.value)}(r,e):r instanceof Ai?function(s,l){return l instanceof Ai&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((u,f,m)=>u&&eT(f,l.filters[m]),!0):!1}(r,e):void Re()}function tT(r){return r instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${tl(n.value)}`}(r):r instanceof Ai?function(n){return n.op.toString()+" {"+n.getFilters().map(tT).join(" ,")+"}"}(r):"Filter"}class e1 extends Mt{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class t1 extends Mt{constructor(e,n){super(e,"in",n),this.keys=nT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class n1 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=nT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ae.fromName(s.referenceValue))}class i1 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mm(n)&&ko(n.arrayValue,this.value)}}class r1 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ko(this.value.arrayValue,n)}}class s1 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ko(this.value.arrayValue,n)}}class a1 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ko(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n=null,s=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function uv(r,e=null,n=[],s=[],l=null,u=null,f=null){return new l1(r,e,n,s,l,u,f)}function Vm(r){const e=Oe(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>im(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>tl(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>tl(s)).join(",")),e.le=n}return e.le}function xm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ZR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ov(r.startAt,e.startAt)&&ov(r.endAt,e.endAt)}function rm(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n=null,s=[],l=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function o1(r,e,n,s,l,u,f,m){return new ch(r,e,n,s,l,u,f,m)}function Pm(r){return new ch(r)}function cv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function u1(r){return r.collectionGroup!==null}function Co(r){const e=Oe(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Xt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Gc(u,s))}),n.has(Xt.keyField().canonicalString())||e.he.push(new Gc(Xt.keyField(),s))}return e.he}function pi(r){const e=Oe(r);return e.Pe||(e.Pe=c1(e,Co(r))),e.Pe}function c1(r,e){if(r.limitType==="F")return uv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new Gc(l.field,u)});const n=r.endAt?new Fc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fc(r.startAt.position,r.startAt.inclusive):null;return uv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function sm(r,e,n){return new ch(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function hh(r,e){return xm(pi(r),pi(e))&&r.limitType===e.limitType}function iT(r){return`${Vm(pi(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>tT(l)).join(", ")}]`),oh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>tl(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>tl(l)).join(",")),`Target(${s})`}(pi(r))}; limitType=${r.limitType})`}function fh(r,e){return e.isFoundDocument()&&function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,l){for(const u of Co(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(r,e)&&function(s,l){return!(s.startAt&&!function(f,m,p){const y=lv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Co(s),l)||s.endAt&&!function(f,m,p){const y=lv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Co(s),l))}(r,e)}function h1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rT(r){return(e,n)=>{let s=!1;for(const l of Co(r)){const u=f1(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function f1(r,e,n){const s=r.field.isKeyField()?Ae.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?el(p,y):Re()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,s)=>{for(const[l,u]of s)e(l,u)})}isEmpty(){return HE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new ct(Ae.comparator);function ir(){return d1}const sT=new ct(Ae.comparator);function So(...r){let e=sT;for(const n of r)e=e.insert(n.key,n);return e}function aT(r){let e=sT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Hs(){return Io()}function lT(){return Io()}function Io(){return new Ws(r=>r.toString(),(r,e)=>r.isEqual(e))}const m1=new ct(Ae.comparator),g1=new xt(Ae.comparator);function ze(...r){let e=g1;for(const n of r)e=e.add(n);return e}const p1=new xt(Le);function y1(){return p1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function oT(r){return{integerValue:""+r}}function _1(r,e){return FR(e)?oT(e):km(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function v1(r,e,n){return r instanceof Qc?function(l,u){const f={fields:{[GE]:{stringValue:FE},[KE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Nm(u)&&(u=uh(u)),u&&(f.fields[QE]=u),{mapValue:f}}(n,e):r instanceof Uo?cT(r,e):r instanceof Lo?hT(r,e):function(l,u){const f=uT(l,u),m=hv(f)+hv(l.Ie);return nm(f)&&nm(l.Ie)?oT(m):km(l.serializer,m)}(r,e)}function E1(r,e,n){return r instanceof Uo?cT(r,e):r instanceof Lo?hT(r,e):n}function uT(r,e){return r instanceof Kc?function(s){return nm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Qc extends dh{}class Uo extends dh{constructor(e){super(),this.elements=e}}function cT(r,e){const n=fT(e);for(const s of r.elements)n.some(l=>Ti(l,s))||n.push(s);return{arrayValue:{values:n}}}class Lo extends dh{constructor(e){super(),this.elements=e}}function hT(r,e){let n=fT(e);for(const s of r.elements)n=n.filter(l=>!Ti(l,s));return{arrayValue:{values:n}}}class Kc extends dh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function hv(r){return Tt(r.integerValue||r.doubleValue)}function fT(r){return Mm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function T1(r,e){return r.field.isEqual(e.field)&&function(s,l){return s instanceof Uo&&l instanceof Uo||s instanceof Lo&&l instanceof Lo?Ja(s.elements,l.elements,Ti):s instanceof Kc&&l instanceof Kc?Ti(s.Ie,l.Ie):s instanceof Qc&&l instanceof Qc}(r.transform,e.transform)}class A1{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mh{}function dT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gT(r.key,yi.none()):new Qo(r.key,r.data,yi.none());{const n=r.data,s=yn.empty();let l=new xt(Xt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new ls(r.key,s,new wn(l.toArray()),yi.none())}}function S1(r,e,n){r instanceof Qo?function(l,u,f){const m=l.value.clone(),p=dv(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ls?function(l,u,f){if(!Nc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=dv(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(mT(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Do(r,e,n,s){return r instanceof Qo?function(u,f,m,p){if(!Nc(u.precondition,f))return m;const y=u.value.clone(),E=mv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof ls?function(u,f,m,p){if(!Nc(u.precondition,f))return m;const y=mv(u.fieldTransforms,p,f),E=f.data;return E.setAll(mT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(r,e,n,s):function(u,f,m){return Nc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function b1(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=uT(s.transform,l||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function fv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ja(s,l,(u,f)=>T1(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Qo extends mh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ls extends mh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function dv(r,e,n){const s=new Map;Ze(r.length===n.length);for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,m=e.data.field(u.field);s.set(u.field,E1(f,m,n[l]))}return s}function mv(r,e,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,v1(u,f,e))}return s}class gT extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w1 extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&S1(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Do(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Do(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lT();return this.mutations.forEach(l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const p=dT(f,m);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,s)=>fv(n,s))&&Ja(this.baseMutations,e.baseMutations,(n,s)=>fv(n,s))}}class Um{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ze(e.mutations.length===s.length);let l=function(){return m1}();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new Um(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Fe;function D1(r){switch(r){case ie.OK:return Re();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Re()}}function pT(r){if(r===void 0)return nr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Rt.OK:return ie.OK;case Rt.CANCELLED:return ie.CANCELLED;case Rt.UNKNOWN:return ie.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ie.INTERNAL;case Rt.UNAVAILABLE:return ie.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ie.NOT_FOUND;case Rt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Rt.ABORTED:return ie.ABORTED;case Rt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Rt.DATA_LOSS:return ie.DATA_LOSS;default:return Re()}}(Fe=Rt||(Rt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Wr([4294967295,4294967295],0);function gv(r){const e=Jd().encode(r),n=new VE;return n.update(e),new Uint8Array(n.digest())}function pv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wr([n,s],0),new Wr([l,u],0)]}class Lm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(s<0)throw new bo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Wr.fromNumber(this.Ee)}Ae(e,n,s){let l=e.add(n.multiply(Wr.fromNumber(s)));return l.compare(O1)===1&&(l=new Wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=gv(e),[s,l]=pv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,l,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Lm(u,l,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=gv(e),[s,l]=pv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,l,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new gh(Ie.min(),l,new ct(Le),ir(),ze())}}class Ko{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ko(s,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,s,l){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=l}}class yT{constructor(e,n){this.targetId=e,this.ge=n}}class _T{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class yv{constructor(){this.pe=0,this.ye=_v(),this.we=Wt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ze(),n=ze(),s=ze();return this.ye.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Re()}}),new Ko(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=_v()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class N1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ir(),this.$e=Sc(),this.Ue=Sc(),this.Ke=new ct(Le)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,s=e.ge.count,l=this.Xe(n);if(l){const u=l.target;if(rm(u))if(s===0){const f=new Ae(u.path);this.ze(n,f,sn.newNoDocument(f,Ie.min()))}else Ze(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=ns(s).toUint8Array()}catch(p){if(p instanceof qE)return Za("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lm(f,l,u)}catch(p){return Za(p instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let l=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&rm(m.target)){const p=new Ae(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,sn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=ze();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const l=new gh(e,n,this.Ke,this.Qe,s);return this.Qe=ir(),this.$e=Sc(),this.Ue=Sc(),this.Ke=new ct(Le),l}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new yv,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new xt(Le),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new xt(Le),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new yv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Sc(){return new ct(Ae.comparator)}function _v(){return new ct(Ae.comparator)}const M1={asc:"ASCENDING",desc:"DESCENDING"},V1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x1={and:"AND",or:"OR"};class P1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function am(r,e){return r.useProto3Json||oh(e)?e:{value:e}}function Yc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function k1(r,e){return Yc(r,e.toTimestamp())}function _i(r){return Ze(!!r),Ie.fromTimestamp(function(n){const s=ts(n);return new Vt(s.seconds,s.nanos)}(r))}function zm(r,e){return lm(r,e).canonicalString()}function lm(r,e){const n=function(l){return new yt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?n:n.child(e)}function ET(r){const e=yt.fromString(r);return Ze(wT(e)),e}function om(r,e){return zm(r.databaseId,e.path)}function zd(r,e){const n=ET(e);if(n.get(1)!==r.databaseId.projectId)throw new Te(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Te(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ae(AT(n))}function TT(r,e){return zm(r.databaseId,e)}function U1(r){const e=ET(r);return e.length===4?yt.emptyPath():AT(e)}function um(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function AT(r){return Ze(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function vv(r,e,n){return{name:om(r,e),fields:n.value.mapValue.fields}}function L1(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ze(E===void 0||typeof E=="string"),Wt.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Wt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ie.UNKNOWN:pT(y.code);return new Te(E,y.message||"")}(f);n=new _T(s,l,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=zd(r,s.document.name),u=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):Ie.min(),m=new yn({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(l,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Mc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=zd(r,s.document),u=s.readTime?_i(s.readTime):Ie.min(),f=sn.newNoDocument(l,u),m=s.removedTargetIds||[];n=new Mc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=zd(r,s.document),u=s.removedTargetIds||[];n=new Mc([],u,l,null)}else{if(!("filter"in e))return Re();{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new I1(l,u),m=s.targetId;n=new yT(m,f)}}return n}function z1(r,e){let n;if(e instanceof Qo)n={update:vv(r,e.key,e.value)};else if(e instanceof gT)n={delete:om(r,e.key)};else if(e instanceof ls)n={update:vv(r,e.key,e.data),updateMask:Y1(e.fieldMask)};else{if(!(e instanceof w1))return Re();n={verify:om(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Qc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Uo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Lo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Re()}(0,s))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:k1(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re()}(r,e.precondition)),n}function B1(r,e){return r&&r.length>0?(Ze(e!==void 0),r.map(n=>function(l,u){let f=l.updateTime?_i(l.updateTime):_i(u);return f.isEqual(Ie.min())&&(f=_i(u)),new A1(f,l.transformResults||[])}(n,e))):[]}function j1(r,e){return{documents:[TT(r,e.path)]}}function H1(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=TT(r,l);const u=function(y){if(y.length!==0)return bT(Ai.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(D){return{field:Ga(D.field),direction:G1(D.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=am(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:l}}function q1(r){let e=U1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ze(s===1);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(R){const D=ST(R);return D instanceof Ai&&JE(D)?D.getFilters():[D]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(D=>function(B){return new Gc(Qa(B.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(D))}(n.orderBy));let m=null;n.limit&&(m=function(R){let D;return D=typeof R=="object"?R.value:R,oh(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(R){const D=!!R.before,V=R.values||[];return new Fc(V,D)}(n.startAt));let y=null;return n.endAt&&(y=function(R){const D=!R.before,V=R.values||[];return new Fc(V,D)}(n.endAt)),o1(e,l,f,u,m,"F",p,y)}function F1(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Qa(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(n.unaryFilter.field);return Mt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qa(n.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(r):r.fieldFilter!==void 0?function(n){return Mt.create(Qa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ai.create(n.compositeFilter.filters.map(s=>ST(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(r):Re()}function G1(r){return M1[r]}function Q1(r){return V1[r]}function K1(r){return x1[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Xt.fromServerFormat(r.fieldPath)}function bT(r){return r instanceof Mt?function(n){if(n.op==="=="){if(av(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(sv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(av(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(sv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:Q1(n.op),value:n.value}}}(r):r instanceof Ai?function(n){const s=n.getFilters().map(l=>bT(l));return s.length===1?s[0]:{compositeFilter:{op:K1(n.op),filters:s}}}(r):Re()}function Y1(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,s,l,u=Ie.min(),f=Ie.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.Tt=e}}function X1(r){const e=q1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.Tn=new Z1}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(es.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class Z1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new xt(yt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new xt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RT=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(RT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new nl(0)}static Kn(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="LruGarbageCollector",J1=1048576;function Av([r,e],[n,s]){const l=Le(r,n);return l===0?Le(e,s):l}class eC{constructor(e){this.Hn=e,this.buffer=new xt(Av),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Av(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(Tv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hl(n)?de(Tv,"Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.er(3e5)})}}class nC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(lh.ae);const s=new eC(n);return this.tr.forEachTarget(e,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Ev)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,l,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,f=Date.now(),this.nthSequenceNumber(e,l))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(u=R,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(y=Date.now(),qa()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${R} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:R})))}}function iC(r,e){return new nC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(s!==null&&Do(s.mutation,l,wn.empty(),Vt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ze()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ze()){const l=Hs();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(u=>{let f=So();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Hs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ze()))}populateOverlays(e,n,s){const l=[];return s.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,l){let u=ir();const f=Io(),m=function(){return Io()}();return n.forEach((p,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof ls)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Do(E.mutation,y,E.mutation.getFieldMask(),Vt.now())):f.set(y.key,wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var R;return m.set(y,new sC(E,(R=f.get(y))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Io();let l=new ct((f,m)=>f-m),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||wn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const R=(l.get(m.batchId)||ze()).add(p);l=l.insert(m.batchId,R)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,R=lT();E.forEach(D=>{if(!u.has(D)){const V=dT(n.get(D),s.get(D));V!==null&&R.set(D,V),u=u.add(D)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,R))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):u1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):J.resolve(Hs());let m=Vo,p=u;return f.next(y=>J.forEach(y,(E,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(D=>{p=p.insert(E,D)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,ze())).next(E=>({batchId:m,changes:aT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(s=>{let l=So();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=So();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const y=function(R,D){return new ch(D,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next(E=>{E.forEach((R,D)=>{f=f.insert(R,D)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))});let m=So();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Do(E.mutation,y,wn.empty(),Vt.now()),fh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:_i(l.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:X1(l.bundledQuery),readTime:_i(l.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.overlays=new ct(Ae.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Hs();return J.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const l=Hs(),u=n.length+1,f=new Ae(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return J.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ct((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Hs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Hs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return J.resolve(m)}Et(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new C1(n,s));let u=this.Rr.get(n);u===void 0&&(u=ze(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.Vr=new xt(Ht.mr),this.gr=new xt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ht(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new Ae(new yt([])),s=new Ht(n,e),l=new Ht(n,e+1),u=[];return this.gr.forEachInRange([s,l],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ae(new yt([])),s=new Ht(n,e),l=new Ht(n,e+1);let u=ze();return this.gr.forEachInRange([s,l],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ht(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ae.comparator(e.key,n.key)||Le(e.Cr,n.Cr)}static pr(e,n){return Le(e.Cr,n.Cr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new xt(Ht.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new R1(u,n,s,l);this.mutationQueue.push(f);for(const m of l)this.Mr=this.Mr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.Nr(s),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Om:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),l=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,l],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Le);return n.forEach(l=>{const u=new Ht(l,0),f=new Ht(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const f=new Ht(new Ae(u),0);let m=new xt(Le);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const l=this.Or(s);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){Ze(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,l=>{const u=new Ht(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ht(n,0),l=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.kr=e,this.docs=function(){return new ct(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=ir();return n.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():sn.newInvalidDocument(l))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=ir();const f=n.path,m=new Ae(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||BR(zR(E),s)<=0||(l.has(E.key)||fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,l){Re()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new fC(this)}getSize(e){return J.resolve(this.size)}}class fC extends rC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.persistence=e,this.Qr=new Ws(n=>Vm(n),xm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Bm,this.targetCount=0,this.Kr=nl.Un()}forEachTarget(e,n){return this.Qr.forEach((s,l)=>n(l)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),J.waitFor(u).next(()=>l)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new lh(0),this.zr=!1,this.zr=!0,this.jr=new uC,this.referenceDelegate=e(this),this.Hr=new dC(this),this.indexManager=new W1,this.remoteDocumentCache=function(l){return new hC(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new $1(n),this.Yr=new lC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new cC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const l=new mC(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class mC extends HR{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.ti=new Bm,this.ni=null}static ri(e){return new jm(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const l=Ae.fromPath(s);return this.si(e,l).next(u=>{u||n.removeEntry(l,Ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class $c{constructor(e,n){this.persistence=e,this.oi=new Ws(s=>GR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=iC(this,n)}static ri(e,n){return new $c(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,l)=>this.ar(e,s,l).next(u=>u?J.resolve():n(l)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ie.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dc(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=l}static Yi(e,n){let s=ze(),l=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Hm(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return fw()?8:qR(an())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,l,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new gC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,l){return s.documentReadCount<this.es?(qa()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(qa()<=Ue.DEBUG&&de("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(qa()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):J.resolve())}rs(e,n){if(cv(n))return J.resolve(null);let s=pi(n);return this.indexManager.getIndexType(e,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=sm(n,null,"F"),s=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ze(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,sm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,l){return cv(n)||l.isEqual(Ie.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,l)?J.resolve(null):(qa()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(n)),this.hs(e,f,n,LR(l,Vo)).next(m=>m))})}cs(e,n){let s=new xt(rT(e));return n.forEach((l,u)=>{fh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(e,n,s){return qa()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ns.getDocumentsMatchingQuery(e,n,es.min(),s)}hs(e,n,s,l){return this.ns.getDocumentsMatchingQuery(e,s,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LocalStore",yC=3e8;class _C{constructor(e,n,s,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new ct(Le),this.Is=new Ws(u=>Vm(u),xm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function vC(r,e,n,s){return new _C(r,e,n,s)}async function IT(r,e){const n=Oe(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ze();for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function EC(r,e){const n=Oe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const R=y.batch,D=R.keys();let V=J.resolve();return D.forEach(B=>{V=V.next(()=>E.getEntry(p,B)).next(Y=>{const U=y.docVersions.get(B);Ze(U!==null),Y.version.compareTo(U)<0&&(R.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,R))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ze();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}function DT(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function TC(r,e){const n=Oe(r),s=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];e.targetChanges.forEach((E,R)=>{const D=l.get(R);if(!D)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,R).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,R)));let V=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?V=V.withResumeToken(Wt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),l=l.insert(R,V),function(Y,U,$){return Y.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=yC?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(D,V,E)&&m.push(n.Hr.updateTargetData(u,V))});let p=ir(),y=ze();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(AC(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Ie.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(R=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=l,u))}function AC(r,e,n){let s=ze(),l=ze();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ir();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(qm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:l}})}function SC(r,e){const n=Oe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Om),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bC(r,e){const n=Oe(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Hr.getTargetData(s,e).next(u=>u?(l=u,J.resolve(l)):n.Hr.allocateTargetId(s).next(f=>(l=new Kr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function cm(r,e,n){const s=Oe(r),l=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!hl(f))throw f;de(qm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(l.target)}function Sv(r,e,n){const s=Oe(r);let l=Ie.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const R=Oe(p),D=R.Is.get(E);return D!==void 0?J.resolve(R.Ts.get(D)):R.Hr.getTargetData(y,E)}(s,f,pi(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?l:Ie.min(),n?u:ze())).next(m=>(wC(s,h1(e),m),{documents:m,gs:u})))}function wC(r,e,n){let s=r.Es.get(e)||Ie.min();n.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class bv{constructor(){this.activeTargetIds=y1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RC{constructor(){this.ho=new bv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new bv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="ConnectivityMonitor";class Rv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(wv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(wv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function hm(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RestConnection",IC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===Hc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(e,n,s,l,u){const f=hm(),m=this.bo(e,n.toUriEncodedString());de(Bd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(e,m,p,s).then(y=>(de(Bd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Za(Bd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,l,u,f){return this.So(e,n,s,l,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),s&&s.headers.forEach((l,u)=>e[u]=l)}bo(e,n){const s=IC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class NC extends DC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,l){const u=hm();return new Promise((f,m)=>{const p=new xE;p.setWithCredentials(!0),p.listenOnce(PE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ic.NO_ERROR:const E=p.getResponseJson();de(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Ic.TIMEOUT:de(nn,`RPC '${e}' ${u} timed out`),m(new Te(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const R=p.getStatus();if(de(nn,`RPC '${e}' ${u} failed with status:`,R,"response text:",p.getResponseText()),R>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const V=D==null?void 0:D.error;if(V&&V.status&&V.message){const B=function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf($)>=0?$:ie.UNKNOWN}(V.status);m(new Te(B,V.message))}else m(new Te(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Te(ie.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{de(nn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(l);de(nn,`RPC '${e}' ${u} sending request:`,l),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const l=hm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=LE(),m=UE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");de(nn,`Creating RPC '${e}' stream ${l}: ${E}`,p);const R=f.createWebChannel(E,p);let D=!1,V=!1;const B=new OC({Fo:U=>{V?de(nn,`Not sending because RPC '${e}' stream ${l} is closed:`,U):(D||(de(nn,`Opening RPC '${e}' stream ${l} transport.`),R.open(),D=!0),de(nn,`RPC '${e}' stream ${l} sending:`,U),R.send(U))},Mo:()=>R.close()}),Y=(U,$,re)=>{U.listen($,te=>{try{re(te)}catch(se){setTimeout(()=>{throw se},0)}})};return Y(R,Ao.EventType.OPEN,()=>{V||(de(nn,`RPC '${e}' stream ${l} transport opened.`),B.Qo())}),Y(R,Ao.EventType.CLOSE,()=>{V||(V=!0,de(nn,`RPC '${e}' stream ${l} transport closed`),B.Uo())}),Y(R,Ao.EventType.ERROR,U=>{V||(V=!0,Za(nn,`RPC '${e}' stream ${l} transport errored:`,U),B.Uo(new Te(ie.UNAVAILABLE,"The operation could not be completed")))}),Y(R,Ao.EventType.MESSAGE,U=>{var $;if(!V){const re=U.data[0];Ze(!!re);const te=re,se=(te==null?void 0:te.error)||(($=te[0])===null||$===void 0?void 0:$.error);if(se){de(nn,`RPC '${e}' stream ${l} received error:`,se);const le=se.status;let ge=function(b){const O=Rt[b];if(O!==void 0)return pT(O)}(le),M=se.message;ge===void 0&&(ge=ie.INTERNAL,M="Unknown error status: "+le+" with message "+se.message),V=!0,B.Uo(new Te(ge,M)),R.close()}else de(nn,`RPC '${e}' stream ${l} received:`,re),B.Ko(re)}}),Y(m,kE.STAT_EVENT,U=>{U.stat===Zd.PROXY?de(nn,`RPC '${e}' stream ${l} detected buffering proxy`):U.stat===Zd.NOPROXY&&de(nn,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{B.$o()},0),B}}function jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r){return new P1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-s);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="PersistentStream";class NT{constructor(e,n,s,l,u,f,m,p){this.Ti=e,this.n_=s,this.r_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new OT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===n&&this.V_(s,l)},s=>{e(()=>{const l=new Te(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(Cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(Cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MC extends NT{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=L1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ie.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?_i(f.readTime):Ie.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=um(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=rm(p)?{documents:j1(u,p)}:{query:H1(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=vT(u,f.resumeToken);const y=am(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Yc(u,f.snapshotVersion.toTimestamp());const y=am(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=F1(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=um(this.serializer),n.removeTarget=e,this.I_(n)}}class VC extends NT{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=B1(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=um(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>z1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{}class PC extends xC{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,lm(n,s),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ie.UNKNOWN,u.toString())})}Co(e,n,s,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,lm(n,s),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Te(ie.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class kC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nr(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class UC{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Zs(this)&&(de(Ks,"Restarting streams for network reachability change."),await async function(p){const y=Oe(p);y.W_.add(4),await Yo(y),y.j_.set("Unknown"),y.W_.delete(4),await yh(y)}(this))})}),this.j_=new kC(s,l)}}async function yh(r){if(Zs(r))for(const e of r.G_)await e(!0)}async function Yo(r){for(const e of r.G_)await e(!1)}function MT(r,e){const n=Oe(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Km(n)?Qm(n):fl(n).c_()&&Gm(n,e))}function Fm(r,e){const n=Oe(r),s=fl(n);n.K_.delete(e),s.c_()&&VT(n,e),n.K_.size===0&&(s.c_()?s.P_():Zs(n)&&n.j_.set("Unknown"))}function Gm(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(r).y_(e)}function VT(r,e){r.H_.Ne(e),fl(r).w_(e)}function Qm(r){r.H_=new N1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),fl(r).start(),r.j_.B_()}function Km(r){return Zs(r)&&!fl(r).u_()&&r.K_.size>0}function Zs(r){return Oe(r).W_.size===0}function xT(r){r.H_=void 0}async function LC(r){r.j_.set("Online")}async function zC(r){r.K_.forEach((e,n)=>{Gm(r,e)})}async function BC(r,e){xT(r),Km(r)?(r.j_.q_(e),Qm(r)):r.j_.set("Unknown")}async function jC(r,e,n){if(r.j_.set("Online"),e instanceof _T&&e.state===2&&e.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l.K_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.K_.delete(m),l.H_.removeTarget(m))}(r,e)}catch(s){de(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xc(r,s)}else if(e instanceof Mc?r.H_.We(e):e instanceof yT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Ie.min()))try{const s=await DT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),VT(u,p);const R=new Kr(E.target,p,y,E.sequenceNumber);Gm(u,R)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){de(Ks,"Failed to raise snapshot:",s),await Xc(r,s)}}async function Xc(r,e,n){if(!hl(e))throw e;r.W_.add(1),await Yo(r),r.j_.set("Offline"),n||(n=()=>DT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{de(Ks,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await yh(r)})}function PT(r,e){return e().catch(n=>Xc(r,n,e))}async function _h(r){const e=Oe(r),n=rs(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Om;for(;HC(e);)try{const l=await SC(e.localStore,s);if(l===null){e.U_.length===0&&n.P_();break}s=l.batchId,qC(e,l)}catch(l){await Xc(e,l)}kT(e)&&UT(e)}function HC(r){return Zs(r)&&r.U_.length<10}function qC(r,e){r.U_.push(e);const n=rs(r);n.c_()&&n.S_&&n.b_(e.mutations)}function kT(r){return Zs(r)&&!rs(r).u_()&&r.U_.length>0}function UT(r){rs(r).start()}async function FC(r){rs(r).C_()}async function GC(r){const e=rs(r);for(const n of r.U_)e.b_(n.mutations)}async function QC(r,e,n){const s=r.U_.shift(),l=Um.from(s,e,n);await PT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await _h(r)}async function KC(r,e){e&&rs(r).S_&&await async function(s,l){if(function(f){return D1(f)&&f!==ie.ABORTED}(l.code)){const u=s.U_.shift();rs(s).h_(),await PT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l)),await _h(s)}}(r,e),kT(r)&&UT(r)}async function Iv(r,e){const n=Oe(r);n.asyncQueue.verifyOperationInProgress(),de(Ks,"RemoteStore received new credentials");const s=Zs(n);n.W_.add(3),await Yo(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await yh(n)}async function YC(r,e){const n=Oe(r);e?(n.W_.delete(2),await yh(n)):e||(n.W_.add(2),await Yo(n),n.j_.set("Unknown"))}function fl(r){return r.J_||(r.J_=function(n,s,l){const u=Oe(n);return u.M_(),new MC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:LC.bind(null,r),No:zC.bind(null,r),Lo:BC.bind(null,r),p_:jC.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Km(r)?Qm(r):r.j_.set("Unknown")):(await r.J_.stop(),xT(r))})),r.J_}function rs(r){return r.Y_||(r.Y_=function(n,s,l){const u=Oe(n);return u.M_(),new VC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:FC.bind(null,r),Lo:KC.bind(null,r),D_:GC.bind(null,r),v_:QC.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await _h(r)):(await r.Y_.stop(),r.U_.length>0&&(de(Ks,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,m=new Ym(e,n,f,l,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(r,e){if(nr("AsyncQueue",`${e}: ${r}`),hl(r))return new Te(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=So(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.Z_=new ct(Ae.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class il{constructor(e,n,s,l,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new il(e,n,Ka.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class XC{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const l=Oe(n),u=l.queries;l.queries=Ov(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new Te(ie.ABORTED,"Firestore shutting down"))}}function Ov(){return new Ws(r=>iT(r),hh)}async function WC(r,e){const n=Oe(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.na()&&e.ra()&&(s=2):(u=new $C,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=$m(f,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Xm(n)}async function ZC(r,e){const n=Oe(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?l=e.ra()?0:1:!u.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JC(r,e){const n=Oe(r);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(l)&&(s=!0);f.ea=l}}s&&Xm(n)}function eI(r,e,n){const s=Oe(r),l=s.queries.get(e);if(l)for(const u of l.ta)u.onError(n);s.queries.delete(e)}function Xm(r){r.ia.forEach(e=>{e.next()})}var fm,Nv;(Nv=fm||(fm={}))._a="default",Nv.Cache="cache";class tI{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new il(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.key=e}}class zT{constructor(e){this.key=e}}class nI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=rT(e),this.wa=new Ka(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new Dv,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,R)=>{const D=l.get(E),V=fh(this.query,R)?R:null,B=!!D&&this.mutatedKeys.has(D.key),Y=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let U=!1;D&&V?D.data.isEqual(V.data)?B!==Y&&(s.track({type:3,doc:V}),U=!0):this.va(D,V)||(s.track({type:2,doc:V}),U=!0,(p&&this.ya(V,p)>0||y&&this.ya(V,y)<0)&&(m=!0)):!D&&V?(s.track({type:0,doc:V}),U=!0):D&&!V&&(s.track({type:1,doc:D}),U=!0,(p||y)&&(m=!0)),U&&(V?(f=f.add(V),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,R)=>function(V,B){const Y=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return Y(V)-Y(B)}(E.type,R.type)||this.ya(E.doc,R.doc)),this.Ca(s),l=l!=null&&l;const m=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new il(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Dv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new zT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new LT(s))}),n}Oa(e){this.fa=e.gs,this.pa=ze();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return il.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Wm="SyncEngine";class iI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class rI{constructor(e){this.key=e,this.Ba=!1}}class sI{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ws(m=>iT(m),hh),this.qa=new Map,this.Qa=new Set,this.$a=new ct(Ae.comparator),this.Ua=new Map,this.Ka=new Bm,this.Wa={},this.Ga=new Map,this.za=nl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function aI(r,e,n=!0){const s=GT(r);let l;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await BT(s,e,n,!0),l}async function lI(r,e){const n=GT(r);await BT(n,e,!0,!1)}async function BT(r,e,n,s){const l=await bC(r.localStore,pi(e)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oI(r,e,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&MT(r.remoteStore,l),m}async function oI(r,e,n,s,l){r.Ha=(R,D,V)=>async function(Y,U,$,re){let te=U.view.ba($);te.ls&&(te=await Sv(Y.localStore,U.query,!1).then(({documents:M})=>U.view.ba(M,te)));const se=re&&re.targetChanges.get(U.targetId),le=re&&re.targetMismatches.get(U.targetId)!=null,ge=U.view.applyChanges(te,Y.isPrimaryClient,se,le);return Vv(Y,U.targetId,ge.Ma),ge.snapshot}(r,R,D,V);const u=await Sv(r.localStore,e,!0),f=new nI(e,u.gs),m=f.ba(u.documents),p=Ko.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,p);Vv(r,n,y.Ma);const E=new iI(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function uI(r,e,n){const s=Oe(r),l=s.ka.get(e),u=s.qa.get(l.targetId);if(u.length>1)return s.qa.set(l.targetId,u.filter(f=>!hh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await cm(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Fm(s.remoteStore,l.targetId),dm(s,l.targetId)}).catch(cl)):(dm(s,l.targetId),await cm(s.localStore,l.targetId,!0))}async function cI(r,e){const n=Oe(r),s=n.ka.get(e),l=n.qa.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fm(n.remoteStore,s.targetId))}async function hI(r,e,n){const s=_I(r);try{const l=await function(f,m){const p=Oe(f),y=Vt.now(),E=m.reduce((V,B)=>V.add(B.key),ze());let R,D;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let B=ir(),Y=ze();return p.ds.getEntries(V,E).next(U=>{B=U,B.forEach(($,re)=>{re.isValidDocument()||(Y=Y.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,B)).next(U=>{R=U;const $=[];for(const re of m){const te=b1(re,R.get(re.key).overlayedDocument);te!=null&&$.push(new ls(re.key,te,XE(te.value.mapValue),yi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,$,m)}).next(U=>{D=U;const $=U.applyToLocalDocumentSet(R,Y);return p.documentOverlayCache.saveOverlays(V,U.batchId,$)})}).then(()=>({batchId:D.batchId,changes:aT(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ct(Le)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,l.batchId,n),await $o(s,l.changes),await _h(s.remoteStore)}catch(l){const u=$m(l,"Failed to persist write");n.reject(u)}}async function jT(r,e){const n=Oe(r);try{const s=await TC(n.localStore,e);e.targetChanges.forEach((l,u)=>{const f=n.Ua.get(u);f&&(Ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?Ze(f.Ba):l.removedDocuments.size>0&&(Ze(f.Ba),f.Ba=!1))}),await $o(n,s,e)}catch(s){await cl(s)}}function Mv(r,e,n){const s=Oe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&l.push(m.snapshot)}),function(f,m){const p=Oe(f);p.onlineState=m;let y=!1;p.queries.forEach((E,R)=>{for(const D of R.ta)D.sa(m)&&(y=!0)}),y&&Xm(p)}(s.eventManager,e),l.length&&s.La.p_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fI(r,e,n){const s=Oe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Ua.get(e),u=l&&l.key;if(u){let f=new ct(Ae.comparator);f=f.insert(u,sn.newNoDocument(u,Ie.min()));const m=ze().add(u),p=new gh(Ie.min(),new Map,new ct(Le),f,m);await jT(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Zm(s)}else await cm(s.localStore,e,!1).then(()=>dm(s,e,n)).catch(cl)}async function dI(r,e){const n=Oe(r),s=e.batch.batchId;try{const l=await EC(n.localStore,e);qT(n,s,null),HT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $o(n,l)}catch(l){await cl(l)}}async function mI(r,e,n){const s=Oe(r);try{const l=await function(f,m){const p=Oe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(R=>(Ze(R!==null),E=R.keys(),p.mutationQueue.removeMutationBatch(y,R))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);qT(s,e,n),HT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await $o(s,l)}catch(l){await cl(l)}}function HT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function qT(r,e,n){const s=Oe(r);let l=s.Wa[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Wa[s.currentUser.toKey()]=l}}function dm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||FT(r,s)})}function FT(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Fm(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Zm(r))}function Vv(r,e,n){for(const s of n)s instanceof LT?(r.Ka.addReference(s.key,e),gI(r,s)):s instanceof zT?(de(Wm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||FT(r,s.key)):Re()}function gI(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(de(Wm,"New document in limbo: "+n),r.Qa.add(s),Zm(r))}function Zm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new Ae(yt.fromString(e)),s=r.za.next();r.Ua.set(s,new rI(n)),r.$a=r.$a.insert(n,s),MT(r.remoteStore,new Kr(pi(Pm(n.path)),s,"TargetPurposeLimboResolution",lh.ae))}}async function $o(r,e,n){const s=Oe(r),l=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const R=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(y){l.push(y);const R=Hm.Yi(p.targetId,y);u.push(R)}}))}),await Promise.all(f),s.La.p_(l),await async function(p,y){const E=Oe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>J.forEach(y,D=>J.forEach(D.Hi,V=>E.persistence.referenceDelegate.addReference(R,D.targetId,V)).next(()=>J.forEach(D.Ji,V=>E.persistence.referenceDelegate.removeReference(R,D.targetId,V)))))}catch(R){if(!hl(R))throw R;de(qm,"Failed to update sequence numbers: "+R)}for(const R of y){const D=R.targetId;if(!R.fromCache){const V=E.Ts.get(D),B=V.snapshotVersion,Y=V.withLastLimboFreeSnapshotVersion(B);E.Ts=E.Ts.insert(D,Y)}}}(s.localStore,u))}async function pI(r,e){const n=Oe(r);if(!n.currentUser.isEqual(e)){de(Wm,"User change. New user:",e.toKey());const s=await IT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new Te(ie.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await $o(n,s.Rs)}}function yI(r,e){const n=Oe(r),s=n.Ua.get(e);if(s&&s.Ba)return ze().add(s.key);{let l=ze();const u=n.qa.get(e);if(!u)return l;for(const f of u){const m=n.ka.get(f);l=l.unionWith(m.view.Sa)}return l}}function GT(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fI.bind(null,e),e.La.p_=JC.bind(null,e.eventManager),e.La.Ja=eI.bind(null,e.eventManager),e}function _I(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mI.bind(null,e),e}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return vC(this.persistence,new pC,e.initialUser,this.serializer)}Xa(e){return new CT(jm.ri,this.serializer)}Za(e){return new RC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class vI extends Wc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ze(this.persistence.referenceDelegate instanceof $c);const s=this.persistence.referenceDelegate.garbageCollector;return new tC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new CT(s=>$c.ri(s,n),this.serializer)}}class mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Mv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pI.bind(null,this.syncEngine),await YC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XC}()}createDatastore(e){const n=ph(e.databaseInfo.databaseId),s=function(u){return new NC(u)}(e.databaseInfo);return function(u,f,m,p){return new PC(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,l,u,f,m){return new UC(s,l,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Mv(this.syncEngine,n,0),function(){return Rv.D()?new Rv:new CC}())}createSyncEngine(e,n){return function(l,u,f,m,p,y,E){const R=new sI(l,u,f,m,p,y);return E&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=Oe(l);de(Ks,"RemoteStore shutting down."),u.W_.add(5),await Yo(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class TI{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=BE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{de(ss,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(de(ss,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$m(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Hd(r,e){r.asyncQueue.verifyOperationInProgress(),de(ss,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await IT(e.localStore,l),s=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function xv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await AI(r);de(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Iv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Iv(e.remoteStore,l)),r._onlineComponents=e}async function AI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(ss,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===ie.FAILED_PRECONDITION||l.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await Hd(r,new Wc)}}else de(ss,"Using default OfflineComponentProvider"),await Hd(r,new vI(void 0));return r._offlineComponents}async function QT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(ss,"Using user provided OnlineComponentProvider"),await xv(r,r._uninitializedComponentsProvider._online)):(de(ss,"Using default OnlineComponentProvider"),await xv(r,new mm))),r._onlineComponents}function SI(r){return QT(r).then(e=>e.syncEngine)}async function bI(r){const e=await QT(r),n=e.eventManager;return n.onListen=aI.bind(null,e.syncEngine),n.onUnlisten=uI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cI.bind(null,e.syncEngine),n}function wI(r,e,n={}){const s=new Zr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new EI({next:D=>{E.su(),f.enqueueAndForget(()=>ZC(u,R));const V=D.docs.has(m);!V&&D.fromCache?y.reject(new Te(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&D.fromCache&&p&&p.source==="server"?y.reject(new Te(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),R=new tI(Pm(m.path),E,{includeMetadataChanges:!0,Ta:!0});return WC(u,R)}(await bI(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r,e,n){if(!n)throw new Te(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function CI(r,e,n,s){if(e===!0&&s===!0)throw new Te(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function kv(r){if(!Ae.isDocumentKey(r))throw new Te(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Re()}function Ys(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Te(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jm(r);throw new Te(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firestore.googleapis.com",Uv=!0;class Lv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YT,this.ssl=Uv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Uv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J1)throw new Te(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eg{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new OR;switch(s.type){case"firstParty":return new xR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Te(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Pv.get(n);s&&(de("ComponentProvider","Removing Datastore"),Pv.delete(n),s.terminate())}(this),Promise.resolve()}}function II(r,e,n,s={}){var l;const u=(r=Ys(r,eg))._getSettings(),f=`${e}:${n}`;if(u.host!==YT&&u.host!==f&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=rn.MOCK_USER;else{m=sw(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new Te(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new rn(y)}r._authCredentials=new NR(new zE(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new tg(this.firestore,e,this._query)}}class Rn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class zo extends tg{constructor(e,n,s){super(e,n,Pm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ae(e))}withConverter(e){return new zo(this.firestore,e,this._path)}}function vh(r,e,...n){if(r=fn(r),arguments.length===1&&(e=BE.newId()),RI("doc","path",e),r instanceof eg){const s=yt.fromString(e,...n);return kv(s),new Rn(r,null,new Ae(s))}{if(!(r instanceof Rn||r instanceof zo))throw new Te(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(yt.fromString(e,...n));return kv(s),new Rn(r.firestore,r instanceof zo?r.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="AsyncQueue";class Bv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new OT(this,"async_queue_retry"),this.Su=()=>{const s=jd();s&&de(zv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Zr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!hl(e))throw e;de(zv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw nr("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=Ym.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Eh extends eg{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new Bv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bv(e),this._firestoreClient=void 0,await e}}}function DI(r,e){const n=typeof r=="object"?r:OE(),s=typeof r=="string"?r:Hc,l=Im(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=iw("firestore");u&&II(l,...u)}return l}function $T(r){if(r._terminated)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OI(r),r._firestoreClient}function OI(r){var e,n,s;const l=r._freezeSettings(),u=function(m,p,y,E){return new YR(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,KT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new TI(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(Wt.fromBase64String(e))}catch(n){throw new Te(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rl(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=/^__.*__$/;class MI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qo(e,this.data,n,this.fieldTransforms)}}class XT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class sg{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new sg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:s,Qu:!1});return l.$u(e),l}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(WT(this.Lu)&&NI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class VI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ph(e)}ju(e,n,s,l=!1){return new sg({Lu:e,methodName:n,zu:s,path:Xt.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZT(r){const e=r._freezeSettings(),n=ph(r._databaseId);return new VI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function xI(r,e,n,s,l,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,l);ag("Data must be an object, but it was:",f,s);const m=JT(s,f);let p,y;if(u.merge)p=new wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const R of u.mergeFields){const D=gm(e,R,n);if(!f.contains(D))throw new Te(ie.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);t0(E,D)||E.push(D)}p=new wn(E),y=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,y=f.fieldTransforms;return new MI(new yn(m),p,y)}class Ah extends ng{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ah}}function PI(r,e,n,s){const l=r.ju(1,e,n);ag("Data must be an object, but it was:",l,s);const u=[],f=yn.empty();as(s,(p,y)=>{const E=lg(e,p,n);y=fn(y);const R=l.Uu(E);if(y instanceof Ah)u.push(E);else{const D=Sh(y,R);D!=null&&(u.push(E),f.set(E,D))}});const m=new wn(u);return new XT(f,m,l.fieldTransforms)}function kI(r,e,n,s,l,u){const f=r.ju(1,e,n),m=[gm(e,s,n)],p=[l];if(u.length%2!=0)throw new Te(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)m.push(gm(e,u[D])),p.push(u[D+1]);const y=[],E=yn.empty();for(let D=m.length-1;D>=0;--D)if(!t0(y,m[D])){const V=m[D];let B=p[D];B=fn(B);const Y=f.Uu(V);if(B instanceof Ah)y.push(V);else{const U=Sh(B,Y);U!=null&&(y.push(V),E.set(V,U))}}const R=new wn(y);return new XT(E,R,f.fieldTransforms)}function Sh(r,e){if(e0(r=fn(r)))return ag("Unsupported field value:",e,r),JT(r,e);if(r instanceof ng)return function(s,l){if(!WT(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,l){const u=[];let f=0;for(const m of s){let p=Sh(m,l.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,l){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _1(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Vt.fromDate(s);return{timestampValue:Yc(l.serializer,u)}}if(s instanceof Vt){const u=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yc(l.serializer,u)}}if(s instanceof ig)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof rl)return{bytesValue:vT(l.serializer,s._byteString)};if(s instanceof Rn){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof rg)return function(f,m){return{mapValue:{fields:{[YE]:{stringValue:$E},[qc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return km(m.serializer,y)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${Jm(s)}`)}(r,e)}function JT(r,e){const n={};return HE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(r,(s,l)=>{const u=Sh(l,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function e0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Vt||r instanceof ig||r instanceof rl||r instanceof Rn||r instanceof ng||r instanceof rg)}function ag(r,e,n){if(!e0(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=Jm(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function gm(r,e,n){if((e=fn(e))instanceof Th)return e._internalPath;if(typeof e=="string")return lg(r,e);throw Zc("Field path arguments must be of type string or ",r,!1,void 0,n)}const UI=new RegExp("[~\\*/\\[\\]]");function lg(r,e,n){if(e.search(UI)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Th(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Zc(r,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new Te(ie.INVALID_ARGUMENT,m+r+p)}function t0(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LI extends n0{data(){return super.data()}}function i0(r,e){return typeof e=="string"?lg(r,e):e instanceof Th?e._internalPath:e._delegate._internalPath}class zI{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return as(e,(l,u)=>{s[l]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,l;const u=(l=(s=(n=e.fields)===null||n===void 0?void 0:n[qc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>Tt(f.doubleValue));return new rg(u)}convertGeoPoint(e){return new ig(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xo(e));default:return null}}convertTimestamp(e){const n=ts(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=yt.fromString(e);Ze(wT(s));const l=new Po(s.get(1),s.get(3)),u=new Ae(s.popFirst(5));return l.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class r0 extends n0{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new HI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(i0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class HI extends r0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r){r=Ys(r,Rn);const e=Ys(r.firestore,Eh);return wI($T(e),r._key).then(n=>FI(e,r,n))}class qI extends zI{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function a0(r,e,n){r=Ys(r,Rn);const s=Ys(r.firestore,Eh),l=BI(r.converter,e,n);return o0(s,[xI(ZT(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,yi.none())])}function l0(r,e,n,...s){r=Ys(r,Rn);const l=Ys(r.firestore,Eh),u=ZT(l);let f;return f=typeof(e=fn(e))=="string"||e instanceof Th?kI(u,"updateDoc",r._key,e,n,s):PI(u,"updateDoc",r._key,e),o0(l,[f.toMutation(r._key,yi.exists(!0))])}function o0(r,e){return function(s,l){const u=new Zr;return s.asyncQueue.enqueueAndForget(async()=>hI(await SI(s),l,u)),u.promise}($T(r),e)}function FI(r,e,n){const s=n.docs.get(e._key),l=new qI(r);return new r0(r,l,e._key,s,new jI(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){ul=l})(ol),Wa(new Gs("firestore",(s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Eh(new MR(s.getProvider("auth-internal")),new PR(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Te(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(y.options.projectId,E)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Xr(Y_,$_,e),Xr(Y_,$_,"esm2017")})();var GI="firebase",QI="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(GI,QI,"app");function og(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KI=u0,c0=new Fo("auth","Firebase",u0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Rm("@firebase/auth");function YI(r,...e){Jc.logLevel<=Ue.WARN&&Jc.warn(`Auth (${ol}): ${r}`,...e)}function Vc(r,...e){Jc.logLevel<=Ue.ERROR&&Jc.error(`Auth (${ol}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(r,...e){throw cg(r,...e)}function Wn(r,...e){return cg(r,...e)}function ug(r,e,n){const s=Object.assign(Object.assign({},KI()),{[e]:n});return new Fo("auth","Firebase",s).create(e,{appName:r.name})}function Fs(r){return ug(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $I(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Si(r,"argument-error"),ug(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return c0.create(r,...e)}function Ce(r,e,...n){if(!r)throw cg(e,...n)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Vc(e),new Error(e)}function rr(r,e){r||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function XI(){return jv()==="http:"||jv()==="https:"}function jv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XI()||uw()||"connection"in navigator)?navigator.onLine:!0}function ZI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=aw()||cw()}get(){return WI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r,e){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new Xo(3e4,6e4);function fg(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function dl(r,e,n,s,l={}){return f0(r,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Go(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return ow()||(y.referrerPolicy="no-referrer"),h0.fetch()(d0(r,r.config.apiHost,n,m),y)})}async function f0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},JI),e);try{const l=new nD(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw wc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ug(r,E,y);Si(r,E)}}catch(l){if(l instanceof ar)throw l;Si(r,"network-request-failed",{message:String(l)})}}async function tD(r,e,n,s,l={}){const u=await dl(r,e,n,s,l);return"mfaPendingCredential"in u&&Si(r,"multi-factor-auth-required",{_serverResponse:u}),u}function d0(r,e,n,s){const l=`${e}${n}?${s}`;return r.config.emulator?hg(r.config,l):`${r.config.apiScheme}://${l}`}class nD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Wn(this.auth,"network-request-failed")),eD.get())})}}function wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Wn(r,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(r,e){return dl(r,"POST","/v1/accounts:delete",e)}async function m0(r,e){return dl(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rD(r,e=!1){const n=fn(r),s=await n.getIdToken(e),l=dg(s);Ce(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Oo(qd(l.auth_time)),issuedAtTime:Oo(qd(l.iat)),expirationTime:Oo(qd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function qd(r){return Number(r)*1e3}function dg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=SE(n);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Hv(r){const e=dg(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ar&&sD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function sD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oo(this.lastLoginAt),this.creationTime=Oo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(r){var e;const n=r.auth,s=await r.getIdToken(),l=await Bo(r,m0(n,{idToken:s}));Ce(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?g0(u.providerUserInfo):[],m=oD(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ym(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,R)}async function lD(r){const e=fn(r);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oD(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function g0(r){return r.map(e=>{var{providerId:n}=e,s=og(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(r,e){const n=await f0(r,{},async()=>{const s=Go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=d0(r,l,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",h0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cD(r,e){return dl(r,"POST","/v2/accounts:revokeToken",fg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Hv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await uD(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Ya;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(Ce(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Ce(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zi{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ym(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rD(this,e)}reload(){return lD(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await Bo(this,iD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,f,m,p,y,E;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(l=n.email)!==null&&l!==void 0?l:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,B=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:te,emailVerified:se,isAnonymous:le,providerData:ge,stsTokenManager:M}=n;Ce(te&&M,e,"internal-error");const C=Ya.fromJSON(this.name,M);Ce(typeof te=="string",e,"internal-error"),qr(R,e.name),qr(D,e.name),Ce(typeof se=="boolean",e,"internal-error"),Ce(typeof le=="boolean",e,"internal-error"),qr(V,e.name),qr(B,e.name),qr(Y,e.name),qr(U,e.name),qr($,e.name),qr(re,e.name);const b=new Zi({uid:te,auth:e,email:D,emailVerified:se,displayName:R,isAnonymous:le,photoURL:B,phoneNumber:V,tenantId:Y,stsTokenManager:C,createdAt:$,lastLoginAt:re});return ge&&Array.isArray(ge)&&(b.providerData=ge.map(O=>Object.assign({},O))),U&&(b._redirectEventId=U),b}static async _fromIdTokenResponse(e,n,s=!1){const l=new Ya;l.updateFromServerResponse(n);const u=new Zi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await eh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Ce(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?g0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new Ya;m.updateFromIdToken(s);const p=new Zi({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;function Ji(r){rr(r instanceof Function,"Expected a class definition");let e=qv.get(r);return e?(rr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,qv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p0.type="NONE";const Fv=p0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r,e,n){return`firebase:${r}:${e}:${n}`}class $a{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=xc(this.userKey,l.apiKey,u),this.fullPersistenceKey=xc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $a(Ji(Fv),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Ji(Fv);const f=xc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const R=Zi._fromJSON(e,E);y!==u&&(m=R),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new $a(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new $a(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A0(e))return"Blackberry";if(S0(e))return"Webos";if(_0(e))return"Safari";if((e.includes("chrome/")||v0(e))&&!e.includes("edge/"))return"Chrome";if(T0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function y0(r=an()){return/firefox\//i.test(r)}function _0(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v0(r=an()){return/crios\//i.test(r)}function E0(r=an()){return/iemobile/i.test(r)}function T0(r=an()){return/android/i.test(r)}function A0(r=an()){return/blackberry/i.test(r)}function S0(r=an()){return/webos/i.test(r)}function mg(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hD(r=an()){var e;return mg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fD(){return hw()&&document.documentMode===10}function b0(r=an()){return mg(r)||T0(r)||S0(r)||A0(r)||/windows phone/i.test(r)||E0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r,e=[]){let n;switch(r){case"Browser":n=Gv(an());break;case"Worker":n=`${Gv(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(r,e={}){return dl(r,"GET","/v2/passwordPolicy",fg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=6;class pD{constructor(e){var n,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:gD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qv(this),this.idTokenSubscription=new Qv(this),this.beforeStateQueue=new dD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await m0(this,{idToken:e}),s=await Zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Fs(this));const n=e?fn(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mD(this),n=new pD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await cD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bh(r){return fn(r)}class Qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=vw(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _D(r){gg=r}function vD(r){return gg.loadJS(r)}function ED(){return gg.gapiScript}function TD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(r,e){const n=Im(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(zc(u,e??{}))return l;Si(l,"already-initialized")}return n.initialize({options:e})}function SD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ji);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function bD(r,e,n){const s=bh(r);Ce(s._canInitEmulator,s,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=R0(e),{host:f,port:m}=wD(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),RD()}function R0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function wD(r){const e=R0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Kv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Kv(f)}}}function Kv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function RD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r,e){return tD(r,"POST","/v1/accounts:signInWithIdp",fg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="http://localhost";class $s extends C0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=n,u=og(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new $s(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:CD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Go(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends pg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Wo{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Wo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Wo{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Wo{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await Zi._fromIdTokenResponse(e,s,l),f=Yv(s);return new sl({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=Yv(s);return new sl({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function Yv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends ar{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new th(e,n,s,l)}}function I0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,u,e,s):u})}async function ID(r,e,n=!1){const s=await Bo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return sl._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(r,e,n=!1){const{auth:s}=r;if(Xn(s.app))return Promise.reject(Fs(s));const l="reauthenticate";try{const u=await Bo(r,I0(s,l,e,r),n);Ce(u.idToken,s,"internal-error");const f=dg(u.idToken);Ce(f,s,"internal-error");const{sub:m}=f;return Ce(r.uid===m,s,"user-mismatch"),sl._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Si(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(r,e,n=!1){if(Xn(r.app))return Promise.reject(Fs(r));const s="signIn",l=await I0(r,s,e),u=await sl._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function ND(r,e,n,s){return fn(r).onIdTokenChanged(e,n,s)}function MD(r,e,n){return fn(r).beforeAuthStateChanged(e,n)}function yg(r,e,n,s){return fn(r).onAuthStateChanged(e,n,s)}function VD(r){return fn(r).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=1e3,PD=10;class O0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);fD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,PD):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}O0.type="LOCAL";const kD=O0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N0.type="SESSION";const M0=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await UD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=_g("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(R){const D=R;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function zD(r){vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function BD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function HD(){return V0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firebaseLocalStorageDb",qD=1,ih="firebaseLocalStorage",P0="fbase_key";class Zo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(r,e){return r.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function FD(){const r=indexedDB.deleteDatabase(x0);return new Zo(r).toPromise()}function _m(){const r=indexedDB.open(x0,qD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ih,{keyPath:P0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ih)?e(s):(s.close(),await FD(),e(await _m()))})})}async function $v(r,e,n){const s=Rh(r,!0).put({[P0]:e,value:n});return new Zo(s).toPromise()}async function GD(r,e){const n=Rh(r,!1).get(e),s=await new Zo(n).toPromise();return s===void 0?null:s.value}function Xv(r,e){const n=Rh(r,!0).delete(e);return new Zo(n).toPromise()}const QD=800,KD=3;class k0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>KD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(HD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BD(),!this.activeServiceWorker)return;this.sender=new LD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await $v(e,nh,"1"),await Xv(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$v(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>GD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Rh(l,!1).getAll();return new Zo(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k0.type="LOCAL";const YD=k0;new Xo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(r,e){return e?Ji(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends C0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $D(r){return OD(r.auth,new vg(r),r.bypassAuthState)}function XD(r){const{auth:e,user:n}=r;return Ce(n,e,"internal-error"),DD(n,new vg(r),r.bypassAuthState)}async function WD(r){const{auth:e,user:n}=r;return Ce(n,e,"internal-error"),ID(n,new vg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $D;case"linkViaPopup":case"linkViaRedirect":return WD;case"reauthViaPopup":case"reauthViaRedirect":return XD;default:Si(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Xo(2e3,1e4);async function JD(r,e,n){if(Xn(r.app))return Promise.reject(Wn(r,"operation-not-supported-in-this-environment"));const s=bh(r);$I(r,e,pg);const l=U0(s,n);return new qs(s,"signInViaPopup",e,l).executeNotNull()}class qs extends L0{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZD.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="pendingRedirect",Pc=new Map;class t2 extends L0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const s=await n2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n2(r,e){const n=s2(e),s=r2(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function i2(r,e){Pc.set(r._key(),e)}function r2(r){return Ji(r._redirectPersistence)}function s2(r){return xc(e2,r.config.apiKey,r.name)}async function a2(r,e,n=!1){if(Xn(r.app))return Promise.reject(Fs(r));const s=bh(r),l=U0(s,e),f=await new t2(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=10*60*1e3;class o2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!z0(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wv(e))}saveEventToCache(e){this.cachedEventUids.add(Wv(e)),this.lastProcessedEventTime=Date.now()}}function Wv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function z0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(r,e={}){return dl(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f2=/^https?/;async function d2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await c2(r);for(const n of e)try{if(m2(n))return}catch{}Si(r,"unauthorized-domain")}function m2(r){const e=pm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!f2.test(n))return!1;if(h2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Xo(3e4,6e4);function Zv(){const r=vi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function p2(r){return new Promise((e,n)=>{var s,l,u;function f(){Zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zv(),n(Wn(r,"network-request-failed"))},timeout:g2.get()})}if(!((l=(s=vi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=vi().gapi)===null||u===void 0)&&u.load)f();else{const m=TD("iframefcb");return vi()[m]=()=>{gapi.load?f():n(Wn(r,"network-request-failed"))},vD(`${ED()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw kc=null,e})}let kc=null;function y2(r){return kc=kc||p2(r),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Xo(5e3,15e3),v2="__/auth/iframe",E2="emulator/auth/iframe",T2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S2(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?hg(e,E2):`https://${r.config.authDomain}/${v2}`,s={apiKey:e.apiKey,appName:r.name,v:ol},l=A2.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Go(s).slice(1)}`}async function b2(r){const e=await y2(r),n=vi().gapi;return Ce(n,r,"internal-error"),e.open({where:document.body,url:S2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T2,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Wn(r,"network-request-failed"),m=vi().setTimeout(()=>{u(f)},_2.get());function p(){vi().clearTimeout(m),l(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R2=500,C2=600,I2="_blank",D2="http://localhost";class Jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O2(r,e,n,s=R2,l=C2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},w2),{width:s.toString(),height:l.toString(),top:u,left:f}),y=an().toLowerCase();n&&(m=v0(y)?I2:n),y0(y)&&(e=e||D2,p.scrollbars="yes");const E=Object.entries(p).reduce((D,[V,B])=>`${D}${V}=${B},`,"");if(hD(y)&&m!=="_self")return N2(e||"",m),new Jv(null);const R=window.open(e||"",m,E);Ce(R,r,"popup-blocked");try{R.focus()}catch{}return new Jv(R)}function N2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="__/auth/handler",V2="emulator/auth/handler",x2=encodeURIComponent("fac");async function eE(r,e,n,s,l,u){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ol,eventId:l};if(e instanceof pg){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",_w(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,R]of Object.entries({}))f[E]=R}if(e instanceof Wo){const E=e.getScopes().filter(R=>R!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${x2}=${encodeURIComponent(p)}`:"";return`${P2(r)}?${Go(m).slice(1)}${y}`}function P2({config:r}){return r.emulator?hg(r,V2):`https://${r.authDomain}/${M2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class k2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M0,this._completeRedirectFn=a2,this._overrideRedirectResult=i2}async _openPopup(e,n,s,l){var u;rr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await eE(e,n,s,pm(),l);return O2(e,f,_g())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await eE(e,n,s,pm(),l);return zD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await b2(e),s=new o2(e);return n.register("authEvent",l=>(Ce(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fd,{type:Fd},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Fd];f!==void 0&&n(!!f),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return b0()||_0()||mg()}}const U2=k2;var tE="@firebase/auth",nE="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B2(r){Wa(new Gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ce(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w0(r)},y=new yD(s,l,u,p);return SD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wa(new Gs("auth-internal",e=>{const n=bh(e.getProvider("auth").getImmediate());return(s=>new L2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(tE,nE,z2(r)),Xr(tE,nE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=5*60,H2=RE("authIdTokenMaxAge")||j2;let iE=null;const q2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>H2)return;const l=n==null?void 0:n.token;iE!==l&&(iE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function B0(r=OE()){const e=Im(r,"auth");if(e.isInitialized())return e.getImmediate();const n=AD(r,{popupRedirectResolver:U2,persistence:[YD,kD,M0]}),s=RE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=q2(u.toString());MD(n,f,()=>f(n.currentUser)),ND(n,m=>f(m))}}const l=bE("auth");return l&&bD(n,`http://${l}`),n}function F2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}_D({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=Wn("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",F2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B2("Browser");const G2={apiKey:"AIzaSyB9D4TEfh51wkouAney3bGYWs-qZy0BO0o",authDomain:"pcoin-4b4b5.firebaseapp.com",projectId:"pcoin-4b4b5",storageBucket:"pcoin-4b4b5.firebasestorage.app",messagingSenderId:"927446081534",appId:"1:927446081534:web:4764b8300b0415d8556aaf",measurementId:"G-SNS37JZF7Y"},j0=DE(G2),Ch=DI(j0),Ih=B0(j0),Q2=new Xi,K2=async()=>{try{const e=(await JD(Ih,Q2)).user;return console.log("User signed in:",e),e}catch(r){throw console.error("Error signing in with Google:",r.message),r}},Y2=async()=>{try{await VD(Ih),console.log("User logged out")}catch(r){throw console.error("Error logging out:",r.message),r}},H0=async r=>{if(!r)return console.error("User ID is required"),0;try{const e=vh(Ch,"users",r),n=await s0(e);return n.exists()?n.data().balance||0:(await a0(e,{balance:0}),0)}catch(e){return console.error("Ошибка при получении баланса:",e),0}},$2=async(r,e)=>{if(!r)return console.error("User ID is required"),null;if(typeof e!="number")return console.error("New balance must be a number"),null;try{const n=vh(Ch,"users",r);return await l0(n,{balance:e}),e}catch(n){return console.error("Ошибка при обновлении баланса:",n),null}},X2=async r=>{const e=vh(Ch,"users",r),n=await s0(e);return n.exists()?n.data().coins||0:(await a0(e,{coins:0},{merge:!0}),0)},rE=async(r,e)=>{const n=vh(Ch,"users",r);return await l0(n,{coins:e}),e},W2=()=>{const[r,e]=G.useState(null),[n,s]=G.useState(0),l=Tm();G.useEffect(()=>{const f=yg(Ih,async m=>{if(m){e(m);const p=await H0(m.uid);s(p)}else l("/PCoin/auth")});return()=>f()},[l]);const u=async()=>{try{await Y2(),l("/PCoin/auth")}catch(f){console.error("Ошибка выхода:",f.message)}};return ye.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:r?ye.jsxs("div",{className:"text-center",children:[ye.jsxs("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:[ye.jsx("img",{src:r.photoURL,alt:"Profile",className:"w-18 h-18 rounded-full mb-4 inline-block mr-5"}),r.displayName]}),ye.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["Email: ",r.email]}),ye.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:["Баланс: ",n," PencilCoins"]}),ye.jsx("button",{onClick:u,className:"bg-red-500 text-white py-2 px-6 rounded-lg hover:bg-red-400 transition duration-300",children:"Выйти"})]}):ye.jsx("div",{children:ye.jsx("p",{className:"text-lg text-gray-600",children:"Загрузка данных..."})})})},Z2=()=>{const[r,e]=G.useState(null),n=Tm();G.useEffect(()=>{const l=yg(Ih,u=>{e(u),u&&n("/PCoin/profile")});return()=>l()},[n]);const s=async()=>{try{await K2()}catch(l){console.error("Ошибка входа:",l.message)}};return ye.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:[ye.jsx("h2",{className:"text-4xl font-bold text-center text-gray-800 mb-6",children:"Войдите в PencilCoin"}),ye.jsx("button",{onClick:s,className:"bg-blue-500 text-white py-3 px-8 rounded-lg hover:bg-blue-400 transition duration-300",children:"Войти через Google"})]})};var Jo={};(function r(e,n,s,l){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=function(){if(!e.OffscreenCanvas)return!1;var T=new OffscreenCanvas(1,1),w=T.getContext("2d");w.fillRect(0,0,1,1);var Z=T.transferToImageBitmap();try{w.createPattern(Z,"no-repeat")}catch{return!1}return!0}();function p(){}function y(T){var w=n.exports.Promise,Z=w!==void 0?w:e.Promise;return typeof Z=="function"?new Z(T):(T(p,p),null)}var E=function(T,w){return{transform:function(Z){if(T)return Z;if(w.has(Z))return w.get(Z);var X=new OffscreenCanvas(Z.width,Z.height),ee=X.getContext("2d");return ee.drawImage(Z,0,0),w.set(Z,X),X},clear:function(){w.clear()}}}(m,new Map),R=function(){var T=Math.floor(16.666666666666668),w,Z,X={},ee=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(oe){var ce=Math.random();return X[ce]=requestAnimationFrame(function fe(he){ee===he||ee+T-1<he?(ee=he,delete X[ce],oe()):X[ce]=requestAnimationFrame(fe)}),ce},Z=function(oe){X[oe]&&cancelAnimationFrame(X[oe])}):(w=function(oe){return setTimeout(oe,T)},Z=function(oe){return clearTimeout(oe)}),{frame:w,cancel:Z}}(),D=function(){var T,w,Z={};function X(ee){function oe(ce,fe){ee.postMessage({options:ce||{},callback:fe})}ee.init=function(fe){var he=fe.transferControlToOffscreen();ee.postMessage({canvas:he},[he])},ee.fire=function(fe,he,we){if(w)return oe(fe,null),w;var Ee=Math.random().toString(36).slice(2);return w=y(function(Me){function Qe(Xe){Xe.data.callback===Ee&&(delete Z[Ee],ee.removeEventListener("message",Qe),w=null,E.clear(),we(),Me())}ee.addEventListener("message",Qe),oe(fe,Ee),Z[Ee]=Qe.bind(null,{data:{callback:Ee}})}),w},ee.reset=function(){ee.postMessage({reset:!0});for(var fe in Z)Z[fe](),delete Z[fe]}}return function(){if(T)return T;if(!s&&u){var ee=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([ee])))}catch(oe){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",oe),null}X(T)}return T}}(),V={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function B(T,w){return w?w(T):T}function Y(T){return T!=null}function U(T,w,Z){return B(T&&Y(T[w])?T[w]:V[w],Z)}function $(T){return T<0?0:Math.floor(T)}function re(T,w){return Math.floor(Math.random()*(w-T))+T}function te(T){return parseInt(T,16)}function se(T){return T.map(le)}function le(T){var w=String(T).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:te(w.substring(0,2)),g:te(w.substring(2,4)),b:te(w.substring(4,6))}}function ge(T){var w=U(T,"origin",Object);return w.x=U(w,"x",Number),w.y=U(w,"y",Number),w}function M(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function C(T){var w=T.getBoundingClientRect();T.width=w.width,T.height=w.height}function b(T){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=T,w}function O(T,w,Z,X,ee,oe,ce,fe,he){T.save(),T.translate(w,Z),T.rotate(oe),T.scale(X,ee),T.arc(0,0,1,ce,fe,he),T.restore()}function x(T){var w=T.angle*(Math.PI/180),Z=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-w+(.5*Z-Math.random()*Z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function z(T,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var Z=w.tick++/w.totalTicks,X=w.x+w.random*w.tiltCos,ee=w.y+w.random*w.tiltSin,oe=w.wobbleX+w.random*w.tiltCos,ce=w.wobbleY+w.random*w.tiltSin;if(T.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-Z)+")",T.beginPath(),f&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))T.fill(Se(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(oe-X)*.1,Math.abs(ce-ee)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var fe=Math.PI/10*w.wobble,he=Math.abs(oe-X)*.1,we=Math.abs(ce-ee)*.1,Ee=w.shape.bitmap.width*w.scalar,Me=w.shape.bitmap.height*w.scalar,Qe=new DOMMatrix([Math.cos(fe)*he,Math.sin(fe)*he,-Math.sin(fe)*we,Math.cos(fe)*we,w.x,w.y]);Qe.multiplySelf(new DOMMatrix(w.shape.matrix));var Xe=T.createPattern(E.transform(w.shape.bitmap),"no-repeat");Xe.setTransform(Qe),T.globalAlpha=1-Z,T.fillStyle=Xe,T.fillRect(w.x-Ee/2,w.y-Me/2,Ee,Me),T.globalAlpha=1}else if(w.shape==="circle")T.ellipse?T.ellipse(w.x,w.y,Math.abs(oe-X)*w.ovalScalar,Math.abs(ce-ee)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):O(T,w.x,w.y,Math.abs(oe-X)*w.ovalScalar,Math.abs(ce-ee)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var Ne=Math.PI/2*3,st=4*w.scalar,_t=8*w.scalar,qt=w.x,Zt=w.y,dn=5,Pt=Math.PI/dn;dn--;)qt=w.x+Math.cos(Ne)*_t,Zt=w.y+Math.sin(Ne)*_t,T.lineTo(qt,Zt),Ne+=Pt,qt=w.x+Math.cos(Ne)*st,Zt=w.y+Math.sin(Ne)*st,T.lineTo(qt,Zt),Ne+=Pt;else T.moveTo(Math.floor(w.x),Math.floor(w.y)),T.lineTo(Math.floor(w.wobbleX),Math.floor(ee)),T.lineTo(Math.floor(oe),Math.floor(ce)),T.lineTo(Math.floor(X),Math.floor(w.wobbleY));return T.closePath(),T.fill(),w.tick<w.totalTicks}function N(T,w,Z,X,ee){var oe=w.slice(),ce=T.getContext("2d"),fe,he,we=y(function(Ee){function Me(){fe=he=null,ce.clearRect(0,0,X.width,X.height),E.clear(),ee(),Ee()}function Qe(){s&&!(X.width===l.width&&X.height===l.height)&&(X.width=T.width=l.width,X.height=T.height=l.height),!X.width&&!X.height&&(Z(T),X.width=T.width,X.height=T.height),ce.clearRect(0,0,X.width,X.height),oe=oe.filter(function(Xe){return z(ce,Xe)}),oe.length?fe=R.frame(Qe):Me()}fe=R.frame(Qe),he=Me});return{addFettis:function(Ee){return oe=oe.concat(Ee),we},canvas:T,promise:we,reset:function(){fe&&R.cancel(fe),he&&he()}}}function ht(T,w){var Z=!T,X=!!U(w||{},"resize"),ee=!1,oe=U(w,"disableForReducedMotion",Boolean),ce=u&&!!U(w||{},"useWorker"),fe=ce?D():null,he=Z?M:C,we=T&&fe?!!T.__confetti_initialized:!1,Ee=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Me;function Qe(Ne,st,_t){for(var qt=U(Ne,"particleCount",$),Zt=U(Ne,"angle",Number),dn=U(Ne,"spread",Number),Pt=U(Ne,"startVelocity",Number),lr=U(Ne,"decay",Number),ml=U(Ne,"gravity",Number),os=U(Ne,"drift",Number),Ft=U(Ne,"colors",se),Js=U(Ne,"ticks",Number),ft=U(Ne,"shapes"),At=U(Ne,"scalar"),qn=!!U(Ne,"flat"),us=ge(Ne),or=qt,cs=[],wi=T.width*us.x,Zn=T.height*us.y;or--;)cs.push(x({x:wi,y:Zn,angle:Zt,spread:dn,startVelocity:Pt,color:Ft[or%Ft.length],shape:ft[re(0,ft.length)],ticks:Js,decay:lr,gravity:ml,drift:os,scalar:At,flat:qn}));return Me?Me.addFettis(cs):(Me=N(T,cs,he,st,_t),Me.promise)}function Xe(Ne){var st=oe||U(Ne,"disableForReducedMotion",Boolean),_t=U(Ne,"zIndex",Number);if(st&&Ee)return y(function(Pt){Pt()});Z&&Me?T=Me.canvas:Z&&!T&&(T=b(_t),document.body.appendChild(T)),X&&!we&&he(T);var qt={width:T.width,height:T.height};fe&&!we&&fe.init(T),we=!0,fe&&(T.__confetti_initialized=!0);function Zt(){if(fe){var Pt={getBoundingClientRect:function(){if(!Z)return T.getBoundingClientRect()}};he(Pt),fe.postMessage({resize:{width:Pt.width,height:Pt.height}});return}qt.width=qt.height=null}function dn(){Me=null,X&&(ee=!1,e.removeEventListener("resize",Zt)),Z&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,we=!1)}return X&&!ee&&(ee=!0,e.addEventListener("resize",Zt,!1)),fe?fe.fire(Ne,qt,dn):Qe(Ne,qt,dn)}return Xe.reset=function(){fe&&fe.reset(),Me&&Me.reset()},Xe}var rt;function ue(){return rt||(rt=ht(null,{useWorker:!0,resize:!0})),rt}function Se(T,w,Z,X,ee,oe,ce){var fe=new Path2D(T),he=new Path2D;he.addPath(fe,new DOMMatrix(w));var we=new Path2D;return we.addPath(he,new DOMMatrix([Math.cos(ce)*ee,Math.sin(ce)*ee,-Math.sin(ce)*oe,Math.cos(ce)*oe,Z,X])),we}function _e(T){if(!f)throw new Error("path confetti are not supported in this browser");var w,Z;typeof T=="string"?w=T:(w=T.path,Z=T.matrix);var X=new Path2D(w),ee=document.createElement("canvas"),oe=ee.getContext("2d");if(!Z){for(var ce=1e3,fe=ce,he=ce,we=0,Ee=0,Me,Qe,Xe=0;Xe<ce;Xe+=2)for(var Ne=0;Ne<ce;Ne+=2)oe.isPointInPath(X,Xe,Ne,"nonzero")&&(fe=Math.min(fe,Xe),he=Math.min(he,Ne),we=Math.max(we,Xe),Ee=Math.max(Ee,Ne));Me=we-fe,Qe=Ee-he;var st=10,_t=Math.min(st/Me,st/Qe);Z=[_t,0,0,_t,-Math.round(Me/2+fe)*_t,-Math.round(Qe/2+he)*_t]}return{type:"path",path:w,matrix:Z}}function Ge(T){var w,Z=1,X="#000000",ee='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?w=T:(w=T.text,Z="scalar"in T?T.scalar:Z,ee="fontFamily"in T?T.fontFamily:ee,X="color"in T?T.color:X);var oe=10*Z,ce=""+oe+"px "+ee,fe=new OffscreenCanvas(oe,oe),he=fe.getContext("2d");he.font=ce;var we=he.measureText(w),Ee=Math.ceil(we.actualBoundingBoxRight+we.actualBoundingBoxLeft),Me=Math.ceil(we.actualBoundingBoxAscent+we.actualBoundingBoxDescent),Qe=2,Xe=we.actualBoundingBoxLeft+Qe,Ne=we.actualBoundingBoxAscent+Qe;Ee+=Qe+Qe,Me+=Qe+Qe,fe=new OffscreenCanvas(Ee,Me),he=fe.getContext("2d"),he.font=ce,he.fillStyle=X,he.fillText(w,Xe,Ne);var st=1/Z;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[st,0,0,st,-Ee*st/2,-Me*st/2]}}n.exports=function(){return ue().apply(this,arguments)},n.exports.reset=function(){ue().reset()},n.exports.create=ht,n.exports.shapeFromPath=_e,n.exports.shapeFromText=Ge})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Jo,!1);const J2=Jo.exports;Jo.exports.create;const ja=20,eO=()=>{const r=G.useRef(null),e=G.useRef(null),[n,s]=G.useState(!1),[l,u]=G.useState(0),[f,m]=G.useState(0),[p,y]=G.useState(0),[E,R]=G.useState(null);G.useEffect(()=>{const se=setInterval(()=>{l>0&&u(le=>{const ge=Math.min(le-1,ja);return E&&rE(E,ge),ge})},36e4);return()=>clearInterval(se)},[l,E]),G.useEffect(()=>{const se=B0(),le=yg(se,ge=>{ge?(R(ge.uid),H0(ge.uid).then(y),X2(ge.uid).then(u)):R(null)});return()=>le()},[]);const D=G.useCallback(()=>{const se=r.current;se&&(se.width=window.innerWidth*.9,se.height=window.innerHeight*.6,V())},[]),V=G.useCallback(()=>{const se=r.current,le=e.current;se&&le&&(le.fillStyle="gray",le.fillRect(0,0,se.width,se.height))},[]),B=G.useCallback((se,le)=>{const ge=r.current,M=e.current;ge&&M&&(M.globalCompositeOperation="destination-out",M.beginPath(),M.arc(se,le,40,0,Math.PI*2),M.fill(),M.globalCompositeOperation="source-over")},[]),Y=G.useCallback(()=>{const se=r.current,le=e.current;if(se&&le){const M=le.getImageData(0,0,se.width,se.height).data;let C=0;for(let b=3;b<M.length;b+=4)M[b]===0&&C++;return C/(se.width*se.height)*100}return 0},[]),U=G.useCallback(()=>{J2({particleCount:400,angle:0,spread:360,origin:{x:.5,y:.5}})},[]),$=G.useCallback(se=>{s(!0);const{clientX:le,clientY:ge}=se.touches?se.touches[0]:se,M=r.current.getBoundingClientRect();B(le-M.left,ge-M.top)},[B]),re=G.useCallback(se=>{if(n){const{clientX:le,clientY:ge}=se.touches?se.touches[0]:se,M=r.current.getBoundingClientRect();B(le-M.left,ge-M.top);const C=Y();m(C),C>=80&&l<ja&&(u(b=>{const O=Math.min(b+1,ja);return O<=ja&&y(x=>{const z=x+1;return E&&($2(E,z),rE(E,O)),z}),O}),U())}},[n,B,Y,E,U,l]),te=G.useCallback(()=>{s(!1)},[]);return G.useEffect(()=>{const se=r.current;if(!se)return;const le=se.getContext("2d");if(le)return e.current=le,D(),se.addEventListener("mousedown",$),se.addEventListener("mousemove",re),se.addEventListener("mouseup",te),se.addEventListener("touchstart",$),se.addEventListener("touchmove",re),se.addEventListener("touchend",te),()=>{se.removeEventListener("mousedown",$),se.removeEventListener("mousemove",re),se.removeEventListener("mouseup",te),se.removeEventListener("touchstart",$),se.removeEventListener("touchmove",re),se.removeEventListener("touchend",te)}},[$,re,te,D]),ye.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gray-50",children:[ye.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6 text-center",children:"Заработайте PencilCoins, стирая!"}),ye.jsxs("p",{className:"text-xl mb-4 text-gray-800",children:["Ваши монеты: ",p]}),ye.jsxs("p",{className:"text-xl mb-4 text-gray-800",children:["Доступные монеты: ",ja-l," / ",ja]}),ye.jsx("div",{className:"w-1/3 bg-gray-200 rounded-full h-4 mb-4 inline-block",children:ye.jsx("div",{className:"bg-yellow-400 h-4 rounded-full",style:{width:`${f*1.25}%`}})}),ye.jsxs("p",{className:"text-xl mb-4 text-gray-800",children:["Прогресс: ",(f*1.25).toFixed(2),"% / 100%"]}),ye.jsx("canvas",{ref:r,className:"border border-black bg-gray-300",style:{width:"90%",height:"60%"}})]})},tO=()=>ye.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[ye.jsx("h2",{className:"text-4xl font-bold text-center",children:"Eror 404! Страница не найдена."}),ye.jsx("p",{className:"mt-2 text-lg",children:ye.jsx(Link,{to:"/PCoin/",children:"Перейти на главную страницу"})})]}),nO=()=>{const[r,e]=G.useState(!1);return ye.jsxs("div",{className:"h-screen bg-gray-900 text-white flex flex-col",children:[ye.jsxs("nav",{className:"p-4 bg-gray-800 flex justify-between items-center px-4 sm:px-10",children:[ye.jsx("h1",{className:"text-xl font-bold sm:block",children:ye.jsx("img",{src:"logot.png",alt:"logo",className:"h-6"})}),ye.jsxs("div",{className:"flex space-x-6",children:[ye.jsx("div",{className:"relative flex items-center",onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),children:ye.jsxs(wo,{to:"/PCoin/mining",className:"flex items-center hover:text-yellow-400 transform transition-transform hover:scale-105",children:[ye.jsx("img",{src:"mine.png",className:"w-6 h-6 rounded-full transition-transform duration-300 filter invert",alt:"Get Coins Icon"}),ye.jsx("span",{className:"ml-2 hidden sm:block",children:"Get Coins"})]})}),ye.jsxs(wo,{to:"/PCoin/",className:"flex items-center hover:text-yellow-400 transform transition-transform hover:scale-105",children:[ye.jsx("img",{src:"home.png",className:"w-6 h-6 rounded-full transition-transform duration-300 filter invert",alt:"Home Icon"}),ye.jsx("span",{className:"ml-2 hidden sm:block",children:"Home"})]}),ye.jsxs(wo,{to:"/PCoin/profile",className:"flex items-center hover:text-yellow-400 transform transition-transform hover:scale-105",children:[ye.jsx("img",{src:"profile.png",className:"w-6 h-6 rounded-full transition-transform duration-300 filter invert",alt:"Profile Icon"}),ye.jsx("span",{className:"ml-2 hidden sm:block",children:"Profile"})]})]})]}),ye.jsx("main",{className:"flex-grow",children:ye.jsxs(gb,{children:[ye.jsx(Ha,{path:"/PCoin/",element:ye.jsx($b,{})}),ye.jsx(Ha,{path:"/PCoin/profile",element:ye.jsx(W2,{})}),ye.jsx(Ha,{path:"/PCoin/auth",element:ye.jsx(Z2,{})}),ye.jsx(Ha,{path:"/PCoin/mining",element:ye.jsx(eO,{})}),ye.jsx(Ha,{path:"*",element:ye.jsx(tO,{})})]})})]})};wS.createRoot(document.getElementById("root")).render(ye.jsx(yS.StrictMode,{basename:"/PCoin",children:ye.jsx(zb,{children:ye.jsx(nO,{})})}))});export default iO();
